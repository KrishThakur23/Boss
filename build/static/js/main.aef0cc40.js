/*! For license information please see main.aef0cc40.js.LICENSE.txt */
(()=>{var e={43:(e,t,s)=>{"use strict";e.exports=s(202)},45:(e,t,s)=>{var r=s(738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},92:e=>{"use strict";e.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}},125:e=>{"use strict";e.exports={rE:"6.0.1"}},146:(e,t,s)=>{"use strict";var r=s(897).default;const n=s(125).rE,a=s(706);e.exports=r(r({},a),{},{workerPath:"https://cdn.jsdelivr.net/npm/tesseract.js@v".concat(n,"/dist/worker.min.js")})},153:(e,t,s)=>{"use strict";var r=s(43),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,s){var r,a={},c=null,d=null;for(r in void 0!==s&&(c=""+s),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:n,type:e,key:c,ref:d,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},163:(e,t,s)=>{"use strict";const r=s(343);e.exports={recognize:async(e,t,s)=>{const n=await r(t,1,s);return n.recognize(e).finally(async()=>{await n.terminate()})},detect:async(e,t)=>{const s=await r("osd",0,t);return s.detect(e).finally(async()=>{await s.terminate()})}}},171:e=>{"use strict";e.exports=(e,t)=>{e.onmessage=e=>{let{data:s}=e;t(s)}}},202:(e,t)=>{"use strict";var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function v(e,t,s){this.props=e,this.context=t,this.refs=g,this.updater=s||p}function x(){}function y(e,t,s){this.props=e,this.context=t,this.refs=g,this.updater=s||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=v.prototype;var j=y.prototype=new x;j.constructor=y,f(j,v.prototype),j.isPureReactComponent=!0;var b=Array.isArray,w=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var n,a={},i=null,o=null;if(null!=t)for(n in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,n)&&!k.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===a[n]&&(a[n]=l[n]);return{$$typeof:s,type:e,key:i,ref:o,props:a,_owner:N.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===s}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,n,a,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case s:case r:l=!0}}if(l)return i=i(l=e),e=""===a?"."+E(l,0):a,b(i)?(n="",null!=e&&(n=e.replace(C,"$&/")+"/"),P(i,t,n,"",function(e){return e})):null!=i&&(S(i)&&(i=function(e,t){return{$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(l=0,a=""===a?".":a+":",b(e))for(var c=0;c<e.length;c++){var d=a+E(o=e[c],c);l+=P(o,t,n,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=P(o=o.value,t,n,d=a+E(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,s){if(null==e)return e;var r=[],n=0;return P(e,r,"","",function(e){return t.call(s,e,n++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},I={transition:null},A={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:I,ReactCurrentOwner:N};function q(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,s){T(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=n,t.Profiler=i,t.PureComponent=y,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.act=q,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=f({},e.props),a=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=N.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!k.hasOwnProperty(c)&&(n[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:s,type:e.type,key:a,ref:i,props:n,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=q,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,s){return R.current.useImperativeHandle(e,t,s)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,s){return R.current.useReducer(e,t,s)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,s){return R.current.useSyncExternalStore(e,t,s)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},210:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(s(829)),a=r(s(736)),i=s(745);class o{constructor(e){let{headers:t={},schema:s,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),t),this.schemaName=s,this.fetch=r}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new n.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:n=!1,count:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new URL("".concat(this.url,"/rpc/").concat(e));let l;r||n?(t=r?"HEAD":"GET",Object.entries(s).filter(e=>{let[t,s]=e;return void 0!==s}).map(e=>{let[t,s]=e;return[t,Array.isArray(s)?"{".concat(s.join(","),"}"):"".concat(s)]}).forEach(e=>{let[t,s]=e;o.searchParams.append(t,s)})):(t="POST",l=s);const c=Object.assign({},this.headers);return i&&(c.Prefer="count=".concat(i)),new a.default({method:t,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=o},234:(e,t)=>{"use strict";function s(e,t){var s=e.length;e.push(t);e:for(;0<s;){var r=s-1>>>1,n=e[r];if(!(0<a(n,t)))break e;e[r]=t,e[s]=n,s=r}}function r(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],s=e.pop();if(s!==t){e[0]=s;e:for(var r=0,n=e.length,i=n>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>a(l,s))c<n&&0>a(d,l)?(e[r]=d,e[c]=s,r=c):(e[r]=l,e[o]=s,r=o);else{if(!(c<n&&0>a(d,s)))break e;e[r]=d,e[c]=s,r=c}}}return t}function a(e,t){var s=e.sortIndex-t.sortIndex;return 0!==s?s:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,p=!1,f=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function j(e){for(var t=r(d);null!==t;){if(null===t.callback)n(d);else{if(!(t.startTime<=e))break;n(d),t.sortIndex=t.expirationTime,s(c,t)}t=r(d)}}function b(e){if(g=!1,j(e),!f)if(null!==r(c))f=!0,I(w);else{var t=r(d);null!==t&&A(b,t.startTime-e)}}function w(e,s){f=!1,g&&(g=!1,x(S),S=-1),p=!0;var a=m;try{for(j(s),h=r(c);null!==h&&(!(h.expirationTime>s)||e&&!P());){var i=h.callback;if("function"===typeof i){h.callback=null,m=h.priorityLevel;var o=i(h.expirationTime<=s);s=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&n(c),j(s)}else n(c);h=r(c)}if(null!==h)var l=!0;else{var u=r(d);null!==u&&A(b,u.startTime-s),l=!1}return l}finally{h=null,m=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,_=null,S=-1,C=5,E=-1;function P(){return!(t.unstable_now()-E<C)}function T(){if(null!==_){var e=t.unstable_now();E=e;var s=!0;try{s=_(!0,e)}finally{s?N():(k=!1,_=null)}}else k=!1}if("function"===typeof y)N=function(){y(T)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,R=O.port2;O.port1.onmessage=T,N=function(){R.postMessage(null)}}else N=function(){v(T,0)};function I(e){_=e,k||(k=!0,N())}function A(e,s){S=v(function(){e(t.unstable_now())},s)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,I(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var s=m;m=t;try{return e()}finally{m=s}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var s=m;m=e;try{return t()}finally{m=s}},t.unstable_scheduleCallback=function(e,n,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:n,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>i?(e.sortIndex=a,s(d,e),null===r(c)&&e===r(d)&&(g?(x(S),S=-1):g=!0,A(b,a-i))):(e.sortIndex=o,s(c,e),f||p||(f=!0,I(w))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=m;return function(){var s=m;m=t;try{return e.apply(this,arguments)}finally{m=s}}}},246:e=>{"use strict";const t=e=>new Promise((t,s)=>{const r=new FileReader;r.onload=()=>{t(r.result)},r.onerror=e=>{let{target:{error:{code:t}}}=e;s(Error("File could not be read! Code=".concat(t)))},r.readAsArrayBuffer(e)}),s=async e=>{let r=e;if("undefined"===typeof e)return"undefined";if("string"===typeof e)if(/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e))r=atob(e.split(",")[1]).split("").map(e=>e.charCodeAt(0));else{const t=await fetch(e);r=await t.arrayBuffer()}else if("undefined"!==typeof HTMLElement&&e instanceof HTMLElement)"IMG"===e.tagName&&(r=await s(e.src)),"VIDEO"===e.tagName&&(r=await s(e.poster)),"CANVAS"===e.tagName&&await new Promise(s=>{e.toBlob(async e=>{r=await t(e),s()})});else if("undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas){const s=await e.convertToBlob();r=await t(s)}else(e instanceof File||e instanceof Blob)&&(r=await t(e));return new Uint8Array(r)};e.exports=s},257:(e,t,s)=>{"use strict";var r=s(897).default;const n=s(432),a=s(343),i=s(163),o=s(92),l=s(600),c=s(783),{setLogging:d}=s(597);e.exports=r({languages:o,OEM:l,PSM:c,createScheduler:n,createWorker:a,setLogging:d},i)},282:e=>{"use strict";e.exports=e=>{let t,{workerPath:s,workerBlobURL:r}=e;if(Blob&&URL&&r){const e=new Blob(['importScripts("'.concat(s,'");')],{type:"application/javascript"});t=new Worker(URL.createObjectURL(e))}else t=new Worker(s);return t}},286:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(s(630)),a=r(s(611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let s=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,s,r;let n=null,i=null,o=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(i="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),a=null===(s=e.headers.get("content-range"))||void 0===s?void 0:s.split("/");r&&a&&a.length>1&&(o=parseInt(a[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(n={code:"PGRST116",details:"Results contain ".concat(i.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,o=null,l=406,c="Not Acceptable"):i=1===i.length?i[0]:null)}else{const t=await e.text();try{n=JSON.parse(t),Array.isArray(n)&&404===e.status&&(i=[],n=null,l=200,c="OK")}catch(d){404===e.status&&""===t?(l=204,c="No Content"):n={message:t}}if(n&&this.isMaybeSingle&&(null===(r=null===n||void 0===n?void 0:n.details)||void 0===r?void 0:r.includes("0 rows"))&&(n=null,l=200,c="OK"),n&&this.shouldThrowOnError)throw new a.default(n)}return{error:n,data:i,count:o,status:l,statusText:c}});return this.shouldThrowOnError||(s=s.catch(e=>{var t,s,r;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(s=null===e||void 0===e?void 0:e.stack)&&void 0!==s?s:""),hint:"",code:"".concat(null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:"")},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}}},343:(e,t,s)=>{"use strict";var r=s(897).default,n=s(847).default;const a=["logger","errorHandler"],i=s(599),o=s(362),{log:l}=s(597),c=s(674),d=s(600),{defaultOptions:u,spawnWorker:h,terminateWorker:m,onMessage:p,loadImage:f,send:g}=s(919);let v=0;e.exports=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.LSTM_ONLY,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},x=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const y=c("Worker",v),j=i(r(r({},u),s)),{logger:b,errorHandler:w}=j,N=n(j,a),k={},_="string"===typeof e?e.split("+"):e;let S=t,C=x;const E=[d.DEFAULT,d.LSTM_ONLY].includes(t)&&!N.legacyCore;let P,T;const O=new Promise((e,t)=>{T=e,P=t});let R=h(N);R.onerror=e=>{P(e.message)},v+=1;const I=e=>{let{id:t,action:s,payload:r}=e;return new Promise((e,n)=>{l("[".concat(y,"]: Start ").concat(t,", action=").concat(s));const a="".concat(s,"-").concat(t);k[a]={resolve:e,reject:n},g(R,{workerId:y,jobId:t,action:s,payload:r})})},A=(e,t)=>I(o({id:t,action:"loadLanguage",payload:{langs:e,options:{langPath:N.langPath,dataPath:N.dataPath,cachePath:N.cachePath,cacheMethod:N.cacheMethod,gzip:N.gzip,lstmOnly:[d.DEFAULT,d.LSTM_ONLY].includes(S)&&!N.legacyLang}}})),q=(e,t,s,r)=>I(o({id:r,action:"initialize",payload:{langs:e,oem:t,config:s}}));p(R,e=>{let{workerId:t,jobId:s,status:n,action:a,data:i}=e;const o="".concat(a,"-").concat(s);if("resolve"===n)l("[".concat(t,"]: Complete ").concat(s)),k[o].resolve({jobId:s,data:i}),delete k[o];else if("reject"===n){if(k[o].reject(i),delete k[o],"load"===a&&P(i),!w)throw Error(i);w(i)}else"progress"===n&&b(r(r({},i),{},{userJobId:s}))});const D={id:y,worker:R,load:()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),writeText:(e,t,s)=>I(o({id:s,action:"FS",payload:{method:"writeFile",args:[e,t]}})),readText:(e,t)=>I(o({id:t,action:"FS",payload:{method:"readFile",args:[e,{encoding:"utf8"}]}})),removeFile:(e,t)=>I(o({id:t,action:"FS",payload:{method:"unlink",args:[e]}})),FS:(e,t,s)=>I(o({id:s,action:"FS",payload:{method:e,args:t}})),reinitialize:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",t=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(E&&[d.TESSERACT_ONLY,d.TESSERACT_LSTM_COMBINED].includes(t))throw Error("Legacy model requested but code missing.");const n=t||S;S=n;const a=s||C;C=a;const i=("string"===typeof e?e.split("+"):e).filter(e=>!_.includes(e));return _.push(...i),i.length>0?A(i,r).then(()=>q(e,n,a,r)):q(e,n,a,r)},setParameters:function(){return I(o({id:arguments.length>1?arguments[1]:void 0,action:"setParameters",payload:{params:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}))},recognize:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{text:!0};return I(o({id:arguments.length>3?arguments[3]:void 0,action:"recognize",payload:{image:await f(e),options:t,output:s}}))},detect:async(e,t)=>{if(E)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return I(o({id:t,action:"detect",payload:{image:await f(e)}}))},terminate:async()=>(null!==R&&(m(R),R=null),Promise.resolve())};var M;return I(o({id:M,action:"load",payload:{options:{lstmOnly:E,corePath:N.corePath,logging:N.logging}}})).then(()=>A(e)).then(()=>q(e,t,x)).then(()=>T(D)).catch(()=>{}),O}},355:(e,t,s)=>{var r=s(738).default,n=s(45);e.exports=function(e){var t=n(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},362:(e,t,s)=>{"use strict";const r=s(674);let n=0;e.exports=e=>{let{id:t,action:s,payload:a={}}=e,i=t;return"undefined"===typeof i&&(i=r("Job",n),n+=1),{id:i,action:s,payload:a}}},374:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(s(286));class a extends n.default{select(e){let t=!1;const s=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:s,foreignTable:r,referencedTable:n=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=n?"".concat(n,".order"):"order",i=this.url.searchParams.get(a);return this.url.searchParams.set(a,"".concat(i?"".concat(i,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===s?"":s?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:s=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof s?"limit":"".concat(s,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:s,referencedTable:r=s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n="undefined"===typeof r?"offset":"".concat(r,".offset"),a="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(n,"".concat(e)),this.url.searchParams.set(a,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:s=!1,buffers:r=!1,wal:n=!1,format:a="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i;const o=[e?"analyze":null,t?"verbose":null,s?"settings":null,r?"buffers":null,n?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.Accept)&&void 0!==i?i:"application/json";return this.headers.Accept="application/vnd.pgrst.plan+".concat(a,'; for="').concat(l,'"; options=').concat(o,";"),this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=a},391:(e,t,s)=>{"use strict";var r=s(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},400:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},432:function(e,t,s){"use strict";const r=s(362),{log:n}=s(597),a=s(674);let i=0;e.exports=()=>{const e=a("Scheduler",i),t={},s={};let o=[];i+=1;const l=()=>Object.keys(t).length,c=()=>{if(0!==o.length){const e=Object.keys(t);for(let r=0;r<e.length;r+=1)if("undefined"===typeof s[e[r]]){o[0](t[e[r]]);break}}},d=(t,a)=>new Promise((i,l)=>{const d=r({action:t,payload:a});o.push(async e=>{o.shift(),s[e.id]=d;try{i(await e[t].apply(this,[...a,d.id]))}catch(r){l(r)}finally{delete s[e.id],c()}}),n("[".concat(e,"]: Add ").concat(d.id," to JobQueue")),n("[".concat(e,"]: JobQueue length=").concat(o.length)),c()});return{addWorker:s=>(t[s.id]=s,n("[".concat(e,"]: Add ").concat(s.id)),n("[".concat(e,"]: Number of workers=").concat(l())),c(),s.id),addJob:async function(t){if(0===l())throw Error("[".concat(e,"]: You need to have at least one worker before adding jobs"));for(var s=arguments.length,r=new Array(s>1?s-1:0),n=1;n<s;n++)r[n-1]=arguments[n];return d(t,r)},terminate:async()=>{Object.keys(t).forEach(async e=>{await t[e].terminate()}),o=[]},getQueueLen:()=>o.length,getNumWorkers:l}}},579:(e,t,s)=>{"use strict";e.exports=s(153)},597:function(e,t){"use strict";var s=this;let r=!1;t.logging=r,t.setLogging=e=>{r=e},t.log=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r?console.log.apply(s,t):null}},599:(e,t,s)=>{"use strict";var r=s(897).default;const n="browser"===s(734)("type")?e=>new URL(e,window.location.href).href:e=>e;e.exports=e=>{const t=r({},e);return["corePath","workerPath","langPath"].forEach(s=>{e[s]&&(t[s]=n(t[s]))}),t}},600:e=>{"use strict";e.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=s},630:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Headers:()=>i,Request:()=>o,Response:()=>l,default:()=>a,fetch:()=>n});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof s.g)return s.g;throw new Error("unable to locate global object")}();const n=r.fetch,a=r.fetch.bind(r),i=r.Headers,o=r.Request,l=r.Response},674:e=>{"use strict";e.exports=(e,t)=>"".concat(e,"-").concat(t,"-").concat(Math.random().toString(16).slice(3,8))},677:e=>{"use strict";e.exports=async(e,t)=>{e.postMessage(t)}},693:(e,t,s)=>{var r=s(355);e.exports=function(e,t,s){return(t=r(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e},e.exports.__esModule=!0,e.exports.default=e.exports},706:e=>{"use strict";e.exports={workerBlobURL:!0,logger:()=>{}}},730:(e,t,s)=>{"use strict";var r=s(43),n=s(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function f(e,t,s,r,n,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}function y(e,t,s,r){var n=g.hasOwnProperty(t)?g[t]:null;(null!==n?0!==n.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,s,r){if(null===t||"undefined"===typeof t||function(e,t,s,r){if(null!==s&&0===s.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==s?!s.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,s,r))return!0;if(r)return!1;if(null!==s)switch(s.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,s,n,r)&&(s=null),r||null===n?function(e){return!!u.call(p,e)||!u.call(m,e)&&(h.test(e)?p[e]=!0:(m[e]=!0,!1))}(t)&&(null===s?e.removeAttribute(t):e.setAttribute(t,""+s)):n.mustUseProperty?e[n.propertyName]=null===s?3!==n.type&&"":s:(t=n.attributeName,r=n.attributeNamespace,null===s?e.removeAttribute(t):(s=3===(n=n.type)||4===n&&!0===s?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,x);g[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,x);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,x);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var j=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var D,M=Object.assign;function L(e){if(void 0===D)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var n=c.stack.split("\n"),a=r.stack.split("\n"),i=n.length-1,o=a.length-1;1<=i&&0<=o&&n[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(n[i]!==a[o]){if(1!==i||1!==o)do{if(i--,0>--o||n[i]!==a[o]){var l="\n"+n[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?L(e):""}function z(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case w:return"Portal";case _:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(s){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof s&&"function"===typeof s.get&&"function"===typeof s.set){var n=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==s&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var s=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=s?s:e._wrapperState.initialChecked})}function $(e,t){var s=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;s=H(null!=t.value?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function X(e,t){J(e,t);var s=H(t.value),r=t.type;if(null!=s)"number"===r?(0===s&&""===e.value||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,s):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}""!==(s=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==s&&(e.name=s)}function ee(e,t,s){"number"===t&&K(e.ownerDocument)===e||(null==s?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var te=Array.isArray;function se(e,t,s,r){if(e=e.options,t){t={};for(var n=0;n<s.length;n++)t["$"+s[n]]=!0;for(s=0;s<e.length;s++)n=t.hasOwnProperty("$"+e[s].value),e[s].selected!==n&&(e[s].selected=n),n&&r&&(e[s].defaultSelected=!0)}else{for(s=""+H(s),t=null,n=0;n<e.length;n++){if(e[n].value===s)return e[n].selected=!0,void(r&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ne(e,t){var s=t.value;if(null==s){if(s=t.children,t=t.defaultValue,null!=s){if(null!=t)throw Error(a(92));if(te(s)){if(1<s.length)throw Error(a(93));s=s[0]}t=s}null==t&&(t=""),s=t}e._wrapperState={initialValue:H(s)}}function ae(e,t){var s=H(t.value),r=H(t.defaultValue);null!=s&&((s=""+s)!==e.value&&(e.value=s),null==t.defaultValue&&e.defaultValue!==s&&(e.defaultValue=s)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,s,r){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function he(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&3===s.nodeType)return void(s.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function fe(e,t,s){return null==t||"boolean"===typeof t||""===t?"":s||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ge(e,t){for(var s in e=e.style,t)if(t.hasOwnProperty(s)){var r=0===s.indexOf("--"),n=fe(s,t[s],r);"float"===s&&(s="cssFloat"),r?e.setProperty(s,n):e[s]=n}}Object.keys(me).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var je=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ne=null,ke=null;function _e(e){if(e=yn(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=bn(t),we(e.stateNode,e.type,t))}}function Se(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function Ce(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ee(e,t){return e(t)}function Pe(){}var Te=!1;function Oe(e,t,s){if(Te)return e(t,s);Te=!0;try{return Ee(e,t,s)}finally{Te=!1,(null!==Ne||null!==ke)&&(Pe(),Ce())}}function Re(e,t){var s=e.stateNode;if(null===s)return null;var r=bn(s);if(null===r)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(s&&"function"!==typeof s)throw Error(a(231,t,typeof s));return s}var Ie=!1;if(d)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(de){Ie=!1}function qe(e,t,s,r,n,a,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(s,c)}catch(d){this.onError(d)}}var De=!1,Me=null,Le=!1,Fe=null,Ue={onError:function(e){De=!0,Me=e}};function ze(e,t,s,r,n,a,i,o,l){De=!1,Me=null,qe.apply(Ue,arguments)}function Be(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(s=t.return),e=t.return}while(e)}return 3===t.tag?s:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(a(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var s=e,r=t;;){var n=s.return;if(null===n)break;var i=n.alternate;if(null===i){if(null!==(r=n.return)){s=r;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===s)return He(n),e;if(i===r)return He(n),t;i=i.sibling}throw Error(a(188))}if(s.return!==r.return)s=n,r=i;else{for(var o=!1,l=n.child;l;){if(l===s){o=!0,s=n,r=i;break}if(l===r){o=!0,r=n,s=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===s){o=!0,s=i,r=n;break}if(l===r){o=!0,r=i,s=n;break}l=l.sibling}if(!o)throw Error(a(189))}}if(s.alternate!==r)throw Error(a(190))}if(3!==s.tag)throw Error(a(188));return s.stateNode.current===s?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ye=n.unstable_scheduleCallback,Ke=n.unstable_cancelCallback,Qe=n.unstable_shouldYield,$e=n.unstable_requestPaint,Je=n.unstable_now,Xe=n.unstable_getCurrentPriorityLevel,Ze=n.unstable_ImmediatePriority,et=n.unstable_UserBlockingPriority,tt=n.unstable_NormalPriority,st=n.unstable_LowPriority,rt=n.unstable_IdlePriority,nt=null,at=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var s=e.pendingLanes;if(0===s)return 0;var r=0,n=e.suspendedLanes,a=e.pingedLanes,i=268435455&s;if(0!==i){var o=i&~n;0!==o?r=ut(o):0!==(a&=i)&&(r=ut(a))}else 0!==(i=s&~n)?r=ut(i):0!==a&&(r=ut(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&n)&&((n=r&-r)>=(a=t&-t)||16===n&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&s),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)n=1<<(s=31-it(t)),r|=e[s],t&=~n;return r}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function vt(e,t,s){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=s}function xt(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-it(s),n=1<<r;n&t|e[r]&t&&(e[r]|=t),s&=~n}}var yt=0;function jt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,Nt,kt,_t,St=!1,Ct=[],Et=null,Pt=null,Tt=null,Ot=new Map,Rt=new Map,It=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Dt(e,t,s,r,n,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:a,targetContainers:[n]},null!==t&&(null!==(t=yn(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function Mt(e){var t=xn(e.target);if(null!==t){var s=Be(t);if(null!==s)if(13===(t=s.tag)){if(null!==(t=We(s)))return e.blockedOn=t,void _t(e.priority,function(){Nt(s)})}else if(3===t&&s.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===s.tag?s.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var s=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==s)return null!==(t=yn(s))&&wt(t),e.blockedOn=s,!1;var r=new(s=e.nativeEvent).constructor(s.type,s);je=r,s.target.dispatchEvent(r),je=null,t.shift()}return!0}function Ft(e,t,s){Lt(e)&&s.delete(t)}function Ut(){St=!1,null!==Et&&Lt(Et)&&(Et=null),null!==Pt&&Lt(Pt)&&(Pt=null),null!==Tt&&Lt(Tt)&&(Tt=null),Ot.forEach(Ft),Rt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var s=1;s<Ct.length;s++){var r=Ct[s];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&zt(Et,e),null!==Pt&&zt(Pt,e),null!==Tt&&zt(Tt,e),Ot.forEach(t),Rt.forEach(t),s=0;s<It.length;s++)(r=It[s]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(s=It[0]).blockedOn;)Mt(s),null===s.blockedOn&&It.shift()}var Wt=j.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,s,r){var n=yt,a=Wt.transition;Wt.transition=null;try{yt=1,Yt(e,t,s,r)}finally{yt=n,Wt.transition=a}}function Gt(e,t,s,r){var n=yt,a=Wt.transition;Wt.transition=null;try{yt=4,Yt(e,t,s,r)}finally{yt=n,Wt.transition=a}}function Yt(e,t,s,r){if(Ht){var n=Qt(e,t,s,r);if(null===n)Wr(e,t,r,Kt,s),qt(e,r);else if(function(e,t,s,r,n){switch(t){case"focusin":return Et=Dt(Et,e,t,s,r,n),!0;case"dragenter":return Pt=Dt(Pt,e,t,s,r,n),!0;case"mouseover":return Tt=Dt(Tt,e,t,s,r,n),!0;case"pointerover":var a=n.pointerId;return Ot.set(a,Dt(Ot.get(a)||null,e,t,s,r,n)),!0;case"gotpointercapture":return a=n.pointerId,Rt.set(a,Dt(Rt.get(a)||null,e,t,s,r,n)),!0}return!1}(n,e,t,s,r))r.stopPropagation();else if(qt(e,r),4&t&&-1<At.indexOf(e)){for(;null!==n;){var a=yn(n);if(null!==a&&bt(a),null===(a=Qt(e,t,s,r))&&Wr(e,t,r,Kt,s),a===n)break;n=a}null!==n&&r.stopPropagation()}else Wr(e,t,r,null,s)}}var Kt=null;function Qt(e,t,s,r){if(Kt=null,null!==(e=xn(e=be(r))))if(null===(t=Be(e)))e=null;else if(13===(s=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===s){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case st:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function es(){if(Zt)return Zt;var e,t,s=Xt,r=s.length,n="value"in Jt?Jt.value:Jt.textContent,a=n.length;for(e=0;e<r&&s[e]===n[e];e++);var i=r-e;for(t=1;t<=i&&s[r-t]===n[a-t];t++);return Zt=n.slice(e,1<t?1-t:void 0)}function ts(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ss(){return!0}function rs(){return!1}function ns(e){function t(t,s,r,n,a){for(var i in this._reactName=t,this._targetInst=r,this.type=s,this.nativeEvent=n,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(n):n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ss:rs,this.isPropagationStopped=rs,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),t}var as,is,os,ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=ns(ls),ds=M({},ls,{view:0,detail:0}),us=ns(ds),hs=M({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==os&&(os&&"mousemove"===e.type?(as=e.screenX-os.screenX,is=e.screenY-os.screenY):is=as=0,os=e),as)},movementY:function(e){return"movementY"in e?e.movementY:is}}),ms=ns(hs),ps=ns(M({},hs,{dataTransfer:0})),fs=ns(M({},ds,{relatedTarget:0})),gs=ns(M({},ls,{animationName:0,elapsedTime:0,pseudoElement:0})),vs=M({},ls,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xs=ns(vs),ys=ns(M({},ls,{data:0})),js={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ws={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ns(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ws[e])&&!!t[e]}function ks(){return Ns}var _s=M({},ds,{key:function(e){if(e.key){var t=js[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ts(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bs[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(e){return"keypress"===e.type?ts(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ts(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ss=ns(_s),Cs=ns(M({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Es=ns(M({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks})),Ps=ns(M({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ts=M({},hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Os=ns(Ts),Rs=[9,13,27,32],Is=d&&"CompositionEvent"in window,As=null;d&&"documentMode"in document&&(As=document.documentMode);var qs=d&&"TextEvent"in window&&!As,Ds=d&&(!Is||As&&8<As&&11>=As),Ms=String.fromCharCode(32),Ls=!1;function Fs(e,t){switch(e){case"keyup":return-1!==Rs.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Us(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zs=!1;var Bs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ws(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bs[e.type]:"textarea"===t}function Hs(e,t,s,r){Se(r),0<(t=Vr(t,"onChange")).length&&(s=new cs("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var Vs=null,Gs=null;function Ys(e){Mr(e,0)}function Ks(e){if(Y(jn(e)))return e}function Qs(e,t){if("change"===e)return t}var $s=!1;if(d){var Js;if(d){var Xs="oninput"in document;if(!Xs){var Zs=document.createElement("div");Zs.setAttribute("oninput","return;"),Xs="function"===typeof Zs.oninput}Js=Xs}else Js=!1;$s=Js&&(!document.documentMode||9<document.documentMode)}function er(){Vs&&(Vs.detachEvent("onpropertychange",tr),Gs=Vs=null)}function tr(e){if("value"===e.propertyName&&Ks(Gs)){var t=[];Hs(t,Gs,e,be(e)),Oe(Ys,t)}}function sr(e,t,s){"focusin"===e?(er(),Gs=s,(Vs=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ks(Gs)}function nr(e,t){if("click"===e)return Ks(t)}function ar(e,t){if("input"===e||"change"===e)return Ks(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var n=s[r];if(!u.call(t,n)||!ir(e[n],t[n]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var s,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ur(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var s="string"===typeof t.contentWindow.location.href}catch(r){s=!1}if(!s)break;t=K((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=ur(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&dr(s.ownerDocument.documentElement,s)){if(null!==r&&hr(s))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if((e=(t=s.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var n=s.textContent.length,a=Math.min(r.start,n);r=void 0===r.end?a:Math.min(r.end,n),!e.extend&&a>r&&(n=r,r=a,a=n),n=cr(s,a);var i=cr(s,r);n&&i&&(1!==e.rangeCount||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(n.node,n.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=s;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<t.length;s++)(e=t[s]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=d&&"documentMode"in document&&11>=document.documentMode,fr=null,gr=null,vr=null,xr=!1;function yr(e,t,s){var r=s.window===s?s.document:9===s.nodeType?s:s.ownerDocument;xr||null==fr||fr!==K(r)||("selectionStart"in(r=fr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&or(vr,r)||(vr=r,0<(r=Vr(gr,"onSelect")).length&&(t=new cs("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=fr)))}function jr(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var br={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionend:jr("Transition","TransitionEnd")},wr={},Nr={};function kr(e){if(wr[e])return wr[e];if(!br[e])return e;var t,s=br[e];for(t in s)if(s.hasOwnProperty(t)&&t in Nr)return wr[e]=s[t];return e}d&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var _r=kr("animationend"),Sr=kr("animationiteration"),Cr=kr("animationstart"),Er=kr("transitionend"),Pr=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Pr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Tr.length;Rr++){var Ir=Tr[Rr];Or(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Or(_r,"onAnimationEnd"),Or(Sr,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Er,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ar));function Dr(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,function(e,t,s,r,n,i,o,l,c){if(ze.apply(this,arguments),De){if(!De)throw Error(a(198));var d=Me;De=!1,Me=null,Le||(Le=!0,Fe=d)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var s=0;s<e.length;s++){var r=e[s],n=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&n.isPropagationStopped())break e;Dr(n,o,c),a=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==a&&n.isPropagationStopped())break e;Dr(n,o,c),a=l}}}if(Le)throw e=Fe,Le=!1,Fe=null,e}function Lr(e,t){var s=t[fn];void 0===s&&(s=t[fn]=new Set);var r=e+"__bubble";s.has(r)||(Br(t,e,2,!1),s.add(r))}function Fr(e,t,s){var r=0;t&&(r|=4),Br(s,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Ur]){e[Ur]=!0,i.forEach(function(t){"selectionchange"!==t&&(qr.has(t)||Fr(t,!1,e),Fr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Fr("selectionchange",!1,t))}}function Br(e,t,s,r){switch($t(t)){case 1:var n=Vt;break;case 4:n=Gt;break;default:n=Yt}s=n.bind(null,t,s,e),n=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),r?void 0!==n?e.addEventListener(t,s,{capture:!0,passive:n}):e.addEventListener(t,s,!0):void 0!==n?e.addEventListener(t,s,{passive:n}):e.addEventListener(t,s,!1)}function Wr(e,t,s,r,n){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===n||8===o.nodeType&&o.parentNode===n)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===n||8===l.nodeType&&l.parentNode===n))return;i=i.return}for(;null!==o;){if(null===(i=xn(o)))return;if(5===(l=i.tag)||6===l){r=a=i;continue e}o=o.parentNode}}r=r.return}Oe(function(){var r=a,n=be(s),i=[];e:{var o=Pr.get(e);if(void 0!==o){var l=cs,c=e;switch(e){case"keypress":if(0===ts(s))break e;case"keydown":case"keyup":l=Ss;break;case"focusin":c="focus",l=fs;break;case"focusout":c="blur",l=fs;break;case"beforeblur":case"afterblur":l=fs;break;case"click":if(2===s.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=ms;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=ps;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Es;break;case _r:case Sr:case Cr:l=gs;break;case Er:l=Ps;break;case"scroll":l=us;break;case"wheel":l=Os;break;case"copy":case"cut":case"paste":l=xs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cs}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var m,p=r;null!==p;){var f=(m=p).stateNode;if(5===m.tag&&null!==f&&(m=f,null!==h&&(null!=(f=Re(p,h))&&d.push(Hr(p,f,m)))),u)break;p=p.return}0<d.length&&(o=new l(o,c,null,s,n),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||s===je||!(c=s.relatedTarget||s.fromElement)||!xn(c)&&!c[pn])&&(l||o)&&(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=s.relatedTarget||s.toElement)?xn(c):null)&&(c!==(u=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=ms,f="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=Cs,f="onPointerLeave",h="onPointerEnter",p="pointer"),u=null==l?o:jn(l),m=null==c?o:jn(c),(o=new d(f,p+"leave",l,s,n)).target=u,o.relatedTarget=m,f=null,xn(n)===r&&((d=new d(h,p+"enter",c,s,n)).target=m,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(h=c,p=0,m=d=l;m;m=Gr(m))p++;for(m=0,f=h;f;f=Gr(f))m++;for(;0<p-m;)d=Gr(d),p--;for(;0<m-p;)h=Gr(h),m--;for(;p--;){if(d===h||null!==h&&d===h.alternate)break e;d=Gr(d),h=Gr(h)}d=null}else d=null;null!==l&&Yr(i,o,l,d,!1),null!==c&&null!==u&&Yr(i,u,c,d,!0)}if("select"===(l=(o=r?jn(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Qs;else if(Ws(o))if($s)g=ar;else{g=rr;var v=sr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=nr);switch(g&&(g=g(e,r))?Hs(i,g,s,n):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?jn(r):window,e){case"focusin":(Ws(v)||"true"===v.contentEditable)&&(fr=v,gr=r,vr=null);break;case"focusout":vr=gr=fr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,yr(i,s,n);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":yr(i,s,n)}var x;if(Is)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else zs?Fs(e,s)&&(y="onCompositionEnd"):"keydown"===e&&229===s.keyCode&&(y="onCompositionStart");y&&(Ds&&"ko"!==s.locale&&(zs||"onCompositionStart"!==y?"onCompositionEnd"===y&&zs&&(x=es()):(Xt="value"in(Jt=n)?Jt.value:Jt.textContent,zs=!0)),0<(v=Vr(r,y)).length&&(y=new ys(y,e,null,s,n),i.push({event:y,listeners:v}),x?y.data=x:null!==(x=Us(s))&&(y.data=x))),(x=qs?function(e,t){switch(e){case"compositionend":return Us(t);case"keypress":return 32!==t.which?null:(Ls=!0,Ms);case"textInput":return(e=t.data)===Ms&&Ls?null:e;default:return null}}(e,s):function(e,t){if(zs)return"compositionend"===e||!Is&&Fs(e,t)?(e=es(),Zt=Xt=Jt=null,zs=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ds&&"ko"!==t.locale?null:t.data}}(e,s))&&(0<(r=Vr(r,"onBeforeInput")).length&&(n=new ys("onBeforeInput","beforeinput",null,s,n),i.push({event:n,listeners:r}),n.data=x))}Mr(i,t)})}function Hr(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Vr(e,t){for(var s=t+"Capture",r=[];null!==e;){var n=e,a=n.stateNode;5===n.tag&&null!==a&&(n=a,null!=(a=Re(e,s))&&r.unshift(Hr(e,a,n)),null!=(a=Re(e,t))&&r.push(Hr(e,a,n))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,s,r,n){for(var a=t._reactName,i=[];null!==s&&s!==r;){var o=s,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,n?null!=(l=Re(s,a))&&i.unshift(Hr(s,l,o)):n||null!=(l=Re(s,a))&&i.push(Hr(s,l,o))),s=s.return}0!==i.length&&e.push({event:t,listeners:i})}var Kr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Qr,"")}function Jr(e,t,s){if(t=$r(t),$r(e)!==t&&s)throw Error(a(425))}function Xr(){}var Zr=null,en=null;function tn(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sn="function"===typeof setTimeout?setTimeout:void 0,rn="function"===typeof clearTimeout?clearTimeout:void 0,nn="function"===typeof Promise?Promise:void 0,an="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nn?function(e){return nn.resolve(null).then(e).catch(on)}:sn;function on(e){setTimeout(function(){throw e})}function ln(e,t){var s=t,r=0;do{var n=s.nextSibling;if(e.removeChild(s),n&&8===n.nodeType)if("/$"===(s=n.data)){if(0===r)return e.removeChild(n),void Bt(t);r--}else"$"!==s&&"$?"!==s&&"$!"!==s||r++;s=n}while(s);Bt(t)}function cn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var s=e.data;if("$"===s||"$!"===s||"$?"===s){if(0===t)return e;t--}else"/$"===s&&t++}e=e.previousSibling}return null}var un=Math.random().toString(36).slice(2),hn="__reactFiber$"+un,mn="__reactProps$"+un,pn="__reactContainer$"+un,fn="__reactEvents$"+un,gn="__reactListeners$"+un,vn="__reactHandles$"+un;function xn(e){var t=e[hn];if(t)return t;for(var s=e.parentNode;s;){if(t=s[pn]||s[hn]){if(s=t.alternate,null!==t.child||null!==s&&null!==s.child)for(e=dn(e);null!==e;){if(s=e[hn])return s;e=dn(e)}return t}s=(e=s).parentNode}return null}function yn(e){return!(e=e[hn]||e[pn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function jn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function bn(e){return e[mn]||null}var wn=[],Nn=-1;function kn(e){return{current:e}}function _n(e){0>Nn||(e.current=wn[Nn],wn[Nn]=null,Nn--)}function Sn(e,t){Nn++,wn[Nn]=e.current,e.current=t}var Cn={},En=kn(Cn),Pn=kn(!1),Tn=Cn;function On(e,t){var s=e.type.contextTypes;if(!s)return Cn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var n,a={};for(n in s)a[n]=t[n];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Rn(e){return null!==(e=e.childContextTypes)&&void 0!==e}function In(){_n(Pn),_n(En)}function An(e,t,s){if(En.current!==Cn)throw Error(a(168));Sn(En,t),Sn(Pn,s)}function qn(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return s;for(var n in r=r.getChildContext())if(!(n in t))throw Error(a(108,W(e)||"Unknown",n));return M({},s,r)}function Dn(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cn,Tn=En.current,Sn(En,e),Sn(Pn,Pn.current),!0}function Mn(e,t,s){var r=e.stateNode;if(!r)throw Error(a(169));s?(e=qn(e,t,Tn),r.__reactInternalMemoizedMergedChildContext=e,_n(Pn),_n(En),Sn(En,e)):_n(Pn),Sn(Pn,s)}var Ln=null,Fn=!1,Un=!1;function zn(e){null===Ln?Ln=[e]:Ln.push(e)}function Bn(){if(!Un&&null!==Ln){Un=!0;var e=0,t=yt;try{var s=Ln;for(yt=1;e<s.length;e++){var r=s[e];do{r=r(!0)}while(null!==r)}Ln=null,Fn=!1}catch(n){throw null!==Ln&&(Ln=Ln.slice(e+1)),Ye(Ze,Bn),n}finally{yt=t,Un=!1}}return null}var Wn=[],Hn=0,Vn=null,Gn=0,Yn=[],Kn=0,Qn=null,$n=1,Jn="";function Xn(e,t){Wn[Hn++]=Gn,Wn[Hn++]=Vn,Vn=e,Gn=t}function Zn(e,t,s){Yn[Kn++]=$n,Yn[Kn++]=Jn,Yn[Kn++]=Qn,Qn=e;var r=$n;e=Jn;var n=32-it(r)-1;r&=~(1<<n),s+=1;var a=32-it(t)+n;if(30<a){var i=n-n%5;a=(r&(1<<i)-1).toString(32),r>>=i,n-=i,$n=1<<32-it(t)+n|s<<n|r,Jn=a+e}else $n=1<<a|s<<n|r,Jn=e}function ea(e){null!==e.return&&(Xn(e,1),Zn(e,1,0))}function ta(e){for(;e===Vn;)Vn=Wn[--Hn],Wn[Hn]=null,Gn=Wn[--Hn],Wn[Hn]=null;for(;e===Qn;)Qn=Yn[--Kn],Yn[Kn]=null,Jn=Yn[--Kn],Yn[Kn]=null,$n=Yn[--Kn],Yn[Kn]=null}var sa=null,ra=null,na=!1,aa=null;function ia(e,t){var s=Oc(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,null===(t=e.deletions)?(e.deletions=[s],e.flags|=16):t.push(s)}function oa(e,t){switch(e.tag){case 5:var s=e.type;return null!==(t=1!==t.nodeType||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,sa=e,ra=cn(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,sa=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(s=null!==Qn?{id:$n,overflow:Jn}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},(s=Oc(18,null,null,0)).stateNode=t,s.return=e,e.child=s,sa=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(na){var t=ra;if(t){var s=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=cn(s.nextSibling);var r=sa;t&&oa(e,t)?ia(r,s):(e.flags=-4097&e.flags|2,na=!1,sa=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,na=!1,sa=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;sa=e}function ua(e){if(e!==sa)return!1;if(!na)return da(e),na=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!tn(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw ha(),Error(a(418));for(;t;)ia(e,t),t=cn(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var s=e.data;if("/$"===s){if(0===t){ra=cn(e.nextSibling);break e}t--}else"$"!==s&&"$!"!==s&&"$?"!==s||t++}e=e.nextSibling}ra=null}}else ra=sa?cn(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=cn(e.nextSibling)}function ma(){ra=sa=null,na=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var fa=j.ReactCurrentBatchConfig;function ga(e,t,s){if(null!==(e=s.ref)&&"function"!==typeof e&&"object"!==typeof e){if(s._owner){if(s=s._owner){if(1!==s.tag)throw Error(a(309));var r=s.stateNode}if(!r)throw Error(a(147,e));var n=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=n.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!s._owner)throw Error(a(290,e))}return e}function va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xa(e){return(0,e._init)(e._payload)}function ya(e){function t(t,s){if(e){var r=t.deletions;null===r?(t.deletions=[s],t.flags|=16):r.push(s)}}function s(s,r){if(!e)return null;for(;null!==r;)t(s,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function n(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function i(t,s,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<s?(t.flags|=2,s):r:(t.flags|=2,s):(t.flags|=1048576,s)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,s,r){return null===t||6!==t.tag?((t=Mc(s,e.mode,r)).return=e,t):((t=n(t,s)).return=e,t)}function c(e,t,s,r){var a=s.type;return a===N?u(e,t,s.props.children,r,s.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&xa(a)===t.type)?((r=n(t,s.props)).ref=ga(e,t,s),r.return=e,r):((r=Ac(s.type,s.key,s.props,null,e.mode,r)).ref=ga(e,t,s),r.return=e,r)}function d(e,t,s,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==s.containerInfo||t.stateNode.implementation!==s.implementation?((t=Lc(s,e.mode,r)).return=e,t):((t=n(t,s.children||[])).return=e,t)}function u(e,t,s,r,a){return null===t||7!==t.tag?((t=qc(s,e.mode,r,a)).return=e,t):((t=n(t,s)).return=e,t)}function h(e,t,s){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,s)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(s=Ac(t.type,t.key,t.props,null,e.mode,s)).ref=ga(e,null,t),s.return=e,s;case w:return(t=Lc(t,e.mode,s)).return=e,t;case R:return h(e,(0,t._init)(t._payload),s)}if(te(t)||q(t))return(t=qc(t,e.mode,s,null)).return=e,t;va(e,t)}return null}function m(e,t,s,r){var n=null!==t?t.key:null;if("string"===typeof s&&""!==s||"number"===typeof s)return null!==n?null:l(e,t,""+s,r);if("object"===typeof s&&null!==s){switch(s.$$typeof){case b:return s.key===n?c(e,t,s,r):null;case w:return s.key===n?d(e,t,s,r):null;case R:return m(e,t,(n=s._init)(s._payload),r)}if(te(s)||q(s))return null!==n?null:u(e,t,s,r,null);va(e,s)}return null}function p(e,t,s,r,n){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(s)||null,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?s:r.key)||null,r,n);case w:return d(t,e=e.get(null===r.key?s:r.key)||null,r,n);case R:return p(e,t,s,(0,r._init)(r._payload),n)}if(te(r)||q(r))return u(t,e=e.get(s)||null,r,n,null);va(t,r)}return null}function f(n,a,o,l){for(var c=null,d=null,u=a,f=a=0,g=null;null!==u&&f<o.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var v=m(n,u,o[f],l);if(null===v){null===u&&(u=g);break}e&&u&&null===v.alternate&&t(n,u),a=i(v,a,f),null===d?c=v:d.sibling=v,d=v,u=g}if(f===o.length)return s(n,u),na&&Xn(n,f),c;if(null===u){for(;f<o.length;f++)null!==(u=h(n,o[f],l))&&(a=i(u,a,f),null===d?c=u:d.sibling=u,d=u);return na&&Xn(n,f),c}for(u=r(n,u);f<o.length;f++)null!==(g=p(u,n,f,o[f],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),a=i(g,a,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(n,e)}),na&&Xn(n,f),c}function g(n,o,l,c){var d=q(l);if("function"!==typeof d)throw Error(a(150));if(null==(l=d.call(l)))throw Error(a(151));for(var u=d=null,f=o,g=o=0,v=null,x=l.next();null!==f&&!x.done;g++,x=l.next()){f.index>g?(v=f,f=null):v=f.sibling;var y=m(n,f,x.value,c);if(null===y){null===f&&(f=v);break}e&&f&&null===y.alternate&&t(n,f),o=i(y,o,g),null===u?d=y:u.sibling=y,u=y,f=v}if(x.done)return s(n,f),na&&Xn(n,g),d;if(null===f){for(;!x.done;g++,x=l.next())null!==(x=h(n,x.value,c))&&(o=i(x,o,g),null===u?d=x:u.sibling=x,u=x);return na&&Xn(n,g),d}for(f=r(n,f);!x.done;g++,x=l.next())null!==(x=p(f,n,g,x.value,c))&&(e&&null!==x.alternate&&f.delete(null===x.key?g:x.key),o=i(x,o,g),null===u?d=x:u.sibling=x,u=x);return e&&f.forEach(function(e){return t(n,e)}),na&&Xn(n,g),d}return function e(r,a,i,l){if("object"===typeof i&&null!==i&&i.type===N&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case b:e:{for(var c=i.key,d=a;null!==d;){if(d.key===c){if((c=i.type)===N){if(7===d.tag){s(r,d.sibling),(a=n(d,i.props.children)).return=r,r=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&xa(c)===d.type){s(r,d.sibling),(a=n(d,i.props)).ref=ga(r,d,i),a.return=r,r=a;break e}s(r,d);break}t(r,d),d=d.sibling}i.type===N?((a=qc(i.props.children,r.mode,l,i.key)).return=r,r=a):((l=Ac(i.type,i.key,i.props,null,r.mode,l)).ref=ga(r,a,i),l.return=r,r=l)}return o(r);case w:e:{for(d=i.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){s(r,a.sibling),(a=n(a,i.children||[])).return=r,r=a;break e}s(r,a);break}t(r,a),a=a.sibling}(a=Lc(i,r.mode,l)).return=r,r=a}return o(r);case R:return e(r,a,(d=i._init)(i._payload),l)}if(te(i))return f(r,a,i,l);if(q(i))return g(r,a,i,l);va(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(s(r,a.sibling),(a=n(a,i)).return=r,r=a):(s(r,a),(a=Mc(i,r.mode,l)).return=r,r=a),o(r)):s(r,a)}}var ja=ya(!0),ba=ya(!1),wa=kn(null),Na=null,ka=null,_a=null;function Sa(){_a=ka=Na=null}function Ca(e){var t=wa.current;_n(wa),e._currentValue=t}function Ea(e,t,s){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function Pa(e,t){Na=e,_a=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yo=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(_a!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===Na)throw Error(a(308));ka=e,Na.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Oa=null;function Ra(e){null===Oa?Oa=[e]:Oa.push(e)}function Ia(e,t,s,r){var n=t.interleaved;return null===n?(s.next=s,Ra(t)):(s.next=n.next,n.next=s),t.interleaved=s,Aa(e,r)}function Aa(e,t){e.lanes|=t;var s=e.alternate;for(null!==s&&(s.lanes|=t),s=e,e=e.return;null!==e;)e.childLanes|=t,null!==(s=e.alternate)&&(s.childLanes|=t),s=e,e=e.return;return 3===s.tag?s.stateNode:null}var qa=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ma(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function La(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,s){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var n=r.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),r.pending=t,Aa(e,s)}return null===(n=r.interleaved)?(t.next=t,Ra(r)):(t.next=n.next,n.next=t),r.interleaved=t,Aa(e,s)}function Ua(e,t,s){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&s))){var r=t.lanes;s|=r&=e.pendingLanes,t.lanes=s,xt(e,s)}}function za(e,t){var s=e.updateQueue,r=e.alternate;if(null!==r&&s===(r=r.updateQueue)){var n=null,a=null;if(null!==(s=s.firstBaseUpdate)){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};null===a?n=a=i:a=a.next=i,s=s.next}while(null!==s);null===a?n=a=t:a=a.next=t}else n=a=t;return s={baseState:r.baseState,firstBaseUpdate:n,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=s)}null===(e=s.lastBaseUpdate)?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Ba(e,t,s,r){var n=e.updateQueue;qa=!1;var a=n.firstBaseUpdate,i=n.lastBaseUpdate,o=n.shared.pending;if(null!==o){n.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=n.baseState;for(i=0,d=c=l=null,o=a;;){var h=o.lane,m=o.eventTime;if((r&h)===h){null!==d&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,f=o;switch(h=t,m=s,f.tag){case 1:if("function"===typeof(p=f.payload)){u=p.call(m,u,h);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=f.payload)?p.call(m,u,h):p)||void 0===h)break e;u=M({},u,h);break e;case 2:qa=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=n.effects)?n.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=m,l=u):d=d.next=m,i|=h;if(null===(o=o.next)){if(null===(o=n.shared.pending))break;o=(h=o).next,h.next=null,n.lastBaseUpdate=h,n.shared.pending=null}}if(null===d&&(l=u),n.baseState=l,n.firstBaseUpdate=c,n.lastBaseUpdate=d,null!==(t=n.shared.interleaved)){n=t;do{i|=n.lane,n=n.next}while(n!==t)}else null===a&&(n.shared.lanes=0);Dl|=i,e.lanes=i,e.memoizedState=u}}function Wa(e,t,s){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],n=r.callback;if(null!==n){if(r.callback=null,r=s,"function"!==typeof n)throw Error(a(191,n));n.call(r)}}}var Ha={},Va=kn(Ha),Ga=kn(Ha),Ya=kn(Ha);function Ka(e){if(e===Ha)throw Error(a(174));return e}function Qa(e,t){switch(Sn(Ya,t),Sn(Ga,e),Sn(Va,Ha),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_n(Va),Sn(Va,t)}function $a(){_n(Va),_n(Ga),_n(Ya)}function Ja(e){Ka(Ya.current);var t=Ka(Va.current),s=le(t,e.type);t!==s&&(Sn(Ga,e),Sn(Va,s))}function Xa(e){Ga.current===e&&(_n(Va),_n(Ga))}var Za=kn(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var s=t.memoizedState;if(null!==s&&(null===(s=s.dehydrated)||"$?"===s.data||"$!"===s.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function si(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ri=j.ReactCurrentDispatcher,ni=j.ReactCurrentBatchConfig,ai=0,ii=null,oi=null,li=null,ci=!1,di=!1,ui=0,hi=0;function mi(){throw Error(a(321))}function pi(e,t){if(null===t)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!ir(e[s],t[s]))return!1;return!0}function fi(e,t,s,r,n,i){if(ai=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=null===e||null===e.memoizedState?Xi:Zi,e=s(r,n),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(a(301));i+=1,li=oi=null,t.updateQueue=null,ri.current=eo,e=s(r,n)}while(di)}if(ri.current=Ji,t=null!==oi&&null!==oi.next,ai=0,li=oi=ii=null,ci=!1,t)throw Error(a(300));return e}function gi(){var e=0!==ui;return ui=0,e}function vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function xi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(a(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function yi(e,t){return"function"===typeof t?t(e):t}function ji(e){var t=xi(),s=t.queue;if(null===s)throw Error(a(311));s.lastRenderedReducer=e;var r=oi,n=r.baseQueue,i=s.pending;if(null!==i){if(null!==n){var o=n.next;n.next=i.next,i.next=o}r.baseQueue=n=i,s.pending=null}if(null!==n){i=n.next,r=r.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((ai&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ii.lanes|=u,Dl|=u}d=d.next}while(null!==d&&d!==i);null===c?o=r:c.next=l,ir(r,t.memoizedState)||(yo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,s.lastRenderedState=r}if(null!==(e=s.interleaved)){n=e;do{i=n.lane,ii.lanes|=i,Dl|=i,n=n.next}while(n!==e)}else null===n&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function bi(e){var t=xi(),s=t.queue;if(null===s)throw Error(a(311));s.lastRenderedReducer=e;var r=s.dispatch,n=s.pending,i=t.memoizedState;if(null!==n){s.pending=null;var o=n=n.next;do{i=e(i,o.action),o=o.next}while(o!==n);ir(i,t.memoizedState)||(yo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),s.lastRenderedState=i}return[i,r]}function wi(){}function Ni(e,t){var s=ii,r=xi(),n=t(),i=!ir(r.memoizedState,n);if(i&&(r.memoizedState=n,yo=!0),r=r.queue,qi(Si.bind(null,s,r,e),[e]),r.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(s.flags|=2048,Ti(9,_i.bind(null,s,r,n,t),void 0,null),null===Pl)throw Error(a(349));0!==(30&ai)||ki(s,t,n)}return n}function ki(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(s=t.stores)?t.stores=[e]:s.push(e)}function _i(e,t,s,r){t.value=s,t.getSnapshot=r,Ci(t)&&Ei(e)}function Si(e,t,s){return s(function(){Ci(t)&&Ei(e)})}function Ci(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!ir(e,s)}catch(r){return!0}}function Ei(e){var t=Aa(e,1);null!==t&&sc(t,e,1,-1)}function Pi(e){var t=vi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t.queue=e,e=e.dispatch=Yi.bind(null,ii,e),[t.memoizedState,e]}function Ti(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(s=t.lastEffect)?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e),e}function Oi(){return xi().memoizedState}function Ri(e,t,s,r){var n=vi();ii.flags|=e,n.memoizedState=Ti(1|t,s,void 0,void 0===r?null:r)}function Ii(e,t,s,r){var n=xi();r=void 0===r?null:r;var a=void 0;if(null!==oi){var i=oi.memoizedState;if(a=i.destroy,null!==r&&pi(r,i.deps))return void(n.memoizedState=Ti(t,s,a,r))}ii.flags|=e,n.memoizedState=Ti(1|t,s,a,r)}function Ai(e,t){return Ri(8390656,8,e,t)}function qi(e,t){return Ii(2048,8,e,t)}function Di(e,t){return Ii(4,2,e,t)}function Mi(e,t){return Ii(4,4,e,t)}function Li(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fi(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Ii(4,4,Li.bind(null,t,e),s)}function Ui(){}function zi(e,t){var s=xi();t=void 0===t?null:t;var r=s.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function Bi(e,t){var s=xi();t=void 0===t?null:t;var r=s.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function Wi(e,t,s){return 0===(21&ai)?(e.baseState&&(e.baseState=!1,yo=!0),e.memoizedState=s):(ir(s,t)||(s=ft(),ii.lanes|=s,Dl|=s,e.baseState=!0),t)}function Hi(e,t){var s=yt;yt=0!==s&&4>s?s:4,e(!0);var r=ni.transition;ni.transition={};try{e(!1),t()}finally{yt=s,ni.transition=r}}function Vi(){return xi().memoizedState}function Gi(e,t,s){var r=tc(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},Ki(e))Qi(t,s);else if(null!==(s=Ia(e,t,s,r))){sc(s,e,r,ec()),$i(s,t,r)}}function Yi(e,t,s){var r=tc(e),n={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ki(e))Qi(t,n);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=a(i,s);if(n.hasEagerState=!0,n.eagerState=o,ir(o,i)){var l=t.interleaved;return null===l?(n.next=n,Ra(t)):(n.next=l.next,l.next=n),void(t.interleaved=n)}}catch(c){}null!==(s=Ia(e,t,n,r))&&(sc(s,e,r,n=ec()),$i(s,t,r))}}function Ki(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Qi(e,t){di=ci=!0;var s=e.pending;null===s?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function $i(e,t,s){if(0!==(4194240&s)){var r=t.lanes;s|=r&=e.pendingLanes,t.lanes=s,xt(e,s)}}var Ji={readContext:Ta,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},Xi={readContext:Ta,useCallback:function(e,t){return vi().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:Ai,useImperativeHandle:function(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Ri(4194308,4,Li.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ri(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ri(4,2,e,t)},useMemo:function(e,t){var s=vi();return t=void 0===t?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=vi();return t=void 0!==s?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gi.bind(null,ii,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vi().memoizedState=e},useState:Pi,useDebugValue:Ui,useDeferredValue:function(e){return vi().memoizedState=e},useTransition:function(){var e=Pi(!1),t=e[0];return e=Hi.bind(null,e[1]),vi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=ii,n=vi();if(na){if(void 0===s)throw Error(a(407));s=s()}else{if(s=t(),null===Pl)throw Error(a(349));0!==(30&ai)||ki(r,t,s)}n.memoizedState=s;var i={value:s,getSnapshot:t};return n.queue=i,Ai(Si.bind(null,r,i,e),[e]),r.flags|=2048,Ti(9,_i.bind(null,r,i,s,t),void 0,null),s},useId:function(){var e=vi(),t=Pl.identifierPrefix;if(na){var s=Jn;t=":"+t+"R"+(s=($n&~(1<<32-it($n)-1)).toString(32)+s),0<(s=ui++)&&(t+="H"+s.toString(32)),t+=":"}else t=":"+t+"r"+(s=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zi={readContext:Ta,useCallback:zi,useContext:Ta,useEffect:qi,useImperativeHandle:Fi,useInsertionEffect:Di,useLayoutEffect:Mi,useMemo:Bi,useReducer:ji,useRef:Oi,useState:function(){return ji(yi)},useDebugValue:Ui,useDeferredValue:function(e){return Wi(xi(),oi.memoizedState,e)},useTransition:function(){return[ji(yi)[0],xi().memoizedState]},useMutableSource:wi,useSyncExternalStore:Ni,useId:Vi,unstable_isNewReconciler:!1},eo={readContext:Ta,useCallback:zi,useContext:Ta,useEffect:qi,useImperativeHandle:Fi,useInsertionEffect:Di,useLayoutEffect:Mi,useMemo:Bi,useReducer:bi,useRef:Oi,useState:function(){return bi(yi)},useDebugValue:Ui,useDeferredValue:function(e){var t=xi();return null===oi?t.memoizedState=e:Wi(t,oi.memoizedState,e)},useTransition:function(){return[bi(yi)[0],xi().memoizedState]},useMutableSource:wi,useSyncExternalStore:Ni,useId:Vi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var s in t=M({},t),e=e.defaultProps)void 0===t[s]&&(t[s]=e[s]);return t}return t}function so(e,t,s,r){s=null===(s=s(r,t=e.memoizedState))||void 0===s?t:M({},t,s),e.memoizedState=s,0===e.lanes&&(e.updateQueue.baseState=s)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=ec(),n=tc(e),a=La(r,n);a.payload=t,void 0!==s&&null!==s&&(a.callback=s),null!==(t=Fa(e,a,n))&&(sc(t,e,n,r),Ua(t,e,n))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=ec(),n=tc(e),a=La(r,n);a.tag=1,a.payload=t,void 0!==s&&null!==s&&(a.callback=s),null!==(t=Fa(e,a,n))&&(sc(t,e,n,r),Ua(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ec(),r=tc(e),n=La(s,r);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=Fa(e,n,r))&&(sc(t,e,r,s),Ua(t,e,r))}};function no(e,t,s,r,n,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!or(s,r)||!or(n,a))}function ao(e,t,s){var r=!1,n=Cn,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(n=Rn(t)?Tn:En.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?On(e,n):Cn),t=new t(s,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),t}function io(e,t,s,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(s,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,s,r){var n=e.stateNode;n.props=s,n.state=e.memoizedState,n.refs={},Da(e);var a=t.contextType;"object"===typeof a&&null!==a?n.context=Ta(a):(a=Rn(t)?Tn:En.current,n.context=On(e,a)),n.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(so(e,t,a,s),n.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(t=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),t!==n.state&&ro.enqueueReplaceState(n,n.state,null),Ba(e,s,n,r),n.state=e.memoizedState),"function"===typeof n.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var s="",r=t;do{s+=z(r),r=r.return}while(r);var n=s}catch(a){n="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:n,digest:null}}function co(e,t,s){return{value:e,source:null,stack:null!=s?s:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var ho="function"===typeof WeakMap?WeakMap:Map;function mo(e,t,s){(s=La(-1,s)).tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){Hl||(Hl=!0,Vl=r),uo(0,t)},s}function po(e,t,s){(s=La(-1,s)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var n=t.value;s.payload=function(){return r(n)},s.callback=function(){uo(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(s.callback=function(){uo(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),s}function fo(e,t,s){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var n=new Set;r.set(t,n)}else void 0===(n=r.get(t))&&(n=new Set,r.set(t,n));n.has(s)||(n.add(s),e=_c.bind(null,e,t,s),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,s,r,n){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,1===s.tag&&(null===s.alternate?s.tag=17:((t=La(-1,1)).tag=2,Fa(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=n,e)}var xo=j.ReactCurrentOwner,yo=!1;function jo(e,t,s,r){t.child=null===e?ba(t,null,s,r):ja(t,e.child,s,r)}function bo(e,t,s,r,n){s=s.render;var a=t.ref;return Pa(t,n),r=fi(e,t,s,r,a,n),s=gi(),null===e||yo?(na&&s&&ea(t),t.flags|=1,jo(e,t,r,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Ho(e,t,n))}function wo(e,t,s,r,n){if(null===e){var a=s.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==s.compare||void 0!==s.defaultProps?((e=Ac(s.type,null,r,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,No(e,t,a,r,n))}if(a=e.child,0===(e.lanes&n)){var i=a.memoizedProps;if((s=null!==(s=s.compare)?s:or)(i,r)&&e.ref===t.ref)return Ho(e,t,n)}return t.flags|=1,(e=Ic(a,r)).ref=t.ref,e.return=t,t.child=e}function No(e,t,s,r,n){if(null!==e){var a=e.memoizedProps;if(or(a,r)&&e.ref===t.ref){if(yo=!1,t.pendingProps=r=a,0===(e.lanes&n))return t.lanes=e.lanes,Ho(e,t,n);0!==(131072&e.flags)&&(yo=!0)}}return So(e,t,s,r,n)}function ko(e,t,s){var r=t.pendingProps,n=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sn(Il,Rl),Rl|=s;else{if(0===(1073741824&s))return e=null!==a?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sn(Il,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:s,Sn(Il,Rl),Rl|=r}else null!==a?(r=a.baseLanes|s,t.memoizedState=null):r=s,Sn(Il,Rl),Rl|=r;return jo(e,t,n,s),t.child}function _o(e,t){var s=t.ref;(null===e&&null!==s||null!==e&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,s,r,n){var a=Rn(s)?Tn:En.current;return a=On(t,a),Pa(t,n),s=fi(e,t,s,r,a,n),r=gi(),null===e||yo?(na&&r&&ea(t),t.flags|=1,jo(e,t,s,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Ho(e,t,n))}function Co(e,t,s,r,n){if(Rn(s)){var a=!0;Dn(t)}else a=!1;if(Pa(t,n),null===t.stateNode)Wo(e,t),ao(t,s,r),oo(t,s,r,n),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=s.contextType;"object"===typeof c&&null!==c?c=Ta(c):c=On(t,c=Rn(s)?Tn:En.current);var d=s.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==r||l!==c)&&io(t,i,r,c),qa=!1;var h=t.memoizedState;i.state=h,Ba(t,r,i,n),l=t.memoizedState,o!==r||h!==l||Pn.current||qa?("function"===typeof d&&(so(t,s,d,r),l=t.memoizedState),(o=qa||no(t,s,o,r,h,l,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Ma(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,u=t.pendingProps,h=i.context,"object"===typeof(l=s.contextType)&&null!==l?l=Ta(l):l=On(t,l=Rn(s)?Tn:En.current);var m=s.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||h!==l)&&io(t,i,r,l),qa=!1,h=t.memoizedState,i.state=h,Ba(t,r,i,n);var p=t.memoizedState;o!==u||h!==p||Pn.current||qa?("function"===typeof m&&(so(t,s,m,r),p=t.memoizedState),(c=qa||no(t,s,c,r,h,p,l)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Eo(e,t,s,r,a,n)}function Eo(e,t,s,r,n,a){_o(e,t);var i=0!==(128&t.flags);if(!r&&!i)return n&&Mn(t,s,!1),Ho(e,t,a);r=t.stateNode,xo.current=t;var o=i&&"function"!==typeof s.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=ja(t,e.child,null,a),t.child=ja(t,null,o,a)):jo(e,t,o,a),t.memoizedState=r.state,n&&Mn(t,s,!0),t.child}function Po(e){var t=e.stateNode;t.pendingContext?An(0,t.pendingContext,t.pendingContext!==t.context):t.context&&An(0,t.context,!1),Qa(e,t.containerInfo)}function To(e,t,s,r,n){return ma(),pa(n),t.flags|=256,jo(e,t,s,r),t.child}var Oo,Ro,Io,Ao,qo={dehydrated:null,treeContext:null,retryLane:0};function Do(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,s){var r,n=t.pendingProps,i=Za.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Sn(Za,1&i),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=n.children,e=n.fallback,o?(n=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&n)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Dc(l,n,0,null),e=qc(e,n,s,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Do(s),t.memoizedState=qo,e):Lo(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,s,r,n,i,o){if(s)return 256&t.flags?(t.flags&=-257,Fo(e,t,o,r=co(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,n=t.mode,r=Dc({mode:"visible",children:r.children},n,0,null),(i=qc(i,n,o,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&ja(t,e.child,null,o),t.child.memoizedState=Do(o),t.memoizedState=qo,i);if(0===(1&t.mode))return Fo(e,t,o,null);if("$!"===n.data){if(r=n.nextSibling&&n.nextSibling.dataset)var l=r.dgst;return r=l,Fo(e,t,o,r=co(i=Error(a(419)),r,void 0))}if(l=0!==(o&e.childLanes),yo||l){if(null!==(r=Pl)){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}0!==(n=0!==(n&(r.suspendedLanes|o))?0:n)&&n!==i.retryLane&&(i.retryLane=n,Aa(e,n),sc(r,e,n,-1))}return fc(),Fo(e,t,o,r=co(Error(a(421))))}return"$?"===n.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),n._reactRetry=t,null):(e=i.treeContext,ra=cn(n.nextSibling),sa=t,na=!0,aa=null,null!==e&&(Yn[Kn++]=$n,Yn[Kn++]=Jn,Yn[Kn++]=Qn,$n=e.id,Jn=e.overflow,Qn=t),t=Lo(t,r.children),t.flags|=4096,t)}(e,t,l,n,r,i,s);if(o){o=n.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:n.children};return 0===(1&l)&&t.child!==i?((n=t.child).childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ic(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?o=Ic(r,o):(o=qc(o,l,s,null)).flags|=2,o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,l=null===(l=e.child.memoizedState)?Do(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~s,t.memoizedState=qo,n}return e=(o=e.child).sibling,n=Ic(o,{mode:"visible",children:n.children}),0===(1&t.mode)&&(n.lanes=s),n.return=t,n.sibling=null,null!==e&&(null===(s=t.deletions)?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function Lo(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fo(e,t,s,r){return null!==r&&pa(r),ja(t,e.child,null,s),(e=Lo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,s){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,s)}function zo(e,t,s,r,n){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:n}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=s,a.tailMode=n)}function Bo(e,t,s){var r=t.pendingProps,n=r.revealOrder,a=r.tail;if(jo(e,t,r.children,s),0!==(2&(r=Za.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,s,t);else if(19===e.tag)Uo(e,s,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Sn(Za,r),0===(1&t.mode))t.memoizedState=null;else switch(n){case"forwards":for(s=t.child,n=null;null!==s;)null!==(e=s.alternate)&&null===ei(e)&&(n=s),s=s.sibling;null===(s=n)?(n=t.child,t.child=null):(n=s.sibling,s.sibling=null),zo(t,!1,n,s,a);break;case"backwards":for(s=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===ei(e)){t.child=n;break}e=n.sibling,n.sibling=s,s=n,n=e}zo(t,!0,s,null,a);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,s){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(s&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(s=Ic(e=t.child,e.pendingProps),t.child=s,s.return=t;null!==e.sibling;)e=e.sibling,(s=s.sibling=Ic(e,e.pendingProps)).return=t;s.sibling=null}return t.child}function Vo(e,t){if(!na)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;null!==t;)null!==t.alternate&&(s=t),t=t.sibling;null===s?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;null!==s;)null!==s.alternate&&(r=s),s=s.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,s=0,r=0;if(t)for(var n=e.child;null!==n;)s|=n.lanes|n.childLanes,r|=14680064&n.subtreeFlags,r|=14680064&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)s|=n.lanes|n.childLanes,r|=n.subtreeFlags,r|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function Yo(e,t,s){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Rn(t.type)&&In(),Go(t),null;case 3:return r=t.stateNode,$a(),_n(Pn),_n(En),si(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ic(aa),aa=null))),Ro(e,t),Go(t),null;case 5:Xa(t);var n=Ka(Ya.current);if(s=t.type,null!==e&&null!=t.stateNode)Io(e,t,s,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Go(t),null}if(e=Ka(Va.current),ua(t)){r=t.stateNode,s=t.type;var i=t.memoizedProps;switch(r[hn]=t,r[mn]=i,e=0!==(1&t.mode),s){case"dialog":Lr("cancel",r),Lr("close",r);break;case"iframe":case"object":case"embed":Lr("load",r);break;case"video":case"audio":for(n=0;n<Ar.length;n++)Lr(Ar[n],r);break;case"source":Lr("error",r);break;case"img":case"image":case"link":Lr("error",r),Lr("load",r);break;case"details":Lr("toggle",r);break;case"input":$(r,i),Lr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Lr("invalid",r);break;case"textarea":ne(r,i),Lr("invalid",r)}for(var l in xe(s,i),n=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Jr(r.textContent,c,e),n=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Jr(r.textContent,c,e),n=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Lr("scroll",r)}switch(s){case"input":G(r),Z(r,i,!0);break;case"textarea":G(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Xr)}r=n,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===n.nodeType?n:n.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(s)),"http://www.w3.org/1999/xhtml"===e?"script"===s?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(s,{is:r.is}):(e=l.createElement(s),"select"===s&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,s),e[hn]=t,e[mn]=r,Oo(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(s,r),s){case"dialog":Lr("cancel",e),Lr("close",e),n=r;break;case"iframe":case"object":case"embed":Lr("load",e),n=r;break;case"video":case"audio":for(n=0;n<Ar.length;n++)Lr(Ar[n],e);n=r;break;case"source":Lr("error",e),n=r;break;case"img":case"image":case"link":Lr("error",e),Lr("load",e),n=r;break;case"details":Lr("toggle",e),n=r;break;case"input":$(e,r),n=Q(e,r),Lr("invalid",e);break;case"option":default:n=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},n=M({},r,{value:void 0}),Lr("invalid",e);break;case"textarea":ne(e,r),n=re(e,r),Lr("invalid",e)}for(i in xe(s,n),c=n)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?ge(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==s||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Lr("scroll",e):null!=d&&y(e,i,d,l))}switch(s){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?se(e,!!r.multiple,i,!1):null!=r.defaultValue&&se(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof n.onClick&&(e.onclick=Xr)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)Ao(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(s=Ka(Ya.current),Ka(Va.current),ua(t)){if(r=t.stateNode,s=t.memoizedProps,r[hn]=t,(i=r.nodeValue!==s)&&null!==(e=sa))switch(e.tag){case 3:Jr(r.nodeValue,s,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,s,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===s.nodeType?s:s.ownerDocument).createTextNode(r))[hn]=t,t.stateNode=r}return Go(t),null;case 13:if(_n(Za),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(na&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),ma(),t.flags|=98560,i=!1;else if(i=ua(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[hn]=t}else ma(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),i=!1}else null!==aa&&(ic(aa),aa=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=s,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Za.current)?0===Al&&(Al=3):fc())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return $a(),Ro(e,t),null===e&&zr(t.stateNode.containerInfo),Go(t),null;case 10:return Ca(t.type._context),Go(t),null;case 19:if(_n(Za),null===(i=t.memoizedState))return Go(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)Vo(i,!1);else{if(0!==Al||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,Vo(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;null!==s;)e=r,(i=s).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Sn(Za,1&Za.current|2),t.child}e=e.sibling}null!==i.tail&&Je()>Bl&&(t.flags|=128,r=!0,Vo(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ei(l))){if(t.flags|=128,r=!0,null!==(s=e.updateQueue)&&(t.updateQueue=s,t.flags|=4),Vo(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!na)return Go(t),null}else 2*Je()-i.renderingStartTime>Bl&&1073741824!==s&&(t.flags|=128,r=!0,Vo(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(s=i.last)?s.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Je(),t.sibling=null,s=Za.current,Sn(Za,r?1&s|2:1&s),t):(Go(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ko(e,t){switch(ta(t),t.tag){case 1:return Rn(t.type)&&In(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $a(),_n(Pn),_n(En),si(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xa(t),null;case 13:if(_n(Za),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ma()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _n(Za),null;case 4:return $a(),null;case 10:return Ca(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Oo=function(e,t){for(var s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Ro=function(){},Io=function(e,t,s,r){var n=e.memoizedProps;if(n!==r){e=t.stateNode,Ka(Va.current);var a,i=null;switch(s){case"input":n=Q(e,n),r=Q(e,r),i=[];break;case"select":n=M({},n,{value:void 0}),r=M({},r,{value:void 0}),i=[];break;case"textarea":n=re(e,n),r=re(e,r),i=[];break;default:"function"!==typeof n.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(d in xe(s,r),s=null,n)if(!r.hasOwnProperty(d)&&n.hasOwnProperty(d)&&null!=n[d])if("style"===d){var l=n[d];for(a in l)l.hasOwnProperty(a)&&(s||(s={}),s[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=n?n[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(s||(s={}),s[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(s||(s={}),s[a]=c[a])}else s||(i||(i=[]),i.push(d,s)),s=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Lr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}s&&(i=i||[]).push("style",s);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Ao=function(e,t,s,r){s!==r&&(t.flags|=4)};var Qo=!1,$o=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Zo(e,t){var s=e.ref;if(null!==s)if("function"===typeof s)try{s(null)}catch(r){kc(e,t,r)}else s.current=null}function el(e,t,s){try{s()}catch(r){kc(e,t,r)}}var tl=!1;function sl(e,t,s){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var n=r=r.next;do{if((n.tag&e)===e){var a=n.destroy;n.destroy=void 0,void 0!==a&&el(t,s,a)}n=n.next}while(n!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function nl(e){var t=e.ref;if(null!==t){var s=e.stateNode;e.tag,e=s,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hn],delete t[mn],delete t[fn],delete t[gn],delete t[vn])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,s){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===s.nodeType?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(8===s.nodeType?(t=s.parentNode).insertBefore(e,s):(t=s).appendChild(e),null!==(s=s._reactRootContainer)&&void 0!==s||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,s),e=e.sibling;null!==e;)ll(e,t,s),e=e.sibling}function cl(e,t,s){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,s),e=e.sibling;null!==e;)cl(e,t,s),e=e.sibling}var dl=null,ul=!1;function hl(e,t,s){for(s=s.child;null!==s;)ml(e,t,s),s=s.sibling}function ml(e,t,s){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(nt,s)}catch(o){}switch(s.tag){case 5:$o||Zo(s,t);case 6:var r=dl,n=ul;dl=null,hl(e,t,s),ul=n,null!==(dl=r)&&(ul?(e=dl,s=s.stateNode,8===e.nodeType?e.parentNode.removeChild(s):e.removeChild(s)):dl.removeChild(s.stateNode));break;case 18:null!==dl&&(ul?(e=dl,s=s.stateNode,8===e.nodeType?ln(e.parentNode,s):1===e.nodeType&&ln(e,s),Bt(e)):ln(dl,s.stateNode));break;case 4:r=dl,n=ul,dl=s.stateNode.containerInfo,ul=!0,hl(e,t,s),dl=r,ul=n;break;case 0:case 11:case 14:case 15:if(!$o&&(null!==(r=s.updateQueue)&&null!==(r=r.lastEffect))){n=r=r.next;do{var a=n,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&el(s,t,i),n=n.next}while(n!==r)}hl(e,t,s);break;case 1:if(!$o&&(Zo(s,t),"function"===typeof(r=s.stateNode).componentWillUnmount))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(o){kc(s,t,o)}hl(e,t,s);break;case 21:hl(e,t,s);break;case 22:1&s.mode?($o=(r=$o)||null!==s.memoizedState,hl(e,t,s),$o=r):hl(e,t,s);break;default:hl(e,t,s)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var s=e.stateNode;null===s&&(s=e.stateNode=new Jo),t.forEach(function(t){var r=Ec.bind(null,e,t);s.has(t)||(s.add(t),t.then(r,r))})}}function fl(e,t){var s=t.deletions;if(null!==s)for(var r=0;r<s.length;r++){var n=s[r];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(a(160));ml(i,o,n),dl=null,ul=!1;var c=n.alternate;null!==c&&(c.return=null),n.return=null}catch(d){kc(n,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),vl(e),4&r){try{sl(3,e,e.return),rl(3,e)}catch(g){kc(e,e.return,g)}try{sl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:fl(t,e),vl(e),512&r&&null!==s&&Zo(s,s.return);break;case 5:if(fl(t,e),vl(e),512&r&&null!==s&&Zo(s,s.return),32&e.flags){var n=e.stateNode;try{he(n,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(n=e.stateNode)){var i=e.memoizedProps,o=null!==s?s.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&J(n,i),ye(l,o);var d=ye(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];"style"===u?ge(n,h):"dangerouslySetInnerHTML"===u?ue(n,h):"children"===u?he(n,h):y(n,u,h,d)}switch(l){case"input":X(n,i);break;case"textarea":ae(n,i);break;case"select":var m=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?se(n,!!i.multiple,p,!1):m!==!!i.multiple&&(null!=i.defaultValue?se(n,!!i.multiple,i.defaultValue,!0):se(n,!!i.multiple,i.multiple?[]:"",!1))}n[mn]=i}catch(g){kc(e,e.return,g)}}break;case 6:if(fl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(a(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(g){kc(e,e.return,g)}}break;case 3:if(fl(t,e),vl(e),4&r&&null!==s&&s.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:fl(t,e),vl(e);break;case 13:fl(t,e),vl(e),8192&(n=e.child).flags&&(i=null!==n.memoizedState,n.stateNode.isHidden=i,!i||null!==n.alternate&&null!==n.alternate.memoizedState||(zl=Je())),4&r&&pl(e);break;case 22:if(u=null!==s&&null!==s.memoizedState,1&e.mode?($o=(d=$o)||u,fl(t,e),$o=d):fl(t,e),vl(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Xo=e,u=e.child;null!==u;){for(h=Xo=u;null!==Xo;){switch(p=(m=Xo).child,m.tag){case 0:case 11:case 14:case 15:sl(4,m,m.return);break;case 1:Zo(m,m.return);var f=m.stateNode;if("function"===typeof f.componentWillUnmount){r=m,s=m.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){kc(r,s,g)}}break;case 5:Zo(m,m.return);break;case 22:if(null!==m.memoizedState){bl(h);continue}}null!==p?(p.return=m,Xo=p):bl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{n=h.stateNode,d?"function"===typeof(i=n.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var s=e.return;null!==s;){if(il(s)){var r=s;break e}s=s.return}throw Error(a(160))}switch(r.tag){case 5:var n=r.stateNode;32&r.flags&&(he(n,""),r.flags&=-33),cl(e,ol(e),n);break;case 3:case 4:var i=r.stateNode.containerInfo;ll(e,ol(e),i);break;default:throw Error(a(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,s){Xo=e,yl(e,t,s)}function yl(e,t,s){for(var r=0!==(1&e.mode);null!==Xo;){var n=Xo,a=n.child;if(22===n.tag&&r){var i=null!==n.memoizedState||Qo;if(!i){var o=n.alternate,l=null!==o&&null!==o.memoizedState||$o;o=Qo;var c=$o;if(Qo=i,($o=l)&&!c)for(Xo=n;null!==Xo;)l=(i=Xo).child,22===i.tag&&null!==i.memoizedState?wl(n):null!==l?(l.return=i,Xo=l):wl(n);for(;null!==a;)Xo=a,yl(a,t,s),a=a.sibling;Xo=n,Qo=o,$o=c}jl(e)}else 0!==(8772&n.subtreeFlags)&&null!==a?(a.return=n,Xo=a):jl(e)}}function jl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var s=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$o||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$o)if(null===s)r.componentDidMount();else{var n=t.elementType===t.type?s.memoizedProps:to(t.type,s.memoizedProps);r.componentDidUpdate(n,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Wa(t,i,r);break;case 3:var o=t.updateQueue;if(null!==o){if(s=null,null!==t.child)switch(t.child.tag){case 5:case 1:s=t.child.stateNode}Wa(t,o,s)}break;case 5:var l=t.stateNode;if(null===s&&4&t.flags){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}$o||512&t.flags&&nl(t)}catch(m){kc(t,t.return,m)}}if(t===e){Xo=null;break}if(null!==(s=t.sibling)){s.return=t.return,Xo=s;break}Xo=t.return}}function bl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xo=s;break}Xo=t.return}}function wl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{rl(4,t)}catch(l){kc(t,s,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var n=t.return;try{r.componentDidMount()}catch(l){kc(t,n,l)}}var a=t.return;try{nl(t)}catch(l){kc(t,a,l)}break;case 5:var i=t.return;try{nl(t)}catch(l){kc(t,i,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var Nl,kl=Math.ceil,_l=j.ReactCurrentDispatcher,Sl=j.ReactCurrentOwner,Cl=j.ReactCurrentBatchConfig,El=0,Pl=null,Tl=null,Ol=0,Rl=0,Il=kn(0),Al=0,ql=null,Dl=0,Ml=0,Ll=0,Fl=null,Ul=null,zl=0,Bl=1/0,Wl=null,Hl=!1,Vl=null,Gl=null,Yl=!1,Kl=null,Ql=0,$l=0,Jl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&El)?Je():-1!==Xl?Xl:Xl=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Ol?Ol&-Ol:null!==fa.transition?(0===Zl&&(Zl=ft()),Zl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function sc(e,t,s,r){if(50<$l)throw $l=0,Jl=null,Error(a(185));vt(e,s,r),0!==(2&El)&&e===Pl||(e===Pl&&(0===(2&El)&&(Ml|=s),4===Al&&oc(e,Ol)),rc(e,r),1===s&&0===El&&0===(1&t.mode)&&(Bl=Je()+500,Fn&&Bn()))}function rc(e,t){var s=e.callbackNode;!function(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,n=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),o=1<<i,l=n[i];-1===l?0!==(o&s)&&0===(o&r)||(n[i]=mt(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=ht(e,e===Pl?Ol:0);if(0===r)null!==s&&Ke(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=s&&Ke(s),1===t)0===e.tag?function(e){Fn=!0,zn(e)}(lc.bind(null,e)):zn(lc.bind(null,e)),an(function(){0===(6&El)&&Bn()}),s=null;else{switch(jt(r)){case 1:s=Ze;break;case 4:s=et;break;case 16:default:s=tt;break;case 536870912:s=rt}s=Pc(s,nc.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function nc(e,t){if(Xl=-1,Zl=0,0!==(6&El))throw Error(a(327));var s=e.callbackNode;if(wc()&&e.callbackNode!==s)return null;var r=ht(e,e===Pl?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var n=El;El|=2;var i=pc();for(Pl===e&&Ol===t||(Wl=null,Bl=Je()+500,hc(e,t));;)try{xc();break}catch(l){mc(e,l)}Sa(),_l.current=i,El=n,null!==Tl?t=0:(Pl=null,Ol=0,t=Al)}if(0!==t){if(2===t&&(0!==(n=pt(e))&&(r=n,t=ac(e,n))),1===t)throw s=ql,hc(e,0),oc(e,r),rc(e,Je()),s;if(6===t)oc(e,r);else{if(n=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var s=t.updateQueue;if(null!==s&&null!==(s=s.stores))for(var r=0;r<s.length;r++){var n=s[r],a=n.getSnapshot;n=n.value;try{if(!ir(a(),n))return!1}catch(o){return!1}}}if(s=t.child,16384&t.subtreeFlags&&null!==s)s.return=t,t=s;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(n)&&(2===(t=gc(e,r))&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t))throw s=ql,hc(e,0),oc(e,r),rc(e,Je()),s;switch(e.finishedWork=n,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:bc(e,Ul,Wl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=zl+500-Je())){if(0!==ht(e,0))break;if(((n=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=sn(bc.bind(null,e,Ul,Wl),t);break}bc(e,Ul,Wl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,n=-1;0<r;){var o=31-it(r);i=1<<o,(o=t[o])>n&&(n=o),r&=~i}if(r=n,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=sn(bc.bind(null,e,Ul,Wl),r);break}bc(e,Ul,Wl);break;default:throw Error(a(329))}}}return rc(e,Je()),e.callbackNode===s?nc.bind(null,e):null}function ac(e,t){var s=Fl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=s,null!==t&&ic(t)),e}function ic(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function oc(e,t){for(t&=~Ll,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-it(t),r=1<<s;e[s]=-1,t&=~r}}function lc(e){if(0!==(6&El))throw Error(a(327));wc();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var s=gc(e,t);if(0!==e.tag&&2===s){var r=pt(e);0!==r&&(t=r,s=ac(e,r))}if(1===s)throw s=ql,hc(e,0),oc(e,t),rc(e,Je()),s;if(6===s)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Ul,Wl),rc(e,Je()),null}function cc(e,t){var s=El;El|=1;try{return e(t)}finally{0===(El=s)&&(Bl=Je()+500,Fn&&Bn())}}function dc(e){null!==Kl&&0===Kl.tag&&0===(6&El)&&wc();var t=El;El|=1;var s=Cl.transition,r=yt;try{if(Cl.transition=null,yt=1,e)return e()}finally{yt=r,Cl.transition=s,0===(6&(El=t))&&Bn()}}function uc(){Rl=Il.current,_n(Il)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(-1!==s&&(e.timeoutHandle=-1,rn(s)),null!==Tl)for(s=Tl.return;null!==s;){var r=s;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&In();break;case 3:$a(),_n(Pn),_n(En),si();break;case 5:Xa(r);break;case 4:$a();break;case 13:case 19:_n(Za);break;case 10:Ca(r.type._context);break;case 22:case 23:uc()}s=s.return}if(Pl=e,Tl=e=Ic(e.current,null),Ol=Rl=t,Al=0,ql=null,Ll=Ml=Dl=0,Ul=Fl=null,null!==Oa){for(t=0;t<Oa.length;t++)if(null!==(r=(s=Oa[t]).interleaved)){s.interleaved=null;var n=r.next,a=s.pending;if(null!==a){var i=a.next;a.next=n,r.next=i}s.pending=r}Oa=null}return e}function mc(e,t){for(;;){var s=Tl;try{if(Sa(),ri.current=Ji,ci){for(var r=ii.memoizedState;null!==r;){var n=r.queue;null!==n&&(n.pending=null),r=r.next}ci=!1}if(ai=0,li=oi=ii=null,di=!1,ui=0,Sl.current=null,null===s||null===s.return){Al=1,ql=t,Tl=null;break}e:{var i=e,o=s.return,l=s,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&fo(i,d,t),c=d;var f=(t=p).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){fo(i,d,t),fc();break e}c=Error(a(426))}else if(na&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),pa(lo(c,l));break e}}i=c=lo(c,l),4!==Al&&(Al=2),null===Fl?Fl=[i]:Fl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,za(i,mo(0,c,t));break e;case 1:l=c;var x=i.type,y=i.stateNode;if(0===(128&i.flags)&&("function"===typeof x.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Gl||!Gl.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t,za(i,po(i,l,t));break e}}i=i.return}while(null!==i)}jc(s)}catch(j){t=j,Tl===s&&null!==s&&(Tl=s=s.return);continue}break}}function pc(){var e=_l.current;return _l.current=Ji,null===e?Ji:e}function fc(){0!==Al&&3!==Al&&2!==Al||(Al=4),null===Pl||0===(268435455&Dl)&&0===(268435455&Ml)||oc(Pl,Ol)}function gc(e,t){var s=El;El|=2;var r=pc();for(Pl===e&&Ol===t||(Wl=null,hc(e,t));;)try{vc();break}catch(n){mc(e,n)}if(Sa(),El=s,_l.current=r,null!==Tl)throw Error(a(261));return Pl=null,Ol=0,Al}function vc(){for(;null!==Tl;)yc(Tl)}function xc(){for(;null!==Tl&&!Qe();)yc(Tl)}function yc(e){var t=Nl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?jc(e):Tl=t,Sl.current=null}function jc(e){var t=e;do{var s=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(s=Yo(s,t,Rl)))return void(Tl=s)}else{if(null!==(s=Ko(s,t)))return s.flags&=32767,void(Tl=s);if(null===e)return Al=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Al&&(Al=5)}function bc(e,t,s){var r=yt,n=Cl.transition;try{Cl.transition=null,yt=1,function(e,t,s,r){do{wc()}while(null!==Kl);if(0!==(6&El))throw Error(a(327));s=e.finishedWork;var n=e.finishedLanes;if(null===s)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(function(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var n=31-it(s),a=1<<n;t[n]=0,r[n]=-1,e[n]=-1,s&=~a}}(e,i),e===Pl&&(Tl=Pl=null,Ol=0),0===(2064&s.subtreeFlags)&&0===(2064&s.flags)||Yl||(Yl=!0,Pc(tt,function(){return wc(),null})),i=0!==(15990&s.flags),0!==(15990&s.subtreeFlags)||i){i=Cl.transition,Cl.transition=null;var o=yt;yt=1;var l=El;El|=4,Sl.current=null,function(e,t){if(Zr=Ht,hr(e=ur())){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(s=(s=e.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(r&&0!==r.rangeCount){s=r.anchorNode;var n=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{s.nodeType,i.nodeType}catch(b){s=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var p;h!==s||0!==n&&3!==h.nodeType||(l=o+n),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)m=h,h=p;for(;;){if(h===e)break t;if(m===s&&++d===n&&(l=o),m===i&&++u===r&&(c=o),null!==(p=h.nextSibling))break;m=(h=m).parentNode}h=p}s=-1===l||-1===c?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(en={focusedElem:e,selectionRange:s},Ht=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,v=f.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var j=t.stateNode.containerInfo;1===j.nodeType?j.textContent="":9===j.nodeType&&j.documentElement&&j.removeChild(j.documentElement);break;default:throw Error(a(163))}}catch(b){kc(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}f=tl,tl=!1}(e,s),gl(s,e),mr(en),Ht=!!Zr,en=Zr=null,e.current=s,xl(s,e,n),$e(),El=l,yt=o,Cl.transition=i}else e.current=s;if(Yl&&(Yl=!1,Kl=e,Ql=n),i=e.pendingLanes,0===i&&(Gl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(nt,e,void 0,128===(128&e.current.flags))}catch(t){}}(s.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,s=0;s<t.length;s++)n=t[s],r(n.value,{componentStack:n.stack,digest:n.digest});if(Hl)throw Hl=!1,e=Vl,Vl=null,e;0!==(1&Ql)&&0!==e.tag&&wc(),i=e.pendingLanes,0!==(1&i)?e===Jl?$l++:($l=0,Jl=e):$l=0,Bn()}(e,t,s,r)}finally{Cl.transition=n,yt=r}return null}function wc(){if(null!==Kl){var e=jt(Ql),t=Cl.transition,s=yt;try{if(Cl.transition=null,yt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Ql=0,0!==(6&El))throw Error(a(331));var n=El;for(El|=4,Xo=e.current;null!==Xo;){var i=Xo,o=i.child;if(0!==(16&Xo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Xo=d;null!==Xo;){var u=Xo;switch(u.tag){case 0:case 11:case 15:sl(8,u,i)}var h=u.child;if(null!==h)h.return=u,Xo=h;else for(;null!==Xo;){var m=(u=Xo).sibling,p=u.return;if(al(u),u===d){Xo=null;break}if(null!==m){m.return=p,Xo=m;break}Xo=p}}}var f=i.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(i=Xo).flags))switch(i.tag){case 0:case 11:case 15:sl(9,i,i.return)}var x=i.sibling;if(null!==x){x.return=i.return,Xo=x;break e}Xo=i.return}}var y=e.current;for(Xo=y;null!==Xo;){var j=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==j)j.return=o,Xo=j;else e:for(o=y;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(w){kc(l,l.return,w)}if(l===o){Xo=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,Xo=b;break e}Xo=l.return}}if(El=n,Bn(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(nt,e)}catch(w){}r=!0}return r}finally{yt=s,Cl.transition=t}}return!1}function Nc(e,t,s){e=Fa(e,t=mo(0,t=lo(s,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function kc(e,t,s){if(3===e.tag)Nc(e,e,s);else for(;null!==t;){if(3===t.tag){Nc(t,e,s);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Fa(t,e=po(t,e=lo(s,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,s){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&s,Pl===e&&(Ol&s)===s&&(4===Al||3===Al&&(130023424&Ol)===Ol&&500>Je()-zl?hc(e,0):Ll|=s),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var s=ec();null!==(e=Aa(e,t))&&(vt(e,t,s),rc(e,s))}function Cc(e){var t=e.memoizedState,s=0;null!==t&&(s=t.retryLane),Sc(e,s)}function Ec(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,n=e.memoizedState;null!==n&&(s=n.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sc(e,s)}function Pc(e,t){return Ye(e,t)}function Tc(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,s,r){return new Tc(e,t,s,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var s=e.alternate;return null===s?((s=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=14680064&e.flags,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Ac(e,t,s,r,n,i){var o=2;if(r=e,"function"===typeof e)Rc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return qc(s.children,n,i,t);case k:o=8,n|=8;break;case _:return(e=Oc(12,s,t,2|n)).elementType=_,e.lanes=i,e;case P:return(e=Oc(13,s,t,n)).elementType=P,e.lanes=i,e;case T:return(e=Oc(19,s,t,n)).elementType=T,e.lanes=i,e;case I:return Dc(s,n,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case C:o=9;break e;case E:o=11;break e;case O:o=14;break e;case R:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(o,s,t,n)).elementType=e,t.type=r,t.lanes=i,t}function qc(e,t,s,r){return(e=Oc(7,e,r,t)).lanes=s,e}function Dc(e,t,s,r){return(e=Oc(22,e,r,t)).elementType=I,e.lanes=s,e.stateNode={isHidden:!1},e}function Mc(e,t,s){return(e=Oc(6,e,null,t)).lanes=s,e}function Lc(e,t,s){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,s,r,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Uc(e,t,s,r,n,a,i,o,l){return e=new Fc(e,t,s,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function zc(e){if(!e)return Cn;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var s=e.type;if(Rn(s))return qn(e,s,t)}return t}function Bc(e,t,s,r,n,a,i,o,l){return(e=Uc(s,r,!0,e,0,a,0,o,l)).context=zc(null),s=e.current,(a=La(r=ec(),n=tc(s))).callback=void 0!==t&&null!==t?t:null,Fa(s,a,n),e.current.lanes=n,vt(e,n,r),rc(e,r),e}function Wc(e,t,s,r){var n=t.current,a=ec(),i=tc(n);return s=zc(s),null===t.context?t.context=s:t.pendingContext=s,(t=La(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fa(n,t,i))&&(sc(e,n,i,a),Ua(e,n,i)),i}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var s=e.retryLane;e.retryLane=0!==s&&s<t?s:t}}function Gc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}Nl=function(e,t,s){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pn.current)yo=!0;else{if(0===(e.lanes&s)&&0===(128&t.flags))return yo=!1,function(e,t,s){switch(t.tag){case 3:Po(t),ma();break;case 5:Ja(t);break;case 1:Rn(t.type)&&Dn(t);break;case 4:Qa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,n=t.memoizedProps.value;Sn(wa,r._currentValue),r._currentValue=n;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Sn(Za,1&Za.current),t.flags|=128,null):0!==(s&t.child.childLanes)?Mo(e,t,s):(Sn(Za,1&Za.current),null!==(e=Ho(e,t,s))?e.sibling:null);Sn(Za,1&Za.current);break;case 19:if(r=0!==(s&t.childLanes),0!==(128&e.flags)){if(r)return Bo(e,t,s);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),Sn(Za,Za.current),r)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,s)}return Ho(e,t,s)}(e,t,s);yo=0!==(131072&e.flags)}else yo=!1,na&&0!==(1048576&t.flags)&&Zn(t,Gn,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var n=On(t,En.current);Pa(t,s),n=fi(null,t,r,e,n,s);var i=gi();return t.flags|=1,"object"===typeof n&&null!==n&&"function"===typeof n.render&&void 0===n.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rn(r)?(i=!0,Dn(t)):i=!1,t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,Da(t),n.updater=ro,t.stateNode=n,n._reactInternals=t,oo(t,r,e,s),t=Eo(null,t,r,!0,i,s)):(t.tag=0,na&&i&&ea(t),jo(null,t,n,s),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,r=(n=r._init)(r._payload),t.type=r,n=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===O)return 14}return 2}(r),e=to(r,e),n){case 0:t=So(null,t,r,e,s);break e;case 1:t=Co(null,t,r,e,s);break e;case 11:t=bo(null,t,r,e,s);break e;case 14:t=wo(null,t,r,to(r.type,e),s);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,n=t.pendingProps,So(e,t,r,n=t.elementType===r?n:to(r,n),s);case 1:return r=t.type,n=t.pendingProps,Co(e,t,r,n=t.elementType===r?n:to(r,n),s);case 3:e:{if(Po(t),null===e)throw Error(a(387));r=t.pendingProps,n=(i=t.memoizedState).element,Ma(e,t),Ba(t,r,null,s);var o=t.memoizedState;if(r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=To(e,t,r,s,n=lo(Error(a(423)),t));break e}if(r!==n){t=To(e,t,r,s,n=lo(Error(a(424)),t));break e}for(ra=cn(t.stateNode.containerInfo.firstChild),sa=t,na=!0,aa=null,s=ba(t,null,r,s),t.child=s;s;)s.flags=-3&s.flags|4096,s=s.sibling}else{if(ma(),r===n){t=Ho(e,t,s);break e}jo(e,t,r,s)}t=t.child}return t;case 5:return Ja(t),null===e&&ca(t),r=t.type,n=t.pendingProps,i=null!==e?e.memoizedProps:null,o=n.children,tn(r,n)?o=null:null!==i&&tn(r,i)&&(t.flags|=32),_o(e,t),jo(e,t,o,s),t.child;case 6:return null===e&&ca(t),null;case 13:return Mo(e,t,s);case 4:return Qa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ja(t,null,r,s):jo(e,t,r,s),t.child;case 11:return r=t.type,n=t.pendingProps,bo(e,t,r,n=t.elementType===r?n:to(r,n),s);case 7:return jo(e,t,t.pendingProps,s),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,n=t.pendingProps,i=t.memoizedProps,o=n.value,Sn(wa,r._currentValue),r._currentValue=o,null!==i)if(ir(i.value,o)){if(i.children===n.children&&!Pn.current){t=Ho(e,t,s);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=La(-1,s&-s)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=s,null!==(c=i.alternate)&&(c.lanes|=s),Ea(i.return,s,t),l.lanes|=s;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=s,null!==(l=o.alternate)&&(l.lanes|=s),Ea(o,s,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}jo(e,t,n.children,s),t=t.child}return t;case 9:return n=t.type,r=t.pendingProps.children,Pa(t,s),r=r(n=Ta(n)),t.flags|=1,jo(e,t,r,s),t.child;case 14:return n=to(r=t.type,t.pendingProps),wo(e,t,r,n=to(r.type,n),s);case 15:return No(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:to(r,n),Wo(e,t),t.tag=1,Rn(r)?(e=!0,Dn(t)):e=!1,Pa(t,s),ao(t,r,n),oo(t,r,n,s),Eo(null,t,r,!0,e,s);case 19:return Bo(e,t,s);case 22:return ko(e,t,s)}throw Error(a(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,s,r,n){var a=s._reactRootContainer;if(a){var i=a;if("function"===typeof n){var o=n;n=function(){var e=Hc(i);o.call(e)}}Wc(t,i,e,n)}else i=function(e,t,s,r,n){if(n){if("function"===typeof r){var a=r;r=function(){var e=Hc(i);a.call(e)}}var i=Bc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=i,e[pn]=i.current,zr(8===e.nodeType?e.parentNode:e),dc(),i}for(;n=e.lastChild;)e.removeChild(n);if("function"===typeof r){var o=r;r=function(){var e=Hc(l);o.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[pn]=l.current,zr(8===e.nodeType?e.parentNode:e),dc(function(){Wc(t,l,s,r)}),l}(s,t,e,n,r);return Hc(i)}Qc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Qc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Wc(null,e,null,null)}),t[pn]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var s=0;s<It.length&&0!==t&&t<It[s].priority;s++);It.splice(s,0,e),0===s&&Mt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=ut(t.pendingLanes);0!==s&&(xt(t,1|s),rc(t,Je()),0===(6&El)&&(Bl=Je()+500,Bn()))}break;case 13:dc(function(){var t=Aa(e,1);if(null!==t){var s=ec();sc(t,e,1,s)}}),Gc(e,1)}},wt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)sc(t,e,134217728,ec());Gc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),s=Aa(e,t);if(null!==s)sc(s,e,t,ec());Gc(e,t)}},kt=function(){return yt},_t=function(e,t){var s=yt;try{return yt=e,t()}finally{yt=s}},we=function(e,t,s){switch(t){case"input":if(X(e,s),t=s.name,"radio"===s.type&&null!=t){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var n=bn(r);if(!n)throw Error(a(90));Y(r),X(r,n)}}}break;case"textarea":ae(e,s);break;case"select":null!=(t=s.value)&&se(e,!!s.multiple,t,!1)}},Ee=cc,Pe=dc;var ed={usingClientEntryPoint:!1,Events:[yn,jn,bn,Se,Ce,cc]},td={findFiberByHostInstance:xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{nt=rd.inject(sd),at=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return function(e,t,s){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:s}}(e,t,null,s)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var s=!1,r="",n=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(s=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(n=t.onRecoverableError)),t=Uc(e,1,!1,null,0,s,0,r,n),e[pn]=t.current,zr(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,s){if(!Jc(t))throw Error(a(200));return Zc(null,e,t,!0,s)},t.hydrateRoot=function(e,t,s){if(!$c(e))throw Error(a(405));var r=null!=s&&s.hydratedSources||null,n=!1,i="",o=Yc;if(null!==s&&void 0!==s&&(!0===s.unstable_strictMode&&(n=!0),void 0!==s.identifierPrefix&&(i=s.identifierPrefix),void 0!==s.onRecoverableError&&(o=s.onRecoverableError)),t=Bc(t,null,e,1,null!=s?s:null,n,0,i,o),e[pn]=t.current,zr(e),r)for(e=0;e<r.length;e++)n=(n=(s=r[e])._getVersion)(s._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[s,n]:t.mutableSourceEagerHydrationData.push(s,n);return new Qc(t)},t.render=function(e,t,s){if(!Jc(t))throw Error(a(200));return Zc(null,e,t,!1,s)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pn]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!Jc(s))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,s,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},734:e=>{"use strict";e.exports=e=>{const t={};return"undefined"!==typeof WorkerGlobalScope?t.type="webworker":"object"===typeof document?t.type="browser":"object"===typeof process&&(t.type="node"),"undefined"===typeof e?t:t[e]}},736:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(s(374));class a extends n.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const s=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(s,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:s,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="";"plain"===r?n="pl":"phrase"===r?n="ph":"websearch"===r&&(n="w");const a=void 0===s?"":"(".concat(s,")");return this.url.searchParams.append(e,"".concat(n,"fts").concat(a,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,s]=e;this.url.searchParams.append(t,"eq.".concat(s))}),this}not(e,t,s){return this.url.searchParams.append(e,"not.".concat(t,".").concat(s)),this}or(e){let{foreignTable:t,referencedTable:s=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=s?"".concat(s,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,s){return this.url.searchParams.append(e,"".concat(t,".").concat(s)),this}}t.default=a},738:e=>{function t(s){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(s)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},745:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const r=s(400);t.DEFAULT_HEADERS={"X-Client-Info":"postgrest-js/".concat(r.version)}},783:e=>{"use strict";e.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}},826:e=>{"use strict";e.exports=e=>{e.terminate()}},829:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(s(736));t.default=class{constructor(e,t){let{headers:s={},schema:r,fetch:n}=t;this.url=e,this.headers=s,this.schema=r,this.fetch=n}select(e){let{head:t=!1,count:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let a=!1;const i=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!a?"":('"'===e&&(a=!a),e)).join("");return this.url.searchParams.set("select",i),s&&(this.headers.Prefer="count=".concat(s)),new n.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:s=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push("count=".concat(t)),s||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new n.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:s=!1,count:r,defaultToNull:a=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=["resolution=".concat(s?"ignore":"merge","-duplicates")];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push("count=".concat(r)),a||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new n.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push("count=".concat(t)),this.headers.Prefer=s.join(","),new n.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push("count=".concat(e)),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new n.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},847:(e,t,s)=>{var r=s(893);e.exports=function(e,t){if(null==e)return{};var s,n,a=r(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a},e.exports.__esModule=!0,e.exports.default=e.exports},853:(e,t,s)=>{"use strict";e.exports=s(234)},893:e=>{e.exports=function(e,t){if(null==e)return{};var s={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;s[r]=e[r]}return s},e.exports.__esModule=!0,e.exports.default=e.exports},897:(e,t,s)=>{var r=s(693);function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}e.exports=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach(function(t){r(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},919:(e,t,s)=>{"use strict";const r=s(146),n=s(282),a=s(826),i=s(171),o=s(677),l=s(246);e.exports={defaultOptions:r,spawnWorker:n,terminateWorker:a,onMessage:i,send:o,loadImage:l}},950:(e,t,s)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=s(730)},980:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const n=r(s(210));t.PostgrestClient=n.default;const a=r(s(829));t.PostgrestQueryBuilder=a.default;const i=r(s(736));t.PostgrestFilterBuilder=i.default;const o=r(s(374));t.PostgrestTransformBuilder=o.default;const l=r(s(286));t.PostgrestBuilder=l.default;const c=r(s(611));t.PostgrestError=c.default,t.default={PostgrestClient:n.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default}}},t={};function s(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,s),a.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;s.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"===typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"===typeof r.then)return r}var a=Object.create(null);s.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&n&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,s.d(a,i),a}})(),s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e,t=s(43),r=s.t(t,2),n=s(391),a=s(950),i=s.t(a,2);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(s){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,s,r){return void 0===s&&(s=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:s,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&"?"!==s&&(t+="?"===s.charAt(0)?s:"?"+s),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(t,s,r,n){void 0===n&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,d=a.history,p=e.Pop,f=null,g=v();function v(){return(d.state||{idx:null}).idx}function x(){p=e.Pop;let t=v(),s=null==t?null:t-g;g=t,f&&f({action:p,location:j.location,delta:s})}function y(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,s="string"===typeof e?e:m(e);return s=s.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+s),new URL(s,t)}null==g&&(g=0,d.replaceState(o({},d.state,{idx:g}),""));let j={get action(){return p},get location(){return t(a,d)},listen(e){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(l,x),f=e,()=>{a.removeEventListener(l,x),f=null}},createHref:e=>s(a,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,s){p=e.Push;let n=h(j.location,t,s);r&&r(n,t),g=v()+1;let o=u(n,g),l=j.createHref(n);try{d.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;a.location.assign(l)}i&&f&&f({action:p,location:j.location,delta:1})},replace:function(t,s){p=e.Replace;let n=h(j.location,t,s);r&&r(n,t),g=v();let a=u(n,g),o=j.createHref(n);d.replaceState(a,"",o),i&&f&&f({action:p,location:j.location,delta:0})},go:e=>d.go(e)};return j}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,s){return void 0===s&&(s="/"),x(e,t,s,!1)}function x(e,t,s,r){let n=R(("string"===typeof t?p(t):t).pathname||"/",s);if(null==n)return null;let a=y(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let s=e.length===t.length&&e.slice(0,-1).every((e,s)=>e===t[s]);return s?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let o=0;null==i&&o<a.length;++o){let e=O(n);i=P(a[o],e,r)}return i}function y(e,t,s,r){void 0===t&&(t=[]),void 0===s&&(s=[]),void 0===r&&(r="");let n=(e,n,a)=>{let i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:n,route:e};i.relativePath.startsWith("/")&&(c(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let o=M([r,i.relativePath]),l=s.concat(i);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),y(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:E(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var s;if(""!==e.path&&null!=(s=e.path)&&s.includes("?"))for(let r of j(e.path))n(e,t,r);else n(e,t)}),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[s,...r]=t,n=s.endsWith("?"),a=s.replace(/\?$/,"");if(0===r.length)return n?[a,""]:[a];let i=j(r.join("/")),o=[];return o.push(...i.map(e=>""===e?a:[a,e].join("/"))),n&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const b=/^:[\w-]+$/,w=3,N=2,k=1,_=10,S=-2,C=e=>"*"===e;function E(e,t){let s=e.split("/"),r=s.length;return s.some(C)&&(r+=S),t&&(r+=N),s.filter(e=>!C(e)).reduce((e,t)=>e+(b.test(t)?w:""===t?k:_),r)}function P(e,t,s){void 0===s&&(s=!1);let{routesMeta:r}=e,n={},a="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",d=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&s&&!r[r.length-1].route.index&&(d=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(n,d.params),i.push({params:n,pathname:M([a,d.pathname]),pathnameBase:L(M([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=M([a,d.pathnameBase]))}return i}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=function(e,t,s){void 0===t&&(t=!1);void 0===s&&(s=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,s)=>(r.push({paramName:t,isOptional:null!=s}),s?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))");let a=new RegExp(n,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),n=t.match(s);if(!n)return null;let a=n[0],i=a.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:r.reduce((e,t,s)=>{let{paramName:r,isOptional:n}=t;if("*"===r){let e=o[s]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[s];return e[r]=n&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:i,pattern:e}}function O(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&"/"!==r?null:e.slice(s)||"/"}function I(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+s+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function A(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function q(e,t){let s=A(e);return t?s.map((e,t)=>t===s.length-1?e.pathname:e.pathnameBase):s.map(e=>e.pathnameBase)}function D(e,t,s,r){let n;void 0===r&&(r=!1),"string"===typeof e?n=p(e):(n=o({},e),c(!n.pathname||!n.pathname.includes("?"),I("?","pathname","search",n)),c(!n.pathname||!n.pathname.includes("#"),I("#","pathname","hash",n)),c(!n.search||!n.search.includes("#"),I("#","search","hash",n)));let a,i=""===e||""===n.pathname,l=i?"/":n.pathname;if(null==l)a=s;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}a=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:s,search:r="",hash:n=""}="string"===typeof e?p(e):e,a=s?s.startsWith("/")?s:function(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?s.length>1&&s.pop():"."!==e&&s.push(e)}),s.length>1?s.join("/"):"/"}(s,t):t;return{pathname:a,search:F(r),hash:U(n)}}(n,a),u=l&&"/"!==l&&l.endsWith("/"),h=(i||"."===l)&&s.endsWith("/");return d.pathname.endsWith("/")||!u&&!h||(d.pathname+="/"),d}const M=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],W=(new Set(B),["get",...B]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},H.apply(this,arguments)}const V=t.createContext(null);const G=t.createContext(null);const Y=t.createContext(null);const K=t.createContext(null);const Q=t.createContext({outlet:null,matches:[],isDataRoute:!1});const $=t.createContext(null);function J(){return null!=t.useContext(K)}function X(){return J()||c(!1),t.useContext(K).location}function Z(e){t.useContext(Y).static||t.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=t.useContext(Q);return e?function(){let{router:e}=de(le.UseNavigateStable),s=he(ce.UseNavigateStable),r=t.useRef(!1);return Z(()=>{r.current=!0}),t.useCallback(function(t,n){void 0===n&&(n={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,H({fromRouteId:s},n)))},[e,s])}():function(){J()||c(!1);let e=t.useContext(V),{basename:s,future:r,navigator:n}=t.useContext(Y),{matches:a}=t.useContext(Q),{pathname:i}=X(),o=JSON.stringify(q(a,r.v7_relativeSplatPath)),l=t.useRef(!1);return Z(()=>{l.current=!0}),t.useCallback(function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void n.go(t);let a=D(t,JSON.parse(o),i,"path"===r.relative);null==e&&"/"!==s&&(a.pathname="/"===a.pathname?s:M([s,a.pathname])),(r.replace?n.replace:n.push)(a,r.state,r)},[s,n,o,i,e])}()}function te(e,s){let{relative:r}=void 0===s?{}:s,{future:n}=t.useContext(Y),{matches:a}=t.useContext(Q),{pathname:i}=X(),o=JSON.stringify(q(a,n.v7_relativeSplatPath));return t.useMemo(()=>D(e,JSON.parse(o),i,"path"===r),[e,o,i,r])}function se(s,r,n,a){J()||c(!1);let{navigator:i}=t.useContext(Y),{matches:o}=t.useContext(Q),l=o[o.length-1],d=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,m=X();if(r){var f;let e="string"===typeof r?p(r):r;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||c(!1),h=e}else h=m;let g=h.pathname||"/",x=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=v(s,{pathname:x});let j=oe(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:M([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:M([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,a);return r&&j?t.createElement(K.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:e.Pop}},j):j}function re(){let e=function(){var e;let s=t.useContext($),r=ue(ce.UseRouteError),n=he(ce.UseRouteError);if(void 0!==s)return s;return null==(e=r.errors)?void 0:e[n]}(),s=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},s),r?t.createElement("pre",{style:a},r):null,null)}const ne=t.createElement(re,null);class ae extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Q.Provider,{value:this.props.routeContext},t.createElement($.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:s,match:r,children:n}=e,a=t.useContext(V);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Q.Provider,{value:s},n)}function oe(e,s,r,n){var a;if(void 0===s&&(s=[]),void 0===r&&(r=null),void 0===n&&(n=null),null==e){var i;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(i=n)&&i.v7_partialHydration&&0===s.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let o=e,l=null==(a=r)?void 0:a.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let d=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let t=0;t<o.length;t++){let e=o[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=t),e.route.id){let{loaderData:t,errors:s}=r,n=e.route.loader&&void 0===t[e.route.id]&&(!s||void 0===s[e.route.id]);if(e.route.lazy||n){d=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,n,a)=>{let i,c=!1,h=null,m=null;var p;r&&(i=l&&n.route.id?l[n.route.id]:void 0,h=n.route.errorElement||ne,d&&(u<0&&0===a?(p="route-fallback",!1||me[p]||(me[p]=!0),c=!0,m=null):u===a&&(c=!0,m=n.route.hydrateFallbackElement||null)));let f=s.concat(o.slice(0,a+1)),g=()=>{let s;return s=i?h:c?m:n.route.Component?t.createElement(n.route.Component,null):n.route.element?n.route.element:e,t.createElement(ie,{match:n,routeContext:{outlet:e,matches:f,isDataRoute:null!=r},children:s})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===a)?t.createElement(ae,{location:r.location,revalidation:r.revalidation,component:h,error:i,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function de(e){let s=t.useContext(V);return s||c(!1),s}function ue(e){let s=t.useContext(G);return s||c(!1),s}function he(e){let s=function(){let e=t.useContext(Q);return e||c(!1),e}(),r=s.matches[s.matches.length-1];return r.route.id||c(!1),r.route.id}const me={};function pe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function fe(e){c(!1)}function ge(s){let{basename:r="/",children:n=null,location:a,navigationType:i=e.Pop,navigator:o,static:l=!1,future:d}=s;J()&&c(!1);let u=r.replace(/^\/*/,"/"),h=t.useMemo(()=>({basename:u,navigator:o,static:l,future:H({v7_relativeSplatPath:!1},d)}),[u,d,o,l]);"string"===typeof a&&(a=p(a));let{pathname:m="/",search:f="",hash:g="",state:v=null,key:x="default"}=a,y=t.useMemo(()=>{let e=R(m,u);return null==e?null:{location:{pathname:e,search:f,hash:g,state:v,key:x},navigationType:i}},[u,m,f,g,v,x,i]);return null==y?null:t.createElement(Y.Provider,{value:h},t.createElement(K.Provider,{children:n,value:y}))}function ve(e){let{children:t,location:s}=e;return se(xe(t),s)}new Promise(()=>{});t.Component;function xe(e,s){void 0===s&&(s=[]);let r=[];return t.Children.forEach(e,(e,n)=>{if(!t.isValidElement(e))return;let a=[...s,n];if(e.type===t.Fragment)return void r.push.apply(r,xe(e.props.children,a));e.type!==fe&&c(!1),e.props.index&&e.props.children&&c(!1);let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=xe(e.props.children,a)),r.push(i)}),r}function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},ye.apply(this,arguments)}function je(e,t){if(null==e)return{};var s,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)s=a[r],t.indexOf(s)>=0||(n[s]=e[s]);return n}function be(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let r=e[s];return t.concat(Array.isArray(r)?r.map(e=>[s,e]):[[s,r]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const we=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(na){}new Map;const Ne=r.startTransition;i.flushSync,r.useId;function ke(e){let{basename:s,children:r,future:n,window:a}=e,i=t.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:a,v5Compat:!0})&&(o={}),f(function(e,t){let{pathname:s,search:r,hash:n}=e.location;return h("",{pathname:s,search:r,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,o)));let l=i.current,[c,d]=t.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},p=t.useCallback(e=>{u&&Ne?Ne(()=>d(e)):d(e)},[d,u]);return t.useLayoutEffect(()=>l.listen(p),[l,p]),t.useEffect(()=>pe(n),[n]),t.createElement(ge,{basename:s,children:r,location:c.location,navigationType:c.action,navigator:l,future:n})}const _e="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Se=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=t.forwardRef(function(e,s){let r,{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:d,to:u,preventScrollReset:h,viewTransition:p}=e,f=je(e,we),{basename:g}=t.useContext(Y),v=!1;if("string"===typeof u&&Se.test(u)&&(r=u,_e))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),s=R(t.pathname,g);t.origin===e.origin&&null!=s?u=s+t.search+t.hash:v=!0}catch(na){}let x=function(e,s){let{relative:r}=void 0===s?{}:s;J()||c(!1);let{basename:n,navigator:a}=t.useContext(Y),{hash:i,pathname:o,search:l}=te(e,{relative:r}),d=o;return"/"!==n&&(d="/"===o?n:M([n,o])),a.createHref({pathname:d,search:l,hash:i})}(u,{relative:a}),y=function(e,s){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=void 0===s?{}:s,c=ee(),d=X(),u=te(e,{relative:o});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let s=void 0!==n?n:m(d)===m(u);c(e,{replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,a,r,e,i,o,l])}(u,{replace:o,state:l,target:d,preventScrollReset:h,relative:a,viewTransition:p});return t.createElement("a",ye({},f,{href:r||x,onClick:v||i?n:function(e){n&&n(e),e.defaultPrevented||y(e)},ref:s,target:d}))});var Ee,Pe;function Te(e){let s=t.useRef(be(e)),r=t.useRef(!1),n=X(),a=t.useMemo(()=>function(e,t){let s=be(e);return t&&t.forEach((e,r)=>{s.has(r)||t.getAll(r).forEach(e=>{s.append(r,e)})}),s}(n.search,r.current?null:s.current),[n.search]),i=ee(),o=t.useCallback((e,t)=>{const s=be("function"===typeof e?e(a):e);r.current=!0,i("?"+s,t)},[i,a]);return[a,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ee||(Ee={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Pe||(Pe={}));class Oe extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",s=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=s}}class Re extends Oe{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ie extends Oe{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ae extends Oe{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qe;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(qe||(qe={}));var De=function(e,t,s,r){return new(s||(s=Promise))(function(n,a){function i(e){try{l(r.next(e))}catch(na){a(na)}}function o(e){try{l(r.throw(e))}catch(na){a(na)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};class Me{constructor(e){let{headers:t={},customFetch:r,region:n=qe.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=n,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(s.bind(s,630)).then(e=>{let{default:s}=e;return s(...t)})}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var s;return De(this,void 0,void 0,function*(){try{const{headers:r,method:n,body:a}=t;let i={},{region:o}=t;o||(o=this.region);const l=new URL("".concat(this.url,"/").concat(e));let c;o&&"any"!==o&&(i["x-region"]=o,l.searchParams.set("forceFunctionRegion",o)),a&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&a instanceof Blob||a instanceof ArrayBuffer?(i["Content-Type"]="application/octet-stream",c=a):"string"===typeof a?(i["Content-Type"]="text/plain",c=a):"undefined"!==typeof FormData&&a instanceof FormData?c=a:(i["Content-Type"]="application/json",c=JSON.stringify(a)));const d=yield this.fetch(l.toString(),{method:n||"POST",headers:Object.assign(Object.assign(Object.assign({},i),this.headers),r),body:c}).catch(e=>{throw new Re(e)}),u=d.headers.get("x-relay-error");if(u&&"true"===u)throw new Ie(d);if(!d.ok)throw new Ae(d);let h,m=(null!==(s=d.headers.get("Content-Type"))&&void 0!==s?s:"text/plain").split(";")[0].trim();return h="application/json"===m?yield d.json():"application/octet-stream"===m?yield d.blob():"text/event-stream"===m?d:"multipart/form-data"===m?yield d.formData():yield d.text(),{data:h,error:null,response:d}}catch(r){return{data:null,error:r,response:r instanceof Ae||r instanceof Ie?r.context:void 0}}})}}var Le=s(980);const{PostgrestClient:Fe,PostgrestQueryBuilder:Ue,PostgrestFilterBuilder:ze,PostgrestTransformBuilder:Be,PostgrestBuilder:We,PostgrestError:He}=Le;const Ve=class{static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof s.g&&"undefined"!==typeof s.g.WebSocket)return{type:"native",constructor:s.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process&&process.versions&&process.versions.node){const e=parseInt(process.versions.node.split(".")[0]);return e>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(e," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(e," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},Ge="realtime-js/".concat("2.15.1"),Ye=1e4;var Ke,Qe,$e,Je,Xe,Ze;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Ke||(Ke={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Qe||(Qe={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}($e||($e={})),function(e){e.websocket="websocket"}(Je||(Je={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Xe||(Xe={}));class et{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){const r=t.getUint8(1),n=t.getUint8(2);let a=this.HEADER_LENGTH+2;const i=s.decode(e.slice(a,a+r));a+=r;const o=s.decode(e.slice(a,a+n));a+=n;return{ref:null,topic:i,event:o,payload:JSON.parse(s.decode(e.slice(a,e.byteLength)))}}}class tt{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(Ze||(Ze={}));const st=function(e,t){var s;const r=null!==(s=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==s?s:[];return Object.keys(t).reduce((s,n)=>(s[n]=rt(n,e,t,r),s),{})},rt=(e,t,s,r)=>{const n=t.find(t=>t.name===e),a=null===n||void 0===n?void 0:n.type,i=s[e];return a&&!r.includes(a)?nt(a,i):at(i)},nt=(e,t)=>{if("_"===e.charAt(0)){const s=e.slice(1,e.length);return ct(t,s)}switch(e){case Ze.bool:return it(t);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return ot(t);case Ze.json:case Ze.jsonb:return lt(t);case Ze.timestamp:return dt(t);case Ze.abstime:case Ze.date:case Ze.daterange:case Ze.int4range:case Ze.int8range:case Ze.money:case Ze.reltime:case Ze.text:case Ze.time:case Ze.timestamptz:case Ze.timetz:case Ze.tsrange:case Ze.tstzrange:default:return at(t)}},at=e=>e,it=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ot=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},lt=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},ct=(e,t)=>{if("string"!==typeof e)return e;const s=e.length-1,r=e[s];if("{"===e[0]&&"}"===r){let r;const a=e.slice(1,s);try{r=JSON.parse("["+a+"]")}catch(n){r=a?a.split(","):[]}return r.map(e=>nt(t,e))}return e},dt=e=>"string"===typeof e?e.replace(" ","T"):e,ut=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class ht{constructor(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ye;this.channel=e,this.event=t,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t(null===(s=this.receivedResp)||void 0===s?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:s}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var mt,pt,ft,gt;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(mt||(mt={}));class vt{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},e=>{const{onJoin:t,onLeave:s,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vt.syncState(this.state,e,t,s),this.pendingDiffs.forEach(e=>{this.state=vt.syncDiff(this.state,e,t,s)}),this.pendingDiffs=[],r()}),this.channel._on(s.diff,{},e=>{const{onJoin:t,onLeave:s,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=vt.syncDiff(this.state,e,t,s),r())}),this.onJoin((e,t,s)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:s})}),this.onLeave((e,t,s)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,r){const n=this.cloneDeep(e),a=this.transformState(t),i={},o={};return this.map(n,(e,t)=>{a[e]||(o[e]=t)}),this.map(a,(e,t)=>{const s=n[e];if(s){const r=t.map(e=>e.presence_ref),n=s.map(e=>e.presence_ref),a=t.filter(e=>n.indexOf(e.presence_ref)<0),l=s.filter(e=>r.indexOf(e.presence_ref)<0);a.length>0&&(i[e]=a),l.length>0&&(o[e]=l)}else i[e]=t}),this.syncDiff(n,{joins:i,leaves:o},s,r)}static syncDiff(e,t,s,r){const{joins:n,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(n,(t,r)=>{var n;const a=null!==(n=e[t])&&void 0!==n?n:[];if(e[t]=this.cloneDeep(r),a.length>0){const s=e[t].map(e=>e.presence_ref),r=a.filter(e=>s.indexOf(e.presence_ref)<0);e[t].unshift(...r)}s(t,a,r)}),this.map(a,(t,s)=>{let n=e[t];if(!n)return;const a=s.map(e=>e.presence_ref);n=n.filter(e=>a.indexOf(e.presence_ref)<0),e[t]=n,r(t,n,s),0===n.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const r=e[s];return t[s]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(pt||(pt={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(ft||(ft={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(gt||(gt={}));class xt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},s=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ht(this,$e.join,this.params,this.timeout),this.rejoinTimer=new tt(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=Qe.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on($e.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new vt(this),this.broadcastEndpointURL=ut(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var s,r;if(this.socket.isConnected()||this.socket.connect(),this.state==Qe.closed){const{config:{broadcast:n,presence:a,private:i}}=this.params,o=null!==(r=null===(s=this.bindings.postgres_changes)||void 0===s?void 0:s.map(e=>e.filter))&&void 0!==r?r:[],l=!!this.bindings[ft.PRESENCE]&&this.bindings[ft.PRESENCE].length>0,c={},d={broadcast:n,presence:Object.assign(Object.assign({},a),{enabled:l}),postgres_changes:o,private:i};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(gt.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(gt.CLOSED)),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:s}=t;var r;if(this.socket.setAuth(),void 0!==s){const t=this.bindings.postgres_changes,n=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,a=[];for(let r=0;r<n;r++){const n=t[r],{filter:{event:i,schema:o,table:l,filter:c}}=n,d=s&&s[r];if(!d||d.event!==i||d.schema!==o||d.table!==l||d.filter!==c)return this.unsubscribe(),this.state=Qe.errored,void(null===e||void 0===e||e(gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));a.push(Object.assign(Object.assign({},n),{id:d.id}))}return this.bindings.postgres_changes=a,void(e&&e(gt.SUBSCRIBED))}null===e||void 0===e||e(gt.SUBSCRIBED)}).receive("error",t=>{this.state=Qe.errored,null===e||void 0===e||e(gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this.state===Qe.joined&&e===ft.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,s)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var s,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(s=>{var r,n,a;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(a=null===(n=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===n?void 0:n.broadcast)||void 0===a?void 0:a.ack)||s("ok"),i.receive("ok",()=>s("ok")),i.receive("error",()=>s("error")),i.receive("timeout",()=>s("timed out"))});{const{event:a,payload:i}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(s=t.timeout)&&void 0!==s?s:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(n){return"AbortError"===n.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=Qe.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger($e.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(r=>{s=new ht(this,$e.leave,{},e),s.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{null===s||void 0===s||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qe.closed,this.bindings={}}async _fetchWithTimeout(e,t,s){const r=new AbortController,n=setTimeout(()=>r.abort(),s),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(n),a}_push(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new ht(this,e,t,s);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var r,n;const a=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=$e;if(s&&[i,o,l,c].indexOf(a)>=0&&s!==this._joinRef())return;let d=this._onMessage(a,t,s);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,s,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(s=e.filter)||void 0===s?void 0:s.event)||void 0===r?void 0:r.toLocaleLowerCase())===a}).map(e=>e.callback(d,s)):null===(n=this.bindings[a])||void 0===n||n.filter(e=>{var s,r,n,i,o,l;if(["broadcast","presence","postgres_changes"].includes(a)){if("id"in e){const a=e.id,i=null===(s=e.filter)||void 0===s?void 0:s.event;return a&&(null===(r=t.ids)||void 0===r?void 0:r.includes(a))&&("*"===i||(null===i||void 0===i?void 0:i.toLocaleLowerCase())===(null===(n=t.data)||void 0===n?void 0:n.type.toLocaleLowerCase()))}{const s=null===(o=null===(i=null===e||void 0===e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===s||s===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===a}).map(e=>{if("object"===typeof d&&"ids"in d){const e=d.data,{schema:t,table:s,commit_timestamp:r,type:n,errors:a}=e,i={schema:t,table:s,commit_timestamp:r,eventType:n,new:{},old:{},errors:a};d=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(d,s)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,s){const r=e.toLocaleLowerCase(),n={type:r,filter:t,callback:s};return this.bindings[r]?this.bindings[r].push(n):this.bindings[r]=[n],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===s&&xt.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on($e.close,{},e)}_onError(e){this._on($e.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=st(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=st(e.columns,e.old_record)),t}}const yt=()=>{},jt=25e3,bt=10,wt=100,Nt=[1e3,2e3,5e3,1e4];class kt{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ye,this.transport=null,this.heartbeatIntervalMs=jt,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yt,this.ref=0,this.reconnectTimer=null,this.logger=yt,this.conn=null,this.sendBuffer=[],this.serializer=new et,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(s.bind(s,630)).then(e=>{let{default:s}=e;return s(...t)}).catch(e=>{throw new Error("Failed to load @supabase/node-fetch: ".concat(e.message,". ")+"This is required for HTTP requests in Node.js environments without native fetch.")})}:fetch),function(){return t(...arguments)}},!(null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(Je.websocket),this.httpEndpoint=ut(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ve.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ke.connecting:return Xe.Connecting;case Ke.open:return Xe.Open;case Ke.closing:return Xe.Closing;default:return Xe.Closed}}isConnected(){return this.connectionState()===Xe.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const s="realtime:".concat(e),r=this.getChannels().find(e=>e.topic===s);if(r)return r;{const s=new xt("realtime:".concat(e),t,this);return this.channels.push(s),s}}push(e){const{topic:t,event:s,payload:r,ref:n}=e,a=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(s," (").concat(n,")"),r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},wt);this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{"phoenix"===e.topic&&"phx_reply"===e.event&&this.heartbeatCallback("ok"===e.payload.status?"ok":"error"),e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:s,payload:r,ref:n}=e,a=n?"(".concat(n,")"):"",i=r.status||"";this.log("receive","".concat(i," ").concat(t," ").concat(s," ").concat(a).trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(s,r,n)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger($e.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const s=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(s).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const s={access_token:e,version:Ge};e&&t.updateJoinPayload(s),t.joinedOnce&&t._isJoined()&&t._push($e.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(t=>{this.log("error","error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(t)}catch(na){this.log("error","error in ".concat(e," callback"),na)}})}catch(na){this.log("error","error triggering ".concat(e," callbacks"),na)}}_setupReconnectionTimer(){this.reconnectTimer=new tt(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bt)},this.reconnectAfterMs)}_initializeOptions(e){var t,s,r,n,a,i,o,l;if(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(s=null===e||void 0===e?void 0:e.timeout)&&void 0!==s?s:Ye,this.heartbeatIntervalMs=null!==(r=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:jt,this.worker=null!==(n=null===e||void 0===e?void 0:e.worker)&&void 0!==n&&n,this.accessToken=null!==(a=null===e||void 0===e?void 0:e.accessToken)&&void 0!==a?a:null,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(i=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==i?i:e=>Nt[e-1]||1e4,this.encode=null!==(o=null===e||void 0===e?void 0:e.encode)&&void 0!==o?o:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(l=null===e||void 0===e?void 0:e.decode)&&void 0!==l?l:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}class _t extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function St(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class Ct extends _t{constructor(e,t,s){super(e),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Et extends _t{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Pt=function(e,t,s,r){return new(s||(s=Promise))(function(n,a){function i(e){try{l(r.next(e))}catch(na){a(na)}}function o(e){try{l(r.throw(e))}catch(na){a(na)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const Tt=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(s.bind(s,630)).then(e=>{let{default:s}=e;return s(...t)})}:fetch),function(){return t(...arguments)}},Ot=e=>{if(Array.isArray(e))return e.map(e=>Ot(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[s,r]=e;const n=s.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[n]=Ot(r)}),t};var Rt=function(e,t,s,r){return new(s||(s=Promise))(function(n,a){function i(e){try{l(r.next(e))}catch(na){a(na)}}function o(e){try{l(r.throw(e))}catch(na){a(na)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const It=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),At=(e,t,r)=>Rt(void 0,void 0,void 0,function*(){const n=yield Pt(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(s.bind(s,630))).Response:Response});e instanceof n&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then(s=>{const r=e.status||500,n=(null===s||void 0===s?void 0:s.statusCode)||r+"";t(new Ct(It(s),r,n))}).catch(e=>{t(new Et(It(e),e))}):t(new Et(It(e),e))}),qt=(e,t,s,r)=>{const n={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(n.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),n.body=JSON.stringify(r)):n.body=r,(null===t||void 0===t?void 0:t.duplex)&&(n.duplex=t.duplex),Object.assign(Object.assign({},n),s)):n};function Dt(e,t,s,r,n,a){return Rt(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(s,qt(t,r,n,a)).then(e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()}).then(e=>i(e)).catch(e=>At(e,o,r))})})}function Mt(e,t,s,r){return Rt(this,void 0,void 0,function*(){return Dt(e,"GET",t,s,r)})}function Lt(e,t,s,r,n){return Rt(this,void 0,void 0,function*(){return Dt(e,"POST",t,r,n,s)})}function Ft(e,t,s,r,n){return Rt(this,void 0,void 0,function*(){return Dt(e,"PUT",t,r,n,s)})}function Ut(e,t,s,r,n){return Rt(this,void 0,void 0,function*(){return Dt(e,"DELETE",t,r,n,s)})}var zt=function(e,t,s,r){return new(s||(s=Promise))(function(n,a){function i(e){try{l(r.next(e))}catch(na){a(na)}}function o(e){try{l(r.throw(e))}catch(na){a(na)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const Bt={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wt={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ht{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=s,this.fetch=Tt(r)}uploadOrUpdate(e,t,s,r){return zt(this,void 0,void 0,function*(){try{let n;const a=Object.assign(Object.assign({},Wt),r);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(a.upsert)});const o=a.metadata;"undefined"!==typeof Blob&&s instanceof Blob?(n=new FormData,n.append("cacheControl",a.cacheControl),o&&n.append("metadata",this.encodeMetadata(o)),n.append("",s)):"undefined"!==typeof FormData&&s instanceof FormData?(n=s,n.append("cacheControl",a.cacheControl),o&&n.append("metadata",this.encodeMetadata(o))):(n=s,i["cache-control"]="max-age=".concat(a.cacheControl),i["content-type"]=a.contentType,o&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null===r||void 0===r?void 0:r.headers)&&(i=Object.assign(Object.assign({},i),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),d=yield("PUT"==e?Ft:Lt)(this.fetch,"".concat(this.url,"/object/").concat(c),n,Object.assign({headers:i},(null===a||void 0===a?void 0:a.duplex)?{duplex:a.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(n){if(St(n))return{data:null,error:n};throw n}})}upload(e,t,s){return zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,r){return zt(this,void 0,void 0,function*(){const n=this._removeEmptyFolders(e),a=this._getFinalPath(n),i=new URL(this.url+"/object/upload/sign/".concat(a));i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:Wt.upsert},r),a=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&s instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",s)):"undefined"!==typeof FormData&&s instanceof FormData?(e=s,e.append("cacheControl",t.cacheControl)):(e=s,a["cache-control"]="max-age=".concat(t.cacheControl),a["content-type"]=t.contentType);return{data:{path:n,fullPath:(yield Ft(this.fetch,i.toString(),e,{headers:a})).Key},error:null}}catch(o){if(St(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,t){return zt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const n=yield Lt(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(s),{},{headers:r}),a=new URL(this.url+n.url),i=a.searchParams.get("token");if(!i)throw new _t("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:i},error:null}}catch(s){if(St(s))return{data:null,error:s};throw s}})}update(e,t,s){return zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return zt(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===s||void 0===s?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}})}copy(e,t,s){return zt(this,void 0,void 0,function*(){try{return{data:{path:(yield Lt(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===s||void 0===s?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,s){return zt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),n=yield Lt(this.fetch,"".concat(this.url,"/object/sign/").concat(r),Object.assign({expiresIn:t},(null===s||void 0===s?void 0:s.transform)?{transform:s.transform}:{}),{headers:this.headers});const a=(null===s||void 0===s?void 0:s.download)?"&download=".concat(!0===s.download?"":s.download):"";return n={signedUrl:encodeURI("".concat(this.url).concat(n.signedURL).concat(a))},{data:n,error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,s){return zt(this,void 0,void 0,function*(){try{const r=yield Lt(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),n=(null===s||void 0===s?void 0:s.download)?"&download=".concat(!0===s.download?"":s.download):"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(n)):null})),error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}})}download(e,t){return zt(this,void 0,void 0,function*(){const s="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),n=r?"?".concat(r):"";try{const t=this._getFinalPath(e),r=yield Mt(this.fetch,"".concat(this.url,"/").concat(s,"/").concat(t).concat(n),{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(a){if(St(a))return{data:null,error:a};throw a}})}info(e){return zt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield Mt(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:Ot(e),error:null}}catch(s){if(St(s))return{data:null,error:s};throw s}})}exists(e){return zt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,s,r){return Rt(this,void 0,void 0,function*(){return Dt(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(s){if(St(s)&&s instanceof Et){const e=s.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),r=[],n=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==n&&r.push(n);const a="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==i&&r.push(i);let o=r.join("&");return""!==o&&(o="?".concat(o)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(a,"/public/").concat(s).concat(o))}}}remove(e){return zt(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(St(t))return{data:null,error:t};throw t}})}list(e,t,s){return zt(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Bt),t),{prefix:e||""});return{data:yield Lt(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),r,{headers:this.headers},s),error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const Vt={"X-Client-Info":"storage-js/".concat("2.10.5")};var Gt=function(e,t,s,r){return new(s||(s=Promise))(function(n,a){function i(e){try{l(r.next(e))}catch(na){a(na)}}function o(e){try{l(r.throw(e))}catch(na){a(na)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};class Yt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const n=new URL(e);if(null===r||void 0===r?void 0:r.useNewHostname){/supabase\.(co|in|red)$/.test(n.hostname)&&!n.hostname.includes("storage.supabase.")&&(n.hostname=n.hostname.replace("supabase.","storage.supabase."))}this.url=n.href,this.headers=Object.assign(Object.assign({},Vt),t),this.fetch=Tt(s)}listBuckets(){return Gt(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(St(e))return{data:null,error:e};throw e}})}getBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(St(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return Gt(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(St(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return Gt(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(St(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(St(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(St(t))return{data:null,error:t};throw t}})}}class Kt extends Yt{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new Ht(this.url,this.headers,e,this.fetch)}}let Qt="";Qt="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const $t={headers:{"X-Client-Info":"supabase-js-".concat(Qt,"/").concat("2.55.0")}},Jt={schema:"public"},Xt={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Zt={};var es=s(630),ts=function(e,t,s,r){return new(s||(s=Promise))(function(n,a){function i(e){try{l(r.next(e))}catch(na){a(na)}}function o(e){try{l(r.throw(e))}catch(na){a(na)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const ss=e=>{let t;return t=e||("undefined"===typeof fetch?es.default:fetch),function(){return t(...arguments)}},rs=(e,t,s)=>{const r=ss(s),n="undefined"===typeof Headers?es.Headers:Headers;return(s,a)=>ts(void 0,void 0,void 0,function*(){var i;const o=null!==(i=yield t())&&void 0!==i?i:e;let l=new n(null===a||void 0===a?void 0:a.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(o)),r(s,Object.assign(Object.assign({},a),{headers:l}))})};var ns=function(e,t,s,r){return new(s||(s=Promise))(function(n,a){function i(e){try{l(r.next(e))}catch(na){a(na)}}function o(e){try{l(r.throw(e))}catch(na){a(na)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const as="2.71.1",is=3e4,os=9e4,ls={"X-Client-Info":"gotrue-js/".concat(as)},cs="X-Supabase-Api-Version",ds={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},us=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class hs extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function ms(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class ps extends hs{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}class fs extends hs{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class gs extends hs{constructor(e,t,s,r){super(e,s,r),this.name=t,this.status=s}}class vs extends gs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class xs extends gs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ys extends gs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class js extends gs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bs extends gs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ws extends gs{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Ns(e){return ms(e)&&"AuthRetryableFetchError"===e.name}class ks extends gs{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}class _s extends gs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ss="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cs=" \t\n\r=".split(""),Es=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Cs.length;t+=1)e[Cs[t].charCodeAt(0)]=-2;for(let t=0;t<Ss.length;t+=1)e[Ss[t].charCodeAt(0)]=t;return e})();function Ps(e,t,s){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;s(Ss[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;s(Ss[e]),t.queuedBits-=6}}function Ts(e,t,s){const r=Es[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Os(e){const t=[],s=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},a=e=>{!function(e,t,s){if(0===t.utf8seq){if(e<=127)return void s(e);for(let s=1;s<6;s+=1)if(0===(e>>7-s&1)){t.utf8seq=s;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&s(t.codepoint)}}(e,r,s)};for(let i=0;i<e.length;i+=1)Ts(e.charCodeAt(i),n,a);return t.join("")}function Rs(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function Is(e,t){for(let s=0;s<e.length;s+=1){let r=e.charCodeAt(s);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(s+1)-56320&65535|t),s+=1}Rs(r,t)}}function As(e){const t=[],s={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let n=0;n<e.length;n+=1)Ts(e.charCodeAt(n),s,r);return new Uint8Array(t)}function qs(e){const t=[],s={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>Ps(e,s,r)),Ps(null,s,r),t.join("")}const Ds=()=>"undefined"!==typeof window&&"undefined"!==typeof document,Ms={tested:!1,writable:!1},Ls=()=>{if(!Ds())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(na){return!1}if(Ms.tested)return Ms.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ms.tested=!0,Ms.writable=!0}catch(na){Ms.tested=!0,Ms.writable=!1}return Ms.writable};const Fs=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(s.bind(s,630)).then(e=>{let{default:s}=e;return s(...t)})}:fetch),function(){return t(...arguments)}},Us=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},zs=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch(r){return s}},Bs=async(e,t)=>{await e.removeItem(t)};class Ws{constructor(){this.promise=new Ws.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Hs(e){const t=e.split(".");if(3!==t.length)throw new _s("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!us.test(t[s]))throw new _s("JWT not in base64url format");return{header:JSON.parse(Os(t[0])),payload:JSON.parse(Os(t[1])),signature:As(t[2]),raw:{header:t[0],payload:t[1]}}}function Vs(e){return("0"+e.toString(16)).substr(-2)}async function Gs(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),s=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(s);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ys(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let s="";for(let r=0;r<56;r++)s+=e.charAt(Math.floor(Math.random()*t));return s}return crypto.getRandomValues(e),Array.from(e,Vs).join("")}();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Us(e,"".concat(t,"-code-verifier"),n);const a=await Gs(r);return[a,r===a?"plain":"s256"]}Ws.promiseConstructor=Promise;const Ks=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Qs=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $s(e){if(!Qs.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Js(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function Xs(e){return JSON.parse(JSON.stringify(e))}var Zs=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]])}return s};const er=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tr=[502,503,504];async function sr(e){var t,s;if(!("object"===typeof(s=e)&&null!==s&&"status"in s&&"ok"in s&&"json"in s&&"function"===typeof s.json))throw new ws(er(e),0);if(tr.includes(e.status))throw new ws(er(e),e.status);let r,n;try{r=await e.json()}catch(na){throw new fs(er(na),na)}const a=function(e){const t=e.headers.get(cs);if(!t)return null;if(!t.match(Ks))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(na){return null}}(e);if(a&&a.getTime()>=ds.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?n=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(n=r.error_code),n){if("weak_password"===n)throw new ks(er(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===n)throw new vs}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new ks(er(r),e.status,r.weak_password.reasons);throw new ps(er(r),e.status||500,n)}async function rr(e,t,s,r){var n;const a=Object.assign({},null===r||void 0===r?void 0:r.headers);a[cs]||(a[cs]=ds.name),(null===r||void 0===r?void 0:r.jwt)&&(a.Authorization="Bearer ".concat(r.jwt));const i=null!==(n=null===r||void 0===r?void 0:r.query)&&void 0!==n?n:{};(null===r||void 0===r?void 0:r.redirectTo)&&(i.redirect_to=r.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,s,r,n,a){const i=((e,t,s,r)=>{const n={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))})(t,r,n,a);let o;try{o=await e(s,Object.assign({},i))}catch(na){throw console.error(na),new ws(er(na),0)}o.ok||await sr(o);if(null===r||void 0===r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(na){await sr(na)}}(e,t,s+o,{headers:a,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function nr(e){var t;let s=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:s,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ar(e){const t=nr(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function ir(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function or(e){return{data:e,error:null}}function lr(e){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:a}=e,i=Zs(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:a},user:Object.assign({},i)},error:null}}function cr(e){return e}const dr=["global","local","others"];var ur=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]])}return s};class hr{constructor(e){let{url:t="",headers:s={},fetch:r}=e;this.url=t,this.headers=s,this.fetch=Fs(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dr[0];if(dr.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(dr.join(", ")));try{return await rr(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ms(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await rr(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ir})}catch(s){if(ms(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=ur(e,["options"]),r=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(r.new_email=null===s||void 0===s?void 0:s.newEmail,delete r.newEmail),await rr(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:lr,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(ms(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await rr(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:ir})}catch(t){if(ms(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,r,n,a,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await rr(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(s=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==s?s:"",per_page:null!==(n=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==n?n:""},xform:cr});if(c.error)throw c.error;const d=await c.json(),u=null!==(a=c.headers.get("x-total-count"))&&void 0!==a?a:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),s=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(s,"Page")]=t}),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(ms(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){$s(e);try{return await rr(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:ir})}catch(t){if(ms(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){$s(e);try{return await rr(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:ir})}catch(s){if(ms(s))return{data:{user:null},error:s};throw s}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];$s(e);try{return await rr(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:ir})}catch(s){if(ms(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){$s(e.userId);try{const{data:t,error:s}=await rr(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:s}}catch(t){if(ms(t))return{data:null,error:t};throw t}}async _deleteFactor(e){$s(e.userId),$s(e.id);try{return{data:await rr(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(ms(t))return{data:null,error:t};throw t}}}function mr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}const pr=!!(globalThis&&Ls()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class fr extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class gr extends fr{}async function vr(e,t,s){pr&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),pr&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw pr&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new gr('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(pr)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(na){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",na)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}pr&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await s()}finally{pr&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(na){"undefined"!==typeof self&&(self.globalThis=self)}}();const xr={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ls,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function yr(e,t,s){return await s()}const jr={};class br{constructor(e){var t,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=br.nextInstanceID,br.nextInstanceID+=1,this.instanceID>0&&Ds()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},xr),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new hr({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Fs(r.fetch),this.lock=r.lock||yr,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Ds()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=vr:this.lock=yr,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:Ls()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mr(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=mr(this.memoryStorage)),Ds()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(na){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",na)}null===(s=this.broadcastChannel)||void 0===s||s.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=jr[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){jr[this.storageKey]=Object.assign(Object.assign({},jr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=jr[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){jr[this.storageKey]=Object.assign(Object.assign({},jr[this.storageKey]),{cachedAt:e})}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(as,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},s=new URL(e);if(s.hash&&"#"===s.hash[0])try{new URLSearchParams(s.hash.substring(1)).forEach((e,s)=>{t[s]=e})}catch(na){}return s.searchParams.forEach((e,s)=>{t[s]=e}),t}(window.location.href);let s="none";if(this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce"),Ds()&&this.detectSessionInUrl&&"none"!==s){const{data:r,error:n}=await this._getSessionFromURL(t,s);if(n){if(this._debug("#_initialize()","error detecting session from URL",n),function(e){return ms(e)&&"AuthImplicitGrantRedirectError"===e.name}(n)){const t=null===(e=n.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:n}}return await this._removeSession(),{error:n}}const{session:a,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",i),await this._saveSession(a),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ms(t)?{error:t}:{error:new fs("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,r;try{const n=await rr(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(s=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==s?s:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:nr}),{data:a,error:i}=n;if(i||!a)return{data:{user:null,session:null},error:i};const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(n){if(ms(n))return{data:{user:null,session:null},error:n};throw n}}async signUp(e){var t,s,r;try{let n;if("email"in e){const{email:s,password:r,options:a}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await Ys(this.storage,this.storageKey)),n=await rr(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo,body:{email:s,password:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:o},xform:nr})}else{if(!("phone"in e))throw new ys("You must provide either an email or phone number and a password");{const{phone:t,password:a,options:i}=e;n=await rr(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:a,data:null!==(s=null===i||void 0===i?void 0:i.data)&&void 0!==s?s:{},channel:null!==(r=null===i||void 0===i?void 0:i.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:nr})}}const{data:a,error:i}=n;if(i||!a)return{data:{user:null,session:null},error:i};const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(n){if(ms(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithPassword(e){try{let t;if("email"in e){const{email:s,password:r,options:n}=e;t=await rr(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:s,password:r,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken}},xform:ar})}else{if(!("phone"in e))throw new ys("You must provide either an email or phone number and a password");{const{phone:s,password:r,options:n}=e;t=await rr(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:s,password:r,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken}},xform:ar})}}const{data:s,error:r}=t;return r?{data:{user:null,session:null},error:r}:s&&s.session&&s.user?(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r}):{data:{user:null,session:null},error:new xs}}catch(t){if(ms(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,r,n;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(s=e.options)||void 0===s?void 0:s.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(n=e.options)||void 0===n?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}async signInWithSolana(e){var t,s,r,n,a,i,o,l,c,d,u,h;let m,p;if("message"in e)m=e.message,p=e.signature;else{const{chain:u,wallet:h,statement:f,options:g}=e;let v;if(Ds())if("object"===typeof h)v=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const x=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),f?{statement:f}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");m="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in v)||"function"!==typeof v.signMessage||!("publicKey"in v)||"object"!==typeof v||!v.publicKey||!("toBase58"in v.publicKey)||"function"!==typeof v.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=["".concat(x.host," wants you to sign in with your Solana account:"),v.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1","URI: ".concat(x.href),"Issued At: ".concat(null!==(r=null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(n=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===n?void 0:n.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(d=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===d?void 0:d.length)?["Resources",...g.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(m),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:s}=await rr(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:qs(p)},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:nr});if(s)throw s;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:s}):{data:{user:null,session:null},error:new xs}}catch(f){if(ms(f))return{data:{user:null,session:null},error:f};throw f}}async _exchangeCodeForSession(e){const t=await zs(this.storage,"".concat(this.storageKey,"-code-verifier")),[s,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:n}=await rr(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:nr});if(await Bs(this.storage,"".concat(this.storageKey,"-code-verifier")),n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:n}):{data:{user:null,session:null,redirectType:null},error:new xs}}catch(n){if(ms(n))return{data:{user:null,session:null,redirectType:null},error:n};throw n}}async signInWithIdToken(e){try{const{options:t,provider:s,token:r,access_token:n,nonce:a}=e,i=await rr(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:s,id_token:r,access_token:n,nonce:a,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:nr}),{data:o,error:l}=i;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new xs}}catch(t){if(ms(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,r,n,a;try{if("email"in e){const{email:r,options:n}=e;let a=null,i=null;"pkce"===this.flowType&&([a,i]=await Ys(this.storage,this.storageKey));const{error:o}=await rr(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===n||void 0===n?void 0:n.data)&&void 0!==t?t:{},create_user:null===(s=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},code_challenge:a,code_challenge_method:i},redirectTo:null===n||void 0===n?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:s}=e,{data:i,error:o}=await rr(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===s||void 0===s?void 0:s.data)&&void 0!==r?r:{},create_user:null===(n=null===s||void 0===s?void 0:s.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},channel:null!==(a=null===s||void 0===s?void 0:s.channel)&&void 0!==a?a:"sms"}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o}}throw new ys("You must provide either an email or phone number.")}catch(i){if(ms(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(e){var t,s;try{let r,n;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,n=null===(s=e.options)||void 0===s?void 0:s.captchaToken);const{data:a,error:i}=await rr(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:r,xform:nr});if(i)throw i;if(!a)throw new Error("An error occurred on token verification.");const o=a.session,l=a.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(r){if(ms(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,s,r;try{let n=null,a=null;return"pkce"===this.flowType&&([n,a]=await Ys(this.storage,this.storageKey)),await rr(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(s=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==s?s:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:n,code_challenge_method:a}),headers:this.headers,xform:or})}catch(n){if(ms(n))return{data:null,error:n};throw n}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new vs;const{error:r}=await rr(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(ms(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:s,type:r,options:n}=e,{error:a}=await rr(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken}},redirectTo:null===n||void 0===n?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:s,type:r,options:n}=e,{data:a,error:i}=await rr(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken}}});return{data:{user:null,session:null,messageId:null===a||void 0===a?void 0:a.message_id},error:i}}throw new ys("You must provide either an email or phone number and a type")}catch(t){if(ms(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch(na){}})()),s}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(na){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await zs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=!!e.expires_at&&1e3*e.expires_at-Date.now()<os;if(this._debug("#__loadSession()","session has".concat(s?"":" not"," expired"),"expires_at",e.expires_at),!s){if(this.userStorage){const t=await zs(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=Js()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,s,r)=>(t||"user"!==s||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,s,r))})}return{data:{session:e},error:null}}const{session:r,error:n}=await this._callRefreshToken(e.refresh_token);return n?{data:{session:null},error:n}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await rr(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:ir}):await this._useSession(async e=>{var t,s,r;const{data:n,error:a}=e;if(a)throw a;return(null===(t=n.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await rr(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(s=n.session)||void 0===s?void 0:s.access_token)&&void 0!==r?r:void 0,xform:ir}):{data:{user:null},error:new vs}})}catch(t){if(ms(t))return function(e){return ms(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Bs(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async s=>{const{data:r,error:n}=s;if(n)throw n;if(!r.session)throw new vs;const a=r.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await Ys(this.storage,this.storageKey));const{data:l,error:c}=await rr(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:a.access_token,xform:ir});if(c)throw c;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(s){if(ms(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new vs;const t=Date.now()/1e3;let s=t,r=!0,n=null;const{payload:a}=Hs(e.access_token);if(a.exp&&(s=a.exp,r=s<=t),r){const{session:t,error:s}=await this._callRefreshToken(e.refresh_token);if(s)return{data:{user:null,session:null},error:s};if(!t)return{data:{user:null,session:null},error:null};n=t}else{const{data:r,error:a}=await this._getUser(e.access_token);if(a)throw a;n={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return{data:{user:n.user,session:n},error:null}}catch(t){if(ms(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:r,error:n}=t;if(n)throw n;e=null!==(s=r.session)&&void 0!==s?s:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new vs;const{session:r,error:n}=await this._callRefreshToken(e.refresh_token);return n?{data:{user:null,session:null},error:n}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(ms(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Ds())throw new js("No browser detected.");if(e.error||e.error_description||e.error_code)throw new js(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new bs("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new js("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new bs("No code detected.");const{data:t,error:s}=await this._exchangeCodeForSession(e.code);if(s)throw s;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:n,refresh_token:a,expires_in:i,expires_at:o,token_type:l}=e;if(!n||!i||!a||!l)throw new js("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(i);let u=c+d;o&&(u=parseInt(o));const h=u-c;1e3*h<=is&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(d,"s"));const m=u-d;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,u,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,u,c);const{data:p,error:f}=await this._getUser(n);if(f)throw f;const g={provider_token:s,provider_refresh_token:r,access_token:n,expires_in:d,expires_at:u,refresh_token:a,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(s){if(ms(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await zs(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var s;const{data:r,error:n}=t;if(n)return{error:n};const a=null===(s=r.session)||void 0===s?void 0:s.access_token;if(a){const{error:t}=await this.admin.signOut(a,e);if(t&&(!function(e){return ms(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Bs(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,r;try{const{data:{session:r},error:n}=t;if(n)throw n;await(null===(s=this.stateChangeEmitters.get(e))||void 0===s?void 0:s.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(n){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",n),console.error(n)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=null,r=null;"pkce"===this.flowType&&([s,r]=await Ys(this.storage,this.storageKey,!0));try{return await rr(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(n){if(ms(n))return{data:null,error:n};throw n}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(ms(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:s,error:r}=await this._useSession(async t=>{var s,r,n,a,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(s=e.options)||void 0===s?void 0:s.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:!0});return await rr(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(a=o.session)||void 0===a?void 0:a.access_token)&&void 0!==i?i:void 0})});if(r)throw r;return Ds()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===s||void 0===s?void 0:s.url),{data:{provider:e.provider,url:null===s||void 0===s?void 0:s.url},error:null}}catch(s){if(ms(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,r;const{data:n,error:a}=t;if(a)throw a;return await rr(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(s=n.session)||void 0===s?void 0:s.access_token)&&void 0!==r?r:void 0})})}catch(t){if(ms(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const n=Date.now();return await(s=async s=>(s>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await rr(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:nr})),r=(e,t)=>{const s=200*Math.pow(2,e);return t&&Ns(t)&&Date.now()+s-n<is},new Promise((e,t)=>{(async()=>{for(let n=0;n<1/0;n++)try{const t=await s(n);if(!r(n,null,t))return void e(t)}catch(na){if(!r(n,na))return void t(na)}})()}))}catch(n){if(this._debug(t,"error",n),ms(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}var s,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),Ds()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await zs(this.storage,this.storageKey);if(n&&this.userStorage){let t=await zs(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:n.user},await Us(this.userStorage,this.storageKey+"-user",t)),n.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:Js()}else if(n&&!n.user&&!n.user){const e=await zs(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(n.user=e.user,await Bs(this.storage,this.storageKey+"-user"),await Us(this.storage,this.storageKey,n)):n.user=Js()}if(this._debug(s,"session from storage",n),!this._isValidSession(n))return this._debug(s,"session is not valid"),void(null!==n&&await this._removeSession());const a=1e3*(null!==(t=n.expires_at)&&void 0!==t?t:1/0)-Date.now()<os;if(this._debug(s,"session has".concat(a?"":" not"," expired with margin of ").concat(os,"s")),a){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),Ns(e)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(n.user&&!0===n.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(n.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(n.user=e.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(s,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){return this._debug(s,"error",n),void console.error(n)}finally{this._debug(s,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new vs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new Ws;const{data:t,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!t.session)throw new vs;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(n){if(this._debug(r,"error",n),ms(n)){const e={session:null,error:n};return Ns(n)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(s=this.refreshingDeferred)||void 0===s||s.reject(n),n}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(s));try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],n=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,t)}catch(na){r.push(na)}});if(await Promise.all(n),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),s=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!s&&t.user&&await Us(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=Xs(e);await Us(this.storage,this.storageKey,r)}else{const e=Xs(t);await Us(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await Bs(this.storage,this.storageKey),await Bs(this.storage,this.storageKey+"-code-verifier"),await Bs(this.storage,this.storageKey+"-user"),this.userStorage&&await Bs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ds()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(na){console.error("removing visibilitychange callback failed",na)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),is);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*s.expires_at-e)/is);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(is,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(s.refresh_token)})}catch(na){console.error("Auto refresh tick failed with error. This is likely a transient error.",na)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(na){if(!(na.isAcquireTimeout||na instanceof fr))throw na;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ds()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const r=["provider=".concat(encodeURIComponent(t))];if((null===s||void 0===s?void 0:s.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(s.redirectTo))),(null===s||void 0===s?void 0:s.scopes)&&r.push("scopes=".concat(encodeURIComponent(s.scopes))),"pkce"===this.flowType){const[e,t]=await Ys(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(s.toString())}if(null===s||void 0===s?void 0:s.queryParams){const e=new URLSearchParams(s.queryParams);r.push(e.toString())}return(null===s||void 0===s?void 0:s.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(s.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:r,error:n}=t;return n?{data:null,error:n}:await rr(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(s=null===r||void 0===r?void 0:r.session)||void 0===s?void 0:s.access_token})})}catch(t){if(ms(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,r;const{data:n,error:a}=t;if(a)return{data:null,error:a};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await rr(this.fetch,"POST","".concat(this.url,"/factors"),{body:i,headers:this.headers,jwt:null===(s=null===n||void 0===n?void 0:n.session)||void 0===s?void 0:s.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===o||void 0===o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code="data:image/svg+xml;utf-8,".concat(o.totp.qr_code)),{data:o,error:null})})}catch(t){if(ms(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:r,error:n}=t;if(n)return{data:null,error:n};const{data:a,error:i}=await rr(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(s=null===r||void 0===r?void 0:r.session)||void 0===s?void 0:s.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:i})})}catch(t){if(ms(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:r,error:n}=t;return n?{data:null,error:n}:await rr(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(s=null===r||void 0===r?void 0:r.session)||void 0===s?void 0:s.access_token})})}catch(t){if(ms(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const s=(null===e||void 0===e?void 0:e.factors)||[],r=s.filter(e=>"totp"===e.factor_type&&"verified"===e.status),n=s.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:s,totp:r,phone:n},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,s;const{data:{session:r},error:n}=e;if(n)return{data:null,error:n};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Hs(r.access_token);let i=null;a.aal&&(i=a.aal);let o=i;(null!==(s=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==s?s:[]).length>0&&(o="aal2");return{data:{currentLevel:i,nextLevel:o,currentAuthenticationMethods:a.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const s=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>s)return t;const{data:r,error:n}=await rr(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(n)throw n;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=s,t=r.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let s=e;if(!s){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};s=e.session.access_token}const{header:r,payload:n,signature:a,raw:{header:i,payload:o}}=Hs(s);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(n.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(s);if(e)throw e;return{data:{claims:n,header:r,signature:a},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),d=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,function(e){const t=[];return Is(e,e=>t.push(e)),new Uint8Array(t)}("".concat(i,".").concat(o))))throw new _s("Invalid JWT signature");return{data:{claims:n,header:r,signature:a},error:null}}catch(s){if(ms(s))return{data:null,error:s};throw s}}}br.nextInstanceID=0;const wr=br;class Nr extends wr{constructor(e){super(e)}}var kr=function(e,t,s,r){return new(s||(s=Promise))(function(n,a){function i(e){try{l(r.next(e))}catch(na){a(na)}}function o(e){try{l(r.throw(e))}catch(na){a(na)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};class _r{constructor(e,t,s){var r,n,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const i=(o=e).endsWith("/")?o:o+"/";var o;const l=new URL(i);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c="sb-".concat(l.hostname.split(".")[0],"-auth-token"),d=function(e,t){var s,r;const{db:n,auth:a,realtime:i,global:o}=e,{db:l,auth:c,realtime:d,global:u}=t,h={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},u),o),{headers:Object.assign(Object.assign({},null!==(s=null===u||void 0===u?void 0:u.headers)&&void 0!==s?s:{}),null!==(r=null===o||void 0===o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:()=>ns(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==s&&void 0!==s?s:{},{db:Jt,realtime:Zt,auth:Object.assign(Object.assign({},Xt),{storageKey:c}),global:$t});this.storageKey=null!==(r=d.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(n=d.global.headers)&&void 0!==n?n:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(a=d.auth)&&void 0!==a?a:{},this.headers,d.global.fetch),this.fetch=rs(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Fe(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Kt(this.storageUrl.href,this.headers,this.fetch,null===s||void 0===s?void 0:s.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Me(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,s)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return kr(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return null!==(t=null===(e=s.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient(e,t,s){let{autoRefreshToken:r,persistSession:n,detectSessionInUrl:a,storage:i,storageKey:o,flowType:l,lock:c,debug:d}=e;const u={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Nr({url:this.authUrl.href,headers:Object.assign(Object.assign({},u),t),storageKey:o,autoRefreshToken:r,persistSession:n,detectSessionInUrl:a,storage:i,flowType:l,lock:c,debug:d,fetch:s,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new kt(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,s){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===s?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=s}}(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Sr="undefined"!==typeof window,Cr=((e,t,s)=>new _r(e,t,s))("https://mjsxgsriufscurbpfkwp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1qc3hnc3JpdWZzY3VyYnBma3dwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUxMTIzNTAsImV4cCI6MjA3MDY4ODM1MH0.etAGieUS0qMKIE02tTu26XN25x_Q5zxjg8aYwu2i8QE",{auth:{autoRefreshToken:!0,persistSession:Sr,detectSessionInUrl:Sr,storage:Sr?window.localStorage:void 0,storageKey:"supabase.auth.token"},global:{headers:{"X-Client-Info":"flickxir-web"}}}),Er="products",Pr="categories",Tr="cart_items";var Or=s(579);const Rr=(0,t.createContext)({}),Ir=()=>{const e=(0,t.useContext)(Rr);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Ar=e=>{let{children:s}=e;const[r,n]=(0,t.useState)(null),[a,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{try{const{data:{session:e}}=await Cr.auth.getSession();e&&(l(e),n(e.user))}catch(e){console.error("Error getting session:",e)}finally{i(!1)}})();const{data:{subscription:e}}=Cr.auth.onAuthStateChange((e,t)=>{var s;l(t),n(null!==(s=null===t||void 0===t?void 0:t.user)&&void 0!==s?s:null),i(!1)});return()=>{e.unsubscribe()}},[]);const c={user:r,session:o,loading:a,isAuthenticated:!!r,signUp:async(e,t,s)=>{try{const{data:r,error:n}=await Cr.auth.signUp({email:e,password:t,options:{data:s}});return n?{error:n}:{data:r,error:null}}catch(r){return{error:r}}},signIn:async(e,t)=>{try{const{data:s,error:r}=await Cr.auth.signInWithPassword({email:e,password:t});return r?{error:r}:{data:s,error:null}}catch(s){return{error:s}}},signInWithGoogle:async()=>{try{const{data:e,error:t}=await Cr.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/")}});return t?{error:t}:{data:e,error:null}}catch(e){return{error:e}}},resetPassword:async e=>{try{const{error:t}=await Cr.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/reset-password")});return t?{error:t}:{error:null}}catch(t){return{error:t}}}};return(0,Or.jsx)(Rr.Provider,{value:c,children:s})};function qr(e){return qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qr(e)}function Dr(e){var t=function(e,t){if("object"!=qr(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=qr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qr(t)?t:t+""}function Mr(e,t,s){return(t=Dr(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Lr(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function Fr(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Lr(Object(s),!0).forEach(function(t){Mr(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Lr(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}const Ur=(0,t.createContext)(),zr=(e,t)=>{switch(t.type){case"INITIALIZE":return Fr(Fr({},e),{},{items:t.payload.items||[],isLoading:!1,isInitialized:!0,error:null,isStable:!1,operationLoading:{sync:!1,add:!1,remove:!1,update:!1,clear:!1}});case"SET_LOADING":return e.isLoading===t.payload?e:Fr(Fr({},e),{},{isLoading:t.payload,error:t.payload?null:e.error,isStable:!t.payload});case"SET_OPERATION_LOADING":return e.operationLoading[t.payload.operation]===t.payload.isLoading?e:Fr(Fr({},e),{},{operationLoading:Fr(Fr({},e.operationLoading),{},{[t.payload.operation]:t.payload.isLoading})});case"SET_ERROR":return e.error===t.payload?e:Fr(Fr({},e),{},{error:t.payload,isLoading:!1,isStable:!0});case"BATCH_UPDATE":return Fr(Fr(Fr({},e),t.payload),{},{isStable:!0});case"SET_CART_ITEMS":return JSON.stringify(e.items)===JSON.stringify(t.payload||[])?e:Fr(Fr({},e),{},{items:t.payload||[],isLoading:!1,isStable:!1});case"ADD_TO_CART":const s=e.items.find(e=>e.product_id===t.payload.product_id);return Fr(Fr({},e),{},s?{items:e.items.map(e=>e.product_id===t.payload.product_id?Fr(Fr({},e),{},{quantity:e.quantity+1}):e),isStable:!1}:{items:[...e.items,t.payload],isStable:!1});case"REMOVE_FROM_CART":return Fr(Fr({},e),{},{items:e.items.filter(e=>e.id!==t.payload),isStable:!1});case"UPDATE_QUANTITY":return Fr(Fr({},e),{},{items:e.items.map(e=>e.id===t.payload.id?Fr(Fr({},e),{},{quantity:Math.max(1,t.payload.quantity)}):e),isStable:!1});case"CLEAR_CART":return Fr(Fr({},e),{},{items:[],isStable:!1});case"UPDATE_ITEM_ID":return Fr(Fr({},e),{},{items:e.items.map(e=>e.id===t.payload.tempId?Fr(Fr({},e),{},{id:t.payload.realId}):e),isStable:!1});case"SET_STABLE":return Fr(Fr({},e),{},{isStable:t.payload});default:return e}},Br=e=>{let{children:s}=e;const[r,n]=(0,t.useReducer)(zr,{items:[],isLoading:!0,isInitialized:!1,error:null,isStable:!1,operationLoading:{sync:!1,add:!1,remove:!1,update:!1,clear:!1}}),{isAuthenticated:a,user:i}=Ir(),[o,l]=(0,t.useState)(!1),c=(0,t.useRef)(null),d=(0,t.useRef)(!1),u=(0,t.useRef)([]),h=(0,t.useCallback)((e,t)=>{n({type:"SET_OPERATION_LOADING",payload:{operation:e,isLoading:t}})},[]);(0,t.useEffect)(()=>{if(!d.current&&!r.isInitialized){d.current=!0;try{const e=localStorage.getItem("flickxir_cart");let t=[];if(e){const s=JSON.parse(e);Array.isArray(s)&&s.length>0&&(t=s)}n({type:"INITIALIZE",payload:{items:t}})}catch(e){console.error("Error parsing saved cart:",e),n({type:"INITIALIZE",payload:{items:[]}})}}},[]),(0,t.useEffect)(()=>{u.current=r.items},[r.items]),(0,t.useEffect)(()=>{if(!r.isInitialized||r.isLoading)return;const e=setTimeout(()=>{try{localStorage.setItem("flickxir_cart",JSON.stringify(r.items)),n({type:"SET_STABLE",payload:!0})}catch(e){console.error("Error saving cart to localStorage:",e)}},500);return()=>clearTimeout(e)},[r.items,r.isInitialized,r.isLoading]);const m=(0,t.useCallback)(async()=>{if(i&&!o&&c.current!==i.id){l(!0),h("sync",!0),n({type:"SET_LOADING",payload:!0});try{u.current;const{data:e,error:t}=await Cr.from("profiles").select("id").eq("id",i.id).single();if(t)return console.error("Error getting user profile:",t),void n({type:"SET_ERROR",payload:"Failed to load user profile"});let{data:s,error:r}=await Cr.from("cart").select("id").eq("user_id",e.id).single();if(r&&"PGRST116"!==r.code)return console.error("Error loading cart:",r),void n({type:"SET_ERROR",payload:"Failed to load cart"});if(!s){const{data:t,error:r}=await Cr.from("cart").insert({user_id:e.id}).select("id").single();if(r)return console.error("Error creating cart:",r),void n({type:"SET_ERROR",payload:"Failed to create cart"});s=t}const{data:a,error:o}=await Cr.from("cart_items").select("*").eq("cart_id",s.id);if(o)return console.error("Error loading cart items:",o),void n({type:"SET_ERROR",payload:"Failed to load cart items"});if(!a||0===a.length)return void(c.current=i.id);const l=a.map(e=>e.product_id),{data:d,error:h}=await Cr.from("products").select("id, name, price, image_urls, in_stock, stock_quantity").in("id",l);if(h){console.error("Error loading products:",h);const e=a.map(e=>({id:e.id,product_id:e.product_id,quantity:e.quantity,price:0,name:"Product",image_urls:[],in_stock:!0,stock_quantity:0,requires_prescription:!1}));return n({type:"SET_CART_ITEMS",payload:e}),void(c.current=i.id)}const m={};d.forEach(e=>{m[e.id]=e});const p=a.map(e=>{const t=m[e.product_id];return{id:e.id,product_id:e.product_id,quantity:e.quantity,price:(null===t||void 0===t?void 0:t.price)||0,name:(null===t||void 0===t?void 0:t.name)||"Unknown Product",image_urls:(null===t||void 0===t?void 0:t.image_urls)||[],in_stock:void 0===(null===t||void 0===t?void 0:t.in_stock)||t.in_stock,stock_quantity:(null===t||void 0===t?void 0:t.stock_quantity)||0,requires_prescription:!1}});n({type:"SET_CART_ITEMS",payload:p}),c.current=i.id}catch(e){console.error("Error loading cart from Supabase:",e),n({type:"SET_ERROR",payload:"Failed to sync with server"})}finally{l(!1),h("sync",!1),n({type:"SET_LOADING",payload:!1})}}},[null===i||void 0===i?void 0:i.id,o,h]);(0,t.useEffect)(()=>{(null===i||void 0===i?void 0:i.id)!==c.current&&(c.current=null)},[null===i||void 0===i?void 0:i.id]),(0,t.useEffect)(()=>{r.isInitialized&&(a&&i&&!o&&c.current!==i.id?m():a||r.isLoading&&n({type:"SET_LOADING",payload:!1}))},[a,null===i||void 0===i?void 0:i.id,r.isInitialized,o,m]);const p=(0,t.useCallback)(async e=>{h("add",!0);try{const t={id:"temp_".concat(Date.now(),"_").concat(Math.random()),product_id:e.id,quantity:1,price:e.price,name:e.name,image_urls:e.image_url?[e.image_url]:[],in_stock:e.in_stock,stock_quantity:e.stock_quantity,requires_prescription:e.requires_prescription||!1};if(n({type:"ADD_TO_CART",payload:t}),!a||!i)return}catch(t){console.error("Error syncing cart with database:",t)}finally{setTimeout(()=>h("add",!1),300)}},[a,null===i||void 0===i?void 0:i.id,h]),f=(0,t.useCallback)(async e=>{h("remove",!0);try{n({type:"REMOVE_FROM_CART",payload:e}),a&&i&&await Cr.from("cart_items").delete().eq("id",e)}catch(t){console.error("Error removing from cart database:",t)}finally{setTimeout(()=>h("remove",!1),200)}},[a,null===i||void 0===i?void 0:i.id,h]),g=(0,t.useCallback)(async(e,t)=>{h("update",!0);try{n({type:"UPDATE_QUANTITY",payload:{id:e,quantity:t}}),a&&i&&await Cr.from("cart_items").update({quantity:Math.max(1,t)}).eq("id",e)}catch(s){console.error("Error updating quantity in database:",s)}finally{setTimeout(()=>h("update",!1),300)}},[a,null===i||void 0===i?void 0:i.id,h]),v=(0,t.useCallback)(async()=>{h("clear",!0);try{if(n({type:"CLEAR_CART"}),a&&i){const{data:e}=await Cr.from("profiles").select("id").eq("id",i.id).single();if(e){const{data:t}=await Cr.from("cart").select("id").eq("user_id",e.id).single();t&&await Cr.from("cart_items").delete().eq("cart_id",t.id)}}}catch(e){console.error("Error clearing cart in database:",e)}finally{setTimeout(()=>h("clear",!1),400)}},[a,null===i||void 0===i?void 0:i.id,h]),x=(0,t.useCallback)(()=>r.items.reduce((e,t)=>e+t.quantity,0),[r.items]),y=(0,t.useMemo)(()=>r.items.reduce((e,t)=>e+t.price*t.quantity,0),[r.items]),j=(0,t.useMemo)(()=>({items:r.items,isLoading:r.isLoading,isInitialized:r.isInitialized,isStable:r.isStable,error:r.error,operationLoading:r.operationLoading,addToCart:p,removeFromCart:f,updateQuantity:g,clearCart:v,getCartItemCount:x,cartTotal:y,loadCartFromSupabase:m,refreshCart:m}),[r.items,r.isLoading,r.isInitialized,r.isStable,r.error,r.operationLoading,p,f,g,v,x,y,m]);return(0,Or.jsx)(Ur.Provider,{value:j,children:s})},Wr=()=>{const e=(0,t.useContext)(Ur);if(!e)throw new Error("useCart must be used within a CartProvider");return e},Hr=e=>{let{className:s,"aria-label":r,title:n,searchInput:a}=e;const[i,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(null);(0,t.useEffect)(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const e=new(window.SpeechRecognition||window.webkitSpeechRecognition);e.continuous=!1,e.interimResults=!0,e.lang="en-US",e.maxAlternatives=3,c(e)}},[]);const d=()=>{o(!1);try{null===l||void 0===l||l.stop()}catch(e){}},u=e=>{m(e,"#10b981")},h=e=>{m(e,"#ef4444")},m=(e,t)=>{let s=document.getElementById("voice-notification");s||(s=document.createElement("div"),s.id="voice-notification",s.style.cssText="\n        position: fixed;\n        top: 100px;\n        right: 20px;\n        background: ".concat(t,";\n        color: white;\n        padding: 12px 20px;\n        border-radius: 8px;\n        box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n        z-index: 10000;\n        font-size: 14px;\n        max-width: 300px;\n        transform: translateX(400px);\n        transition: transform 0.3s ease;\n      "),document.body.appendChild(s)),s.style.background=t,s.textContent=e,s.style.transform="translateX(0)";setTimeout(()=>{s.style.transform="translateX(400px)"},"#ef4444"===t?5e3:3e3)};return(0,Or.jsx)("button",{className:"".concat(s," ").concat(i?"recording":""),"aria-label":r,title:i?"Click to stop recording":n,onClick:()=>{i?d():(()=>{if(l)try{o(!0),l.start(),l.onstart=()=>{},l.onresult=e=>{let t="",s="";for(let r=e.resultIndex;r<e.results.length;r++){const n=e.results[r][0].transcript;e.results[r].isFinal?t+=n:s+=n}s&&a&&(a.value=s,a.style.color="#666"),t&&a&&(a.value=t,a.style.color="#1f2937",a.dispatchEvent(new Event("input")),u("Voice input received: "+t),setTimeout(()=>d(),1e3))},l.onerror=e=>{console.error("Speech recognition error:",e.error);let t="";switch(e.error){case"no-speech":t="No speech detected. Please speak clearly and try again.";break;case"audio-capture":t="Microphone access denied. Please allow microphone access and try again.";break;case"not-allowed":t="Microphone access blocked. Please enable microphone permissions.";break;case"network":t="Network error. Please check your internet connection.";break;case"service-not-allowed":t="Voice service not available. Please try again later.";break;default:t="Voice recognition error. Please try again."}h(t),d()},l.onend=()=>{i&&setTimeout(()=>{i&&l.start()},100)}}catch(e){console.error("Error starting voice recognition:",e),h("Failed to start voice recognition. Please try again."),d()}else h("Voice search is not supported in your browser. Please use Chrome, Edge, or Safari.")})()},children:i?(0,Or.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Or.jsx)("circle",{cx:"12",cy:"12",r:"8",fill:"currentColor"})}):(0,Or.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,Or.jsx)("path",{d:"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"}),(0,Or.jsx)("path",{d:"M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"})]})})},Vr=(0,t.forwardRef)((e,s)=>{var r,n,a,i,o;let{isSearchActive:l,currentSearchTerm:c="medicines"}=e;const{isAuthenticated:d,user:u}=Ir(),{getCartItemCount:h}=Wr(),m=ee(),p=!(null===u||void 0===u||!u.email)&&u.email.toLowerCase()==="bhalackdhebil@gmail.com".toLowerCase(),[f,g]=(0,t.useState)(!1),[v,x]=(0,t.useState)(!1),[y,j]=(0,t.useState)(!1),b=(0,t.useRef)(null),[w,N]=(0,t.useState)(c),[k,_]=(0,t.useState)(!1),[S,C]=(0,t.useState)(""),[E,P]=(0,t.useState)([]),[T,O]=(0,t.useState)(!1);(0,t.useEffect)(()=>{c&&c!==w&&(_(!0),setTimeout(()=>{N(c),_(!1)},150))},[c,w]);const R=async()=>{if(d&&u)try{O(!0);const{data:e,error:t}=await Cr.from("addresses").select("*").eq("user_id",u.id).order("is_default",{ascending:!1}).order("created_at",{ascending:!1});if(t)throw t;P(e||[])}catch(e){console.error("Error fetching addresses:",e),P([])}finally{O(!1)}};(0,t.useEffect)(()=>{d&&u?R():P([])},[d,u]),(0,t.useEffect)(()=>{const e=()=>{!document.hidden&&d&&u&&R()};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[d,u]),(0,t.useEffect)(()=>{const e=e=>{b.current&&!b.current.contains(e.target)&&(x(!1),j(!1))};return(v||y)&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[v,y]),(0,t.useEffect)(()=>{j(!1)},[window.location.pathname]);const I=async()=>{try{await Cr.auth.signOut();try{localStorage.clear(),sessionStorage.clear()}catch(e){}m("/signin")}catch(t){m("/signin")}};return(0,Or.jsxs)("header",{className:"header ".concat(l?"search-active":""),ref:s,children:[(0,Or.jsxs)("div",{className:"header-container",children:[(0,Or.jsxs)("div",{className:"logo-section",children:[(0,Or.jsx)(Ce,{to:"/",className:"logo",children:"FlickXir"}),(0,Or.jsx)("div",{className:"location-container",children:d?E&&E.length>0?(0,Or.jsxs)("div",{className:"location-display",children:[(0,Or.jsxs)("span",{className:"location-text",children:[null===(r=E[0])||void 0===r?void 0:r.city,", ",null===(n=E[0])||void 0===n?void 0:n.state]}),(0,Or.jsx)("button",{className:"location-change-btn",onClick:()=>m("/addresses"),children:"Change"})]}):(0,Or.jsx)("button",{className:"location-add-btn",onClick:()=>m("/addresses"),children:"Add Address"}):(0,Or.jsx)("button",{className:"location-add-btn",onClick:()=>m("/signin"),children:"Add Address"})})]}),(0,Or.jsx)("div",{className:"user-actions",children:(0,Or.jsxs)("div",{className:"header-search-container",children:[(0,Or.jsx)("input",{type:"text",className:"header-search-bar",placeholder:" ",value:S,onChange:e=>C(e.target.value)}),(0,Or.jsxs)("div",{className:"custom-placeholder header-placeholder ".concat(S?"hidden":""),children:[(0,Or.jsx)("span",{className:"static-text",children:"Search for\xa0"}),(0,Or.jsx)("div",{className:"dynamic-text-wrapper",children:(0,Or.jsx)("span",{className:"dynamic-text ".concat(k?"exit":""),children:w})})]}),(0,Or.jsxs)("div",{className:"search-icons",children:[(0,Or.jsx)(Hr,{className:"voice-search-btn","aria-label":"Voice Search",title:"Voice Search"}),(0,Or.jsx)("button",{className:"header-search-btn","aria-label":"Search",children:(0,Or.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,Or.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})})})]})]})}),d?(0,Or.jsxs)("div",{className:"user-section",ref:b,children:[(0,Or.jsxs)("button",{className:"header-btn btn-user",onClick:()=>{j(e=>!e)},children:[(0,Or.jsx)("svg",{className:"btn-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Or.jsx)("path",{d:"M12 12c2.7 0 4.9-2.2 4.9-4.9S14.7 2.2 12 2.2 \r 7.1 4.4 7.1 7.1 9.3 12 12 12zm0 2.4\r c-3.2 0-9.6 1.6-9.6 4.8v2.4h19.2v-2.4\r c0-3.2-6.4-4.8-9.6-4.8z"})}),(0,Or.jsxs)("span",{className:"btn-text",children:["Hello, ",(null===u||void 0===u||null===(a=u.user_metadata)||void 0===a?void 0:a.first_name)||"User"]})]}),y&&(0,Or.jsxs)("div",{className:"user-dropdown",children:[(0,Or.jsx)(Ce,{to:"/profile",className:"user-dropdown-item",children:"\ud83d\udc64 Profile"}),(0,Or.jsx)(Ce,{to:"/my-orders",className:"user-dropdown-item",children:"\ud83d\udce6 My Orders"}),p&&(0,Or.jsx)(Ce,{to:"/admin",className:"user-dropdown-item",children:"\ud83d\udee0\ufe0f Admin Dashboard"}),(0,Or.jsx)("button",{onClick:I,className:"user-dropdown-item signout-btn",children:"\ud83d\udeaa Sign Out"})]})]}):(0,Or.jsxs)(Ce,{to:"/signup",className:"header-btn btn-user",children:[(0,Or.jsx)("svg",{className:"btn-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Or.jsx)("path",{d:"M12 12c2.7 0 4.9-2.2 4.9-4.9S14.7 2.2 12 2.2 \r 7.1 4.4 7.1 7.1 9.3 12 12 12zm0 2.4\r c-3.2 0-9.6 1.6-9.6 4.8v2.4h19.2v-2.4\r c0-3.2-6.4-4.8-9.6-4.8z"})}),(0,Or.jsx)("span",{className:"btn-text",children:"Sign up"})]}),(0,Or.jsxs)(Ce,{to:"/donate",className:"header-btn btn-donate",children:[(0,Or.jsx)("svg",{className:"btn-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Or.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),(0,Or.jsx)("span",{className:"btn-text",children:"Donate here"})]}),(0,Or.jsxs)(Ce,{to:"/cart",className:"header-btn btn-cart",children:[(0,Or.jsxs)("div",{className:"cart-icon-wrapper",children:[(0,Or.jsx)("svg",{className:"btn-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Or.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12L8.1 13h7.45c.75 0 1.41-.41 1.75-1.03L21.7 4H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"})}),h()>0&&(0,Or.jsx)("span",{className:"cart-badge",children:h()})]}),(0,Or.jsx)("span",{className:"btn-text",children:"Cart"})]})]}),(0,Or.jsx)("button",{className:"mobile-nav-toggle","aria-label":"Open menu","aria-expanded":f,onClick:()=>{g(!f),document.body.style.overflow=f?"":"hidden"},children:(0,Or.jsx)("span",{className:"hamburger-icon"})}),(0,Or.jsxs)("nav",{className:"mobile-nav ".concat(f?"is-active":""),children:[d?(0,Or.jsxs)("div",{className:"mobile-nav-section",children:[(0,Or.jsxs)("div",{className:"mobile-user-info",children:[(0,Or.jsx)("span",{className:"mobile-icon",children:"\ud83d\udc64"}),(0,Or.jsxs)(Ce,{to:"/profile",className:"mobile-nav-link",onClick:()=>g(!1),children:["Hello, ",(null===u||void 0===u||null===(i=u.user_metadata)||void 0===i?void 0:i.first_name)||(null===u||void 0===u||null===(o=u.user_metadata)||void 0===o?void 0:o.full_name)||"User"]})]}),(0,Or.jsxs)(Ce,{to:"/my-orders",className:"mobile-nav-link",onClick:()=>g(!1),children:[(0,Or.jsx)("span",{className:"mobile-icon",children:"\ud83d\udce6"}),"My Orders"]}),p&&(0,Or.jsxs)(Ce,{to:"/admin",className:"mobile-nav-link",onClick:()=>g(!1),children:[(0,Or.jsx)("span",{className:"mobile-icon",children:"\ud83d\udee0\ufe0f"}),"Admin Dashboard"]}),(0,Or.jsxs)(Ce,{to:"/database-debug",className:"mobile-nav-link",onClick:()=>g(!1),children:[(0,Or.jsx)("span",{className:"mobile-icon",children:"\ud83d\udd0d"}),"Debug Search"]}),(0,Or.jsx)("button",{onClick:I,className:"mobile-signout-btn",children:"Sign Out"})]}):(0,Or.jsxs)(Ce,{to:"/signup",className:"mobile-nav-link",children:[(0,Or.jsx)("span",{className:"mobile-icon",children:"\ud83d\udc64"}),"Hello, Sign up"]}),(0,Or.jsxs)(Ce,{to:"/products",className:"mobile-nav-link",onClick:()=>g(!1),children:[(0,Or.jsx)("span",{className:"mobile-icon",children:"\ud83d\udce6"}),"All Products"]}),(0,Or.jsxs)(Ce,{to:"/medicines",className:"mobile-nav-link",onClick:()=>g(!1),children:[(0,Or.jsx)("span",{className:"mobile-icon",children:"\ud83d\udc8a"}),"Medicines"]}),(0,Or.jsxs)(Ce,{to:"/donate",className:"mobile-nav-link",onClick:()=>g(!1),children:[(0,Or.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Or.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),"Donate here"]}),(0,Or.jsxs)(Ce,{to:"/cart",className:"mobile-nav-link",onClick:()=>g(!1),children:[(0,Or.jsxs)("div",{className:"mobile-cart-wrapper",children:[(0,Or.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Or.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12L8.1 13h7.45c.75 0 1.41-.41 1.75-1.03L21.7 4H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"})}),h()>0&&(0,Or.jsx)("span",{className:"mobile-cart-badge",children:h()})]}),"Cart"]})]})]})});Vr.displayName="Header";const Gr=Vr,Yr=()=>{const e=X();return(0,Or.jsxs)("footer",{className:"pe-footer",children:[(0,Or.jsxs)("div",{className:"pe-footer-main",children:[(0,Or.jsxs)("div",{className:"pe-footer-col",children:[(0,Or.jsx)("h3",{children:"Company"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:(0,Or.jsx)(Ce,{to:"/about",onClick:()=>{"/about"===e.pathname&&window.scrollTo({top:0,behavior:"smooth"})},children:"About Us"})}),(0,Or.jsx)("li",{children:(0,Or.jsx)(Ce,{to:"/donate",children:"Donate Us"})})]})]}),(0,Or.jsxs)("div",{className:"pe-footer-col",children:[(0,Or.jsx)("h3",{children:"Customer Care"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:(0,Or.jsx)(Ce,{to:"/help-center",children:"Help Center"})}),(0,Or.jsx)("li",{children:(0,Or.jsx)(Ce,{to:"/order-tracking",children:"Order Tracking"})}),(0,Or.jsx)("li",{children:(0,Or.jsx)(Ce,{to:"/shipping-info",children:"Shipping Info"})}),(0,Or.jsx)("li",{children:(0,Or.jsx)(Ce,{to:"/return-policy",children:"Return Policy"})}),(0,Or.jsx)("li",{children:(0,Or.jsx)(Ce,{to:"/faq",children:"FAQ"})})]})]}),(0,Or.jsxs)("div",{className:"pe-footer-col",children:[(0,Or.jsx)("h3",{children:"Legal"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:(0,Or.jsx)(Ce,{to:"/terms",children:"Terms & Conditions"})}),(0,Or.jsx)("li",{children:(0,Or.jsx)(Ce,{to:"/privacy-policy",children:"Privacy Policy"})}),(0,Or.jsx)("li",{children:(0,Or.jsx)(Ce,{to:"/disclaimer",children:"Disclaimer"})}),(0,Or.jsx)("li",{children:(0,Or.jsx)(Ce,{to:"/report-vulnerability",children:"Report a vulnerability"})})]})]}),(0,Or.jsxs)("div",{className:"pe-footer-col",children:[(0,Or.jsx)("h3",{children:"Contact Details"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:(0,Or.jsx)("span",{children:"\ud83d\udce7 support@Flickxirindia.com"})}),(0,Or.jsx)("li",{children:(0,Or.jsx)("span",{children:"\ud83d\udcde +91-9876543210"})}),(0,Or.jsx)("li",{children:(0,Or.jsx)("span",{children:"\ud83d\udccd Greater Noida, Uttar Pradesh, India"})})]})]}),(0,Or.jsxs)("div",{className:"pe-footer-col",children:[(0,Or.jsx)("h3",{children:"Follow Us"}),(0,Or.jsxs)("div",{className:"pe-social-links",children:[(0,Or.jsx)("a",{href:"#","aria-label":"Instagram",children:(0,Or.jsx)("svg",{viewBox:"0 0 24 24",children:(0,Or.jsx)("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.85s-.011 3.584-.069 4.85c-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07s-3.584-.012-4.85-.07c-3.252-.148-4.771-1.691-4.919-4.919-.058-1.265-.069-1.645-.069-4.85s.011-3.584.069-4.85c.149-3.225 1.664-4.771 4.919-4.919C8.416 2.175 8.796 2.163 12 2.163m0-2.163C8.74 0 8.333.011 7.053.069 2.59.285.285 2.59.069 7.053.011 8.333 0 8.74 0 12s.011 3.667.069 4.947c.216 4.46 2.525 6.765 7.053 6.981C8.333 23.989 8.74 24 12 24s3.667-.011 4.947-.069c4.46-.216 6.765-2.525 6.981-7.053C23.989 15.667 24 15.26 24 12s-.011-3.667-.069-4.947c-.216-4.46-2.525-6.765-6.981-7.053C15.667.011 15.26 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.88 1.44 1.44 0 000-2.88z"})})}),(0,Or.jsx)("a",{href:"#","aria-label":"YouTube",children:(0,Or.jsx)("svg",{viewBox:"0 0 24 24",children:(0,Or.jsx)("path",{d:"M23.498 6.186a3.016 3.016 0 00-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 00.502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 002.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 002.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}),(0,Or.jsx)("a",{href:"#","aria-label":"Twitter",children:(0,Or.jsx)("svg",{viewBox:"0 0 24 24",children:(0,Or.jsx)("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.223.085 4.934 4.934 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})})]})]})]}),(0,Or.jsx)("div",{className:"pe-footer-bottom",children:(0,Or.jsx)("div",{className:"pe-footer-bottom-container",children:(0,Or.jsx)("div",{className:"pe-copyright",children:(0,Or.jsx)("p",{children:"\xa9 2025 FlickXir India. All Rights Reserved."})})})})]})};class Kr{static normalizeMedicineName(e){if(!e||"string"!==typeof e)return"";let t=e.toLowerCase().trim();return t=this.cleanOCRArtifacts(t),t=this.expandAbbreviations(t),t=t.replace(/\s+/g," ").trim().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),t}static extractDosageInfo(e){if(!e)return{name:"",dosage:""};let t="",s=e;for(const r of this.DOSAGE_PATTERNS){const n=e.match(r);if(n&&n.length>0){t=n[0].trim(),s=e.replace(r,"").trim();break}}return s=s.replace(/\s+/g," ").trim(),{name:s||e,dosage:t}}static removeDosageFromName(e){if(!e)return"";return this.extractDosageInfo(e).name||e}static cleanOCRArtifacts(e){if(!e)return"";let t=e;return t=t.replace(/[^\w\s\d\.\-\(\)]/g," ").replace(/\s+/g," ").replace(/^\s+|\s+$/g,"").replace(/\b\d+\s*x\s*\d+\b/gi,"").replace(/\b(page|pg)\s*\d+\b/gi,"").replace(/\b\d{2,4}[-\/]\d{2,4}[-\/]\d{2,4}\b/g,"").replace(/\b[A-Z]{2,}\b/g,e=>e.length<=3?e:e.charAt(0)+e.slice(1).toLowerCase()),t.trim()}static expandAbbreviations(e){if(!e)return"";let t=e;return Object.entries(this.ABBREVIATIONS).forEach(e=>{let[s,r]=e;const n=new RegExp("\\b".concat(s,"\\b"),"gi");t=t.replace(n,r)}),t}static generateSearchVariations(e){if(!e)return[];const t=new Set;t.add(e.trim());const s=this.normalizeMedicineName(e);t.add(s);const r=this.removeDosageFromName(e);if(r!==e&&(t.add(r),t.add(this.normalizeMedicineName(r))),e.includes(" ")){const s=e.split(" ");s.length>=2&&(t.add(s[0]),t.add(s[s.length-1]))}const n=e.replace(/^(dr\.?|mr\.?|tablet|capsule|syrup)\s+/gi,"").replace(/\s+(tablet|capsule|syrup|injection)$/gi,"");return n!==e&&t.add(n),Array.from(t).filter(e=>e&&e.trim().length>1)}static calculateSimilarity(e,t){if(!e||!t)return 0;const s=e.toLowerCase().trim(),r=t.toLowerCase().trim();if(s===r)return 1;const n=this.levenshteinDistance(s,r),a=Math.max(s.length,r.length);return 0===a?0:(a-n)/a}static levenshteinDistance(e,t){const s=[];for(let r=0;r<=t.length;r++)s[r]=[r];for(let r=0;r<=e.length;r++)s[0][r]=r;for(let r=1;r<=t.length;r++)for(let n=1;n<=e.length;n++)t.charAt(r-1)===e.charAt(n-1)?s[r][n]=s[r-1][n-1]:s[r][n]=Math.min(s[r-1][n-1]+1,s[r][n-1]+1,s[r-1][n]+1);return s[t.length][e.length]}static isValidMedicineName(e){if(!e||"string"!==typeof e)return!1;const t=e.trim();if(t.length<3)return!1;if(/^\d+$/.test(t))return!1;const s=t.toLowerCase();return!["patient","doctor","date","prescription","pharmacy","address","phone","email","signature","stamp","morning","evening","night","before","after","food","page","total","amount","quantity","instructions"].some(e=>s.includes(e))&&!!/[a-zA-Z]/.test(t)}}Kr.ABBREVIATIONS={tab:"tablet",tabs:"tablets",cap:"capsule",caps:"capsules",mg:"mg",mcg:"mcg",ml:"ml",gm:"gram",g:"gram",iu:"IU",od:"once daily",bd:"twice daily",tid:"three times daily",qid:"four times daily"},Kr.DOSAGE_PATTERNS=[/(\d+(?:\.\d+)?)\s*(mg|mcg|g|gm|ml|iu|units?)\b/gi,/(\d+(?:\.\d+)?)\s*(milligram|microgram|gram|milliliter)\b/gi,/(\d+)\s*(tablet|capsule|tab|cap)s?\b/gi],Kr.OCR_ARTIFACTS=[/[^\w\s\d\.\-\(\)]/g,/\s+/g,/^\s+|\s+$/g];class Qr{static async searchProductsByName(e){try{if(!e||e.trim().length<2)return{data:[],error:null};const{data:t,error:s}=await Cr.from("products").select("\n          id,\n          name,\n          description,\n          price,\n          mrp,\n          discount_percentage,\n          in_stock,\n          stock_quantity,\n          dosage_form,\n          strength,\n          pack_size,\n          manufacturer,\n          generic_name,\n          requires_prescription,\n          image_urls\n        ").or("name.ilike.%".concat(e,"%,generic_name.ilike.%").concat(e,"%")).eq("is_active",!0).order("name").limit(10);if(s)throw console.error("\u274c ProductSearchService: Search error:",s),s;return{data:t||[],error:null}}catch(t){return console.error("\u274c ProductSearchService: Search failed:",t),{data:null,error:t}}}static async getProductById(e){try{const{data:t,error:s}=await Cr.from("products").select("*").eq("id",e).single();if(s)throw s;return{data:t,error:null}}catch(t){return console.error("\u274c ProductSearchService: Get product error:",t),{data:null,error:t}}}static async fuzzySearch(e){try{if(!e||e.trim().length<2)return{data:[],error:null};let t=Cr.from("products").select("\n          id,\n          name,\n          description,\n          price,\n          mrp,\n          discount_percentage,\n          in_stock,\n          stock_quantity,\n          dosage_form,\n          strength,\n          pack_size,\n          manufacturer,\n          generic_name,\n          requires_prescription,\n          image_urls\n        ").eq("is_active",!0);const{data:s,error:r}=await t.or("name.ilike.".concat(e,",generic_name.ilike.").concat(e)).order("name").limit(15);if(r)throw r;const{data:n,error:a}=await t.or("name.ilike.%".concat(e,"%,generic_name.ilike.%").concat(e,"%")).order("name").limit(15);if(a)throw a;const i=[...s||[],...n||[]],o=this.removeDuplicates(i);return{data:o.sort((t,s)=>{const r=t.name.toLowerCase(),n=s.name.toLowerCase(),a=e.toLowerCase();return r===a?-1:n===a?1:r.startsWith(a)?-1:n.startsWith(a)?1:r.includes(a)?-1:n.includes(a)?1:0}),error:null}}catch(t){return console.error("\u274c ProductSearchService: Search failed:",t),{data:null,error:t}}}static async intelligentFuzzySearch(e){try{if(!e||e.trim().length<2)return{data:[],error:null};try{const t=Kr.generateSearchVariations(e),s=[];for(const n of t){const{data:t,error:r}=await this.performDatabaseSearch(n);if(r)console.warn('\u26a0\ufe0f Search failed for variation "'.concat(n,'":'),r);else if(t&&t.length>0){const r=t.map(t=>Fr(Fr({},t),{},{relevanceScore:this.calculateRelevanceScore(e,t),searchVariation:n}));s.push(...r)}}const r=this.removeDuplicates(s).sort((e,t)=>t.relevanceScore-e.relevanceScore);if(r.length>0)return{data:r,error:null}}catch(t){console.warn("\u26a0\ufe0f Complex search failed, falling back to simple search:",t)}return await this.searchProductsByName(e)}catch(s){return console.error("\u274c ProductSearchService: Intelligent search failed:",s),{data:null,error:s}}}static async performDatabaseSearch(e){try{const t=Cr.from("products").select("\n          id,\n          name,\n          description,\n          price,\n          mrp,\n          discount_percentage,\n          in_stock,\n          stock_quantity,\n          dosage_form,\n          strength,\n          pack_size,\n          manufacturer,\n          generic_name,\n          requires_prescription,\n          image_urls\n        ").eq("is_active",!0),{data:s,error:r}=await t.or("name.ilike.".concat(e,",generic_name.ilike.").concat(e)).limit(5);if(r)throw r;const{data:n,error:a}=await t.or("name.ilike.".concat(e,"%,generic_name.ilike.").concat(e,"%")).limit(10);if(a)throw a;const{data:i,error:o}=await t.or("name.ilike.%".concat(e,"%,generic_name.ilike.%").concat(e,"%")).limit(15);if(o)throw o;const l=e.split(" ");let c=[];if(l.length>1)for(const e of l)if(e.length>2){const{data:s,error:r}=await t.or("name.ilike.%".concat(e,"%,generic_name.ilike.%").concat(e,"%")).limit(5);!r&&s&&c.push(...s)}return{data:[...s||[],...n||[],...i||[],...c],error:null}}catch(t){return console.error("\u274c Database search error:",t),{data:null,error:t}}}static calculateRelevanceScore(e,t){const s=e.toLowerCase().trim(),r=(t.name||"").toLowerCase().trim(),n=(t.generic_name||"").toLowerCase().trim();let a=0;if(r===s||n===s)a=100;else if(r.startsWith(s)||n.startsWith(s))a=90;else if(r.includes(s)||n.includes(s))a=80;else{const e=s.split(/\s+/),t=r.split(/\s+/),i=n.split(/\s+/);let o=0;const l=e.length;e.forEach(e=>{e.length>2&&(t.some(t=>t===e)||i.some(t=>t===e)?o++:(t.some(t=>t.includes(e))||i.some(t=>t.includes(e)))&&(o+=.5))}),a=Math.min(75,o/l*75)}t.in_stock&&(a+=5),t.image_urls&&t.image_urls.length>0&&(a+=2);const i=Kr.calculateSimilarity(e,t.name);return a=Math.max(a,70*i),Math.min(100,Math.round(a))}static async batchSearch(e){try{if(!e||0===e.length)return{data:[],error:null};const t=[];for(const s of e){const{data:e,error:r}=await this.intelligentFuzzySearch(s);r?(console.warn('\u26a0\ufe0f Search failed for "'.concat(s,'":'),r),t.push({searchTerm:s,matches:[],error:r.message})):t.push({searchTerm:s,matches:e||[],error:null}),await new Promise(e=>setTimeout(e,100))}return{data:t,error:null}}catch(t){return console.error("\u274c ProductSearchService: Batch search failed:",t),{data:null,error:t}}}static async findAlternatives(e){try{const{data:t,error:s}=await this.intelligentFuzzySearch(e);if(s||!t||0===t.length)return{data:[],error:s};const r=t[0],n=[];if(r.generic_name){const{data:e,error:t}=await this.searchProductsByName(r.generic_name);!t&&e&&n.push(...e)}if(r.manufacturer){const{data:e,error:t}=await Cr.from("products").select("*").eq("manufacturer",r.manufacturer).eq("is_active",!0).limit(5);!t&&e&&n.push(...e)}return{data:this.removeDuplicates(n).filter(e=>e.id!==r.id),error:null}}catch(t){return console.error("\u274c ProductSearchService: Find alternatives failed:",t),{data:null,error:t}}}static removeDuplicates(e){const t=new Set;return e.filter(e=>!t.has(e.id)&&(t.add(e.id),!0))}}const $r=(0,t.forwardRef)((e,s)=>{let{currentSearchTerm:r}=e;const[n,a]=(0,t.useState)(""),[i,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(!1),[h,m]=(0,t.useState)(!1),p=(0,t.useRef)(null),f=(0,t.useRef)(null),g=ee();(0,t.useEffect)(()=>{const e=setTimeout(()=>{n.trim().length>=2?v(n.trim()):(o([]),c(!1))},300);return()=>clearTimeout(e)},[n]),(0,t.useEffect)(()=>{const e=e=>{!f.current||f.current.contains(e.target)||p.current.contains(e.target)||c(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const v=async e=>{u(!0);try{const{data:t,error:s}=await Qr.searchProductsByName(e);if(!s&&t){const e=t.slice(0,8).map(e=>({id:e.id,name:e.name,price:e.price,inStock:e.in_stock,manufacturer:e.manufacturer,relevanceScore:100}));o(e),c(e.length>0)}else o([]),c(!1)}catch(t){console.error("Error fetching search suggestions:",t),o([]),c(!1)}finally{u(!1)}},x=e=>{var t;(e.preventDefault(),n.trim())&&(g("/products?search=".concat(encodeURIComponent(n.trim()))),c(!1),null===(t=p.current)||void 0===t||t.blur())};return(0,Or.jsx)("section",{className:"hero-section",ref:s,children:(0,Or.jsx)("div",{className:"container",children:(0,Or.jsxs)("div",{className:"hero-content",children:[(0,Or.jsx)("h1",{children:"What are you looking for?"}),(0,Or.jsx)("p",{children:"Find medicines, lab tests, and more"}),(0,Or.jsx)("form",{onSubmit:x,className:"hero-search-form",children:(0,Or.jsxs)("div",{className:"hero-search-container",children:[(0,Or.jsx)("input",{ref:p,type:"text",className:"hero-search-bar",value:n,onChange:e=>{a(e.target.value)},onFocus:()=>{m(!0),n.trim().length>=2&&i.length>0&&c(!0)},onBlur:()=>{m(!1),setTimeout(()=>{var e;null!==(e=f.current)&&void 0!==e&&e.contains(document.activeElement)||c(!1)},150)},onKeyDown:e=>{if("Enter"===e.key)x(e);else if("Escape"===e.key){var t;c(!1),null===(t=p.current)||void 0===t||t.blur()}},placeholder:h||n?"":"Search for ".concat(r||"medicines, healthcare products..."),autoComplete:"off"}),d&&(0,Or.jsx)("div",{className:"search-loading",children:(0,Or.jsx)("div",{className:"search-spinner"})}),(0,Or.jsx)(Hr,{className:"voice-search-btn hero-voice-btn","aria-label":"Voice Search",title:"Voice Search",onResult:e=>{a(e),e.trim()&&g("/products?search=".concat(encodeURIComponent(e.trim())))}}),(0,Or.jsx)("button",{type:"submit",className:"hero-search-btn","aria-label":"Search",disabled:!n.trim(),children:(0,Or.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",viewBox:"0 0 16 16",children:(0,Or.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})})}),l&&i.length>0&&(0,Or.jsxs)("div",{ref:f,className:"search-suggestions",children:[(0,Or.jsx)("div",{className:"suggestions-header",children:(0,Or.jsx)("span",{children:"Suggested Products"})}),(0,Or.jsx)("ul",{className:"suggestions-list",children:i.map(e=>(0,Or.jsxs)("li",{className:"suggestion-item",onClick:()=>(e=>{var t;g("/products?search=".concat(encodeURIComponent(e.name))),a(e.name),c(!1),null===(t=p.current)||void 0===t||t.blur()})(e),children:[(0,Or.jsxs)("div",{className:"suggestion-content",children:[(0,Or.jsx)("div",{className:"suggestion-name",children:e.name}),(0,Or.jsxs)("div",{className:"suggestion-details",children:[(0,Or.jsx)("span",{className:"suggestion-manufacturer",children:e.manufacturer}),(0,Or.jsxs)("span",{className:"suggestion-price",children:["\u20b9",e.price]}),(0,Or.jsx)("span",{className:"suggestion-stock ".concat(e.inStock?"in-stock":"out-of-stock"),children:e.inStock?"\u2713 In Stock":"\u2717 Out of Stock"})]})]}),(0,Or.jsx)("div",{className:"suggestion-arrow",children:"\u2192"})]},e.id))}),(0,Or.jsx)("div",{className:"suggestions-footer",children:(0,Or.jsxs)("button",{type:"button",className:"view-all-results",onClick:()=>x({preventDefault:()=>{}}),children:['View all results for "',n,'"']})})]}),l&&0===i.length&&n.trim().length>=2&&!d&&(0,Or.jsx)("div",{ref:f,className:"search-suggestions",children:(0,Or.jsxs)("div",{className:"no-suggestions",children:[(0,Or.jsx)("div",{className:"no-suggestions-icon",children:"\ud83d\udd0d"}),(0,Or.jsxs)("div",{className:"no-suggestions-text",children:[(0,Or.jsxs)("p",{children:['No products found for "',n,'"']}),(0,Or.jsx)("p",{className:"no-suggestions-hint",children:"Try searching for generic names or check spelling"})]}),(0,Or.jsx)("button",{type:"button",className:"search-anyway-btn",onClick:()=>x({preventDefault:()=>{}}),children:"Search anyway"})]})})]})}),(0,Or.jsxs)("div",{className:"hero-prescription",children:[(0,Or.jsx)("span",{children:"Order with prescription."}),(0,Or.jsx)(Ce,{to:"/prescription-upload",className:"hero-upload-link",children:"UPLOAD NOW >"})]})]})})})});$r.displayName="HeroSection";const Jr=$r,Xr=()=>(0,Or.jsx)("section",{className:"promo-banners",children:(0,Or.jsx)("div",{className:"container",children:(0,Or.jsxs)("div",{className:"banner-grid",children:[(0,Or.jsxs)("div",{className:"promo-banner lab-test-banner",children:[(0,Or.jsxs)("div",{className:"banner-content",children:[(0,Or.jsx)("h3",{children:"Buy 1 Get 1 FREE"}),(0,Or.jsx)("p",{children:"on Comprehensive full body checkup with Vitamin D & B12"}),(0,Or.jsx)("div",{className:"banner-offer",children:"Extra 20% Plus FlickXir Credits"}),(0,Or.jsx)("button",{className:"banner-btn",children:"BOGO Book Now"})]}),(0,Or.jsx)("div",{className:"banner-image",children:"\ud83e\ude78"})]}),(0,Or.jsxs)("div",{className:"promo-banner sunscreen-banner",children:[(0,Or.jsxs)("div",{className:"banner-content",children:[(0,Or.jsx)("h3",{children:"Glenmark Lightweight Sunscreen"}),(0,Or.jsx)("p",{children:"Your summer skin's best defence"}),(0,Or.jsx)("div",{className:"banner-offer",children:"Get Extra 5% Plus FlickXir Credits"}),(0,Or.jsx)("button",{className:"banner-btn",children:"BUY NOW"})]}),(0,Or.jsx)("div",{className:"banner-image",children:"\ud83e\uddf4"})]}),(0,Or.jsxs)("div",{className:"promo-banner supplement-banner",children:[(0,Or.jsxs)("div",{className:"banner-content",children:[(0,Or.jsx)("h3",{children:"Prohance"}),(0,Or.jsx)("p",{children:"Backed by science. Trusted by doctors."}),(0,Or.jsx)("button",{className:"banner-btn whatsapp-btn",children:"ORDER ON WHATSAPP"})]}),(0,Or.jsx)("div",{className:"banner-image",children:"\ud83d\udc8a"})]})]})})}),Zr=()=>{const e=ee();return(0,Or.jsxs)("section",{className:"categories-section",children:[(0,Or.jsx)("div",{className:"container",children:(0,Or.jsx)("div",{className:"category-shortcuts",children:[{name:"Medicine",image:"https://assets.pharmeasy.in/apothecary/images/medicine_ff.webp?dim=256x0",offer:"SAVE 23%"},{name:"Doctor Consult",image:"https://assets.pharmeasy.in/web-assets/images/icon_doc_consult_tile.webp?dim=256x0:",offer:""},{name:"Healthcare",image:"https://assets.pharmeasy.in/apothecary/images/healthcare_ff.webp?dim=256x0",offer:"UPTO 60% OFF"},{name:"Offers",image:"https://assets.pharmeasy.in/apothecary/images/offers_ff.webp?dim=256x0",offer:""},{name:"Value Store",image:"https://assets.pharmeasy.in/apothecary/images/value_store.png?dim=256x0",offer:"UPTO 50% OFF"},{name:"Diet Plan",image:"https://assets.pharmeasy.in/apothecary/images/healthcare_ff.webp?dim=256x0",offer:"PERSONALIZED"}].map((t,s)=>(0,Or.jsxs)("div",{className:"category-item",onClick:()=>{"Medicine"===t.name?e("/products?category=medicines"):"Healthcare"===t.name&&e("/products?category=healthcare")},style:{cursor:"Medicine"===t.name||"Healthcare"===t.name?"pointer":"default"},children:[(0,Or.jsx)("div",{className:"category-icon",children:(0,Or.jsx)("img",{src:t.image,alt:t.name,className:"category-img"})}),(0,Or.jsx)("div",{className:"category-name",children:t.name}),t.offer&&(0,Or.jsx)("div",{className:"category-offer",children:t.offer})]},s))})}),(0,Or.jsxs)("div",{className:"container",children:[(0,Or.jsx)("div",{className:"section-header",children:(0,Or.jsx)("h2",{className:"section-title",children:"Diseases"})}),(0,Or.jsx)("div",{className:"category-shortcuts",children:[{name:"Cardiovascular",icon:"\u2764\ufe0f",offer:"HEART HEALTH",categoryIds:["fbefc7d5-0c94-4d02-8015-3dd555721040"],keywords:["blood pressure","bp monitor","heart","cardiovascular"]},{name:"Diabetes",icon:"\ud83e\ude78",offer:"BLOOD SUGAR",categoryIds:["33e6d1c2-473e-46c7-bbd5-95b7e5897dad","fbefc7d5-0c94-4d02-8015-3dd555721040"],keywords:["diabetes","glucose","metformin","blood sugar","insulin"]},{name:"Respiratory",icon:"\ud83e\udec1",offer:"LUNG CARE",categoryIds:["fbefc7d5-0c94-4d02-8015-3dd555721040"],keywords:["nebulizer","respiratory","asthma","bronchitis","copd","pulse oximeter"]}].map((t,s)=>(0,Or.jsxs)("div",{className:"category-item disease-item",onClick:()=>(t=>{const s=new URLSearchParams;s.set("disease",t.name.toLowerCase()),t.categoryIds&&t.categoryIds.length>0&&s.set("categoryIds",t.categoryIds.join(",")),t.keywords&&t.keywords.length>0&&s.set("keywords",t.keywords.join(",")),e("/products?".concat(s.toString()))})(t),style:{cursor:"pointer"},children:[(0,Or.jsx)("div",{className:"category-icon",children:t.icon}),(0,Or.jsx)("div",{className:"category-name",children:t.name}),(0,Or.jsx)("div",{className:"category-offer",children:t.offer})]},s))})]})]})};const en=class{static async createProduct(e){try{const{data:t,error:s}=await Cr.from("products").insert([e]).select("*").single();if(s)throw s;return{data:t,error:null}}catch(t){return console.error("Create product error:",t),{data:null,error:t}}}static async uploadProductImage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"products";try{const s=e.name.split(".").pop(),r="".concat(t,"/").concat(Date.now(),"-").concat(Math.random().toString(36).slice(2),".").concat(s),{data:n,error:a}=await Cr.storage.from("product-images").upload(r,e,{upsert:!1});if(a)throw a;const{data:i}=Cr.storage.from("product-images").getPublicUrl(n.path);return{url:i.publicUrl,error:null}}catch(s){return console.error("Upload image error:",s),{url:null,error:s}}}static async getProducts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let t=Cr.from("products").select("\n          *,\n          categories(name, description)\n        ");if(e.category&&(t=t.eq("category_id",e.category)),e.search&&(t=t.or("name.ilike.%".concat(e.search,"%,description.ilike.%").concat(e.search,"%"))),e.minPrice&&(t=t.gte("price",e.minPrice)),e.maxPrice&&(t=t.lte("price",e.maxPrice)),void 0!==e.inStock&&(t=t.eq("in_stock",e.inStock)),e.sortBy){const s="desc"!==e.sortOrder;t=t.order(e.sortBy,{ascending:s})}else t=t.order("created_at",{ascending:!1});if(e.page&&e.limit){const s=(e.page-1)*e.limit,r=s+e.limit-1;t=t.range(s,r)}const{data:s,error:r}=await t;if(r)throw console.error("\u274c Supabase query error:",r),console.error("Error details:",{message:r.message,code:r.code,details:r.details,hint:r.hint}),r;return{data:s,error:null}}catch(t){return console.error("\ud83d\udea8 Get products error:",t),{data:null,error:t}}}static async getProductById(e){try{const{data:t,error:s}=await Cr.from("products").select("\n          *,\n          category:categories(name, description),\n          reviews:product_reviews(*)\n        ").eq("id",e).single();if(s)throw s;return{data:t,error:null}}catch(t){return console.error("Get product by ID error:",t),{data:null,error:t}}}static async getProductsByCategory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{const{data:s,error:r}=await Cr.from("products").select("*").eq("category_id",e).eq("in_stock",!0).limit(t);if(r)throw r;return{data:s,error:null}}catch(s){return console.error("Get products by category error:",s),{data:null,error:s}}}static async searchProducts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;try{const{data:s,error:r}=await Cr.from("products").select("*").or("name.ilike.%".concat(e,"%,description.ilike.%").concat(e,"%")).eq("in_stock",!0).limit(t);if(r)throw r;return{data:s,error:null}}catch(s){return console.error("Search products error:",s),{data:null,error:s}}}static async getFeaturedProducts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;try{const{data:t,error:s}=await Cr.from("products").select("*").eq("featured",!0).eq("in_stock",!0).limit(e);if(s)throw s;return{data:t,error:null}}catch(t){return console.error("Get featured products error:",t),{data:null,error:t}}}static async getCategories(){try{const{data:e,error:t}=await Cr.from(Pr).select("*").order("name");if(t)throw t;return{data:e,error:null}}catch(e){return console.error("Get categories error:",e),{data:null,error:e}}}static async addToCart(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;try{const{data:r}=await Cr.from(Tr).select("*").eq("user_id",e).eq("product_id",t).single();if(r){const{error:e}=await Cr.from(Tr).update({quantity:r.quantity+s}).eq("id",r.id);if(e)throw e}else{const{error:r}=await Cr.from(Tr).insert([{user_id:e,product_id:t,quantity:s}]);if(r)throw r}return{error:null}}catch(r){return console.error("Add to cart error:",r),{error:r}}}static async getUserCart(e){try{const{data:t,error:s}=await Cr.from(Tr).select("\n          *,\n          product:products(*)\n        ").eq("user_id",e);if(s)throw s;return{data:t,error:null}}catch(t){return console.error("Get user cart error:",t),{data:null,error:t}}}static async updateCartItemQuantity(e,t){try{const{error:s}=await Cr.from(Tr).update({quantity:t}).eq("id",e);if(s)throw s;return{error:null}}catch(s){return console.error("Update cart item quantity error:",s),{error:s}}}static async removeFromCart(e){try{const{error:t}=await Cr.from(Tr).delete().eq("id",e);if(t)throw t;return{error:null}}catch(t){return console.error("Remove from cart error:",t),{error:t}}}static async clearUserCart(e){try{const{error:t}=await Cr.from(Tr).delete().eq("user_id",e);if(t)throw t;return{error:null}}catch(t){return console.error("Clear user cart error:",t),{error:t}}}},tn=e=>{let{size:t="md",className:s=""}=e;return(0,Or.jsx)("div",{className:"loading-spinner ".concat({sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"}[t]," ").concat(s),children:(0,Or.jsx)("div",{className:"spinner-ring"})})},sn=e=>{let{className:t="",width:s="100%",height:r="20px"}=e;return(0,Or.jsx)("div",{className:"shimmer-wrapper ".concat(t),style:{width:s,height:r},children:(0,Or.jsx)("div",{className:"shimmer-effect"})})},rn=()=>(0,Or.jsxs)("div",{className:"cart-item skeleton-item",children:[(0,Or.jsxs)("div",{className:"cart-item-image",children:[(0,Or.jsx)(sn,{className:"skeleton-image",width:"64px",height:"64px"}),(0,Or.jsx)(sn,{className:"skeleton-number",width:"20px",height:"20px"})]}),(0,Or.jsxs)("div",{className:"cart-item-details",children:[(0,Or.jsxs)("div",{className:"item-main-info",children:[(0,Or.jsx)(sn,{className:"skeleton-title",width:"75%",height:"16px"}),(0,Or.jsxs)("div",{className:"item-tags",children:[(0,Or.jsx)(sn,{className:"skeleton-tag",width:"80px",height:"12px"}),(0,Or.jsx)(sn,{className:"skeleton-tag",width:"100px",height:"12px"})]})]}),(0,Or.jsxs)("div",{className:"item-pricing",children:[(0,Or.jsxs)("div",{className:"price-info",children:[(0,Or.jsx)(sn,{className:"skeleton-price",width:"60px",height:"16px"}),(0,Or.jsx)(sn,{className:"skeleton-mrp",width:"50px",height:"14px"})]}),(0,Or.jsxs)("div",{className:"cart-item-quantity",children:[(0,Or.jsx)(sn,{className:"skeleton-label",width:"60px",height:"14px"}),(0,Or.jsxs)("div",{className:"quantity-controls",children:[(0,Or.jsx)(sn,{className:"skeleton-btn",width:"32px",height:"32px"}),(0,Or.jsx)(sn,{className:"skeleton-quantity",width:"24px",height:"16px"}),(0,Or.jsx)(sn,{className:"skeleton-btn",width:"32px",height:"32px"})]})]})]}),(0,Or.jsxs)("div",{className:"cart-item-subtotal",children:[(0,Or.jsx)(sn,{className:"skeleton-subtotal-label",width:"60px",height:"14px"}),(0,Or.jsx)(sn,{className:"skeleton-subtotal-amount",width:"70px",height:"16px"})]})]}),(0,Or.jsx)("div",{className:"cart-item-actions",children:(0,Or.jsx)(sn,{className:"skeleton-remove-btn",width:"36px",height:"36px"})})]}),nn=()=>(0,Or.jsxs)("div",{className:"cart-summary",children:[(0,Or.jsxs)("div",{className:"cart-summary-card",children:[(0,Or.jsxs)("div",{className:"summary-header",children:[(0,Or.jsx)(sn,{className:"skeleton-icon",width:"24px",height:"24px"}),(0,Or.jsx)(sn,{className:"skeleton-summary-title",width:"120px",height:"18px"})]}),(0,Or.jsxs)("div",{className:"summary-details",children:[(0,Or.jsxs)("div",{className:"summary-row",children:[(0,Or.jsx)(sn,{className:"skeleton-summary-label",width:"80px",height:"14px"}),(0,Or.jsx)(sn,{className:"skeleton-summary-value",width:"60px",height:"14px"})]}),(0,Or.jsxs)("div",{className:"summary-row",children:[(0,Or.jsx)(sn,{className:"skeleton-summary-label",width:"60px",height:"14px"}),(0,Or.jsx)(sn,{className:"skeleton-summary-value",width:"40px",height:"14px"})]}),(0,Or.jsxs)("div",{className:"summary-row total",children:[(0,Or.jsx)(sn,{className:"skeleton-total-label",width:"50px",height:"16px"}),(0,Or.jsx)(sn,{className:"skeleton-total-value",width:"80px",height:"18px"})]})]}),(0,Or.jsx)(sn,{className:"skeleton-checkout-btn",width:"100%",height:"48px"}),(0,Or.jsx)(sn,{className:"skeleton-continue-link",width:"140px",height:"16px"})]}),(0,Or.jsxs)("div",{className:"cart-benefits",children:[(0,Or.jsxs)("div",{className:"benefit-item",children:[(0,Or.jsx)(sn,{className:"skeleton-benefit-icon",width:"20px",height:"20px"}),(0,Or.jsx)(sn,{className:"skeleton-benefit-text",width:"180px",height:"14px"})]}),(0,Or.jsxs)("div",{className:"benefit-item",children:[(0,Or.jsx)(sn,{className:"skeleton-benefit-icon",width:"20px",height:"20px"}),(0,Or.jsx)(sn,{className:"skeleton-benefit-text",width:"140px",height:"14px"})]}),(0,Or.jsxs)("div",{className:"benefit-item",children:[(0,Or.jsx)(sn,{className:"skeleton-benefit-icon",width:"20px",height:"20px"}),(0,Or.jsx)(sn,{className:"skeleton-benefit-text",width:"120px",height:"14px"})]})]})]}),an=()=>(0,Or.jsx)("div",{className:"cart-page",children:(0,Or.jsxs)("div",{className:"cart-container",children:[(0,Or.jsxs)("div",{className:"cart-header",children:[(0,Or.jsxs)("div",{className:"cart-header-left",children:[(0,Or.jsx)(sn,{className:"skeleton-header-icon",width:"32px",height:"32px"}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)(sn,{className:"skeleton-header-title",width:"150px",height:"24px"}),(0,Or.jsx)(sn,{className:"skeleton-header-subtitle",width:"120px",height:"16px"})]})]}),(0,Or.jsx)(sn,{className:"skeleton-clear-btn",width:"100px",height:"36px"})]}),(0,Or.jsxs)("div",{className:"cart-content",children:[(0,Or.jsxs)("div",{className:"cart-items",children:[(0,Or.jsxs)("div",{className:"cart-items-header",children:[(0,Or.jsx)(sn,{className:"skeleton-items-title",width:"100px",height:"18px"}),(0,Or.jsx)(sn,{className:"skeleton-items-count",width:"60px",height:"16px"})]}),(0,Or.jsx)(rn,{}),(0,Or.jsx)(rn,{}),(0,Or.jsx)(rn,{})]}),(0,Or.jsx)(nn,{})]})]})}),on=()=>{const e=ee(),[s,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(!0),[i,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(new Set),{addToCart:d,updateQuantity:u,removeFromCart:h,items:m,operationLoading:p}=Wr(),{isAuthenticated:f}=Ir();(0,t.useEffect)(()=>{g()},[]);const g=async()=>{try{a(!0),o(null);const e=await en.getProducts({limit:50});if(e.error)throw console.error("\u274c Supabase returned an error:",e.error),e.error;const{data:t}=e;if(t&&t.length>0){const e=v(t);r(e)}else console.warn("\u26a0\ufe0f No products returned"),r([])}catch(i){console.error("\ud83d\udea8 Error fetching products:",i),o(i.message||"Failed to load products"),r([])}finally{a(!1)}},v=e=>{const t={};return e.forEach(e=>{var s;const r=(null===(s=e.categories)||void 0===s?void 0:s.name)||"Uncategorized";t[r]||(t[r]=[]),t[r].push({id:e.id,name:e.name,price:Number(e.price),imageUrl:e.image_url||"https://dummyimage.com/300x300/06b6d4/ffffff&text=No+Image",description:e.description,inStock:e.in_stock})}),Object.entries(t).map(e=>{let[t,s]=e;return{title:t,products:s.slice(0,6)}})},x=(0,t.useCallback)(e=>m.find(t=>t.product_id===e),[m]),y=(0,t.useCallback)(e=>{const t=x(e);return t?t.quantity:0},[x]),j=async t=>{if(f){c(e=>new Set(e).add(t.id));try{await d(t)}finally{setTimeout(()=>{c(e=>{const s=new Set(e);return s.delete(t.id),s})},300)}}else e("/signup")},b=(0,t.useCallback)(async(e,t)=>{const s=x(e);if(s){c(t=>new Set(t).add(e));try{t<=0?await h(s.id):await u(s.id,t)}finally{setTimeout(()=>{c(t=>{const s=new Set(t);return s.delete(e),s})},300)}}},[x,u,h]),w=e=>{let{product:t,quantity:s,isLoading:r}=e;return(0,Or.jsxs)("div",{className:"quantity-controls-card",children:[(0,Or.jsx)("button",{className:"quantity-btn decrease",onClick:e=>{e.stopPropagation(),b(t.id,s-1)},"aria-label":"Decrease quantity",children:(0,Or.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Or.jsx)("path",{d:"M5 12h14"})})}),(0,Or.jsx)("div",{className:"quantity-display",children:(0,Or.jsx)("span",{className:"quantity-number",children:s})}),(0,Or.jsx)("button",{className:"quantity-btn increase",onClick:e=>{e.stopPropagation(),b(t.id,s+1)},"aria-label":"Increase quantity",children:(0,Or.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Or.jsx)("path",{d:"M12 5v14M5 12h14"})})})]})},N=(e,t)=>{if(e.current){const s=e.current.querySelector(".product-grid"),r=s.querySelector(".product-card"),n=parseFloat(window.getComputedStyle(s).gap)||32,a=r.offsetWidth+n;s.scrollBy({left:"next"===t?a:-a,behavior:"smooth"})}};return i?(0,Or.jsxs)("div",{className:"error-container",children:[(0,Or.jsx)("h2",{children:"Error Loading Products"}),(0,Or.jsx)("p",{children:i}),(0,Or.jsx)("button",{onClick:g,className:"retry-btn",children:"Try Again"}),(0,Or.jsxs)("div",{className:"fallback-products",children:[(0,Or.jsx)("h3",{children:"Showing Fallback Products"}),(0,Or.jsx)("p",{children:"Your database connection may need to be configured. Here are some sample products:"}),(0,Or.jsx)("div",{className:"fallback-grid",children:[{name:"Paracetamol 500mg",price:45,imageUrl:"https://dummyimage.com/300x300/eff6ff/1e293b&text=Paracetamol+500mg"},{name:"Ibuprofen 400mg",price:60,imageUrl:"https://dummyimage.com/300x300/fef3c7/1e293b&text=Ibuprofen+400mg"},{name:"Vitamin D3 1000IU",price:180,imageUrl:"https://dummyimage.com/300x300/f0fdf4/1e293b&text=Vitamin+D3+1000IU"}].map((t,s)=>{const r=Fr(Fr({},t),{},{id:"fallback-".concat(s)}),n=y(r.id),a=n>0,i=l.has(r.id);return(0,Or.jsxs)("div",{className:"product-card",onClick:()=>e("/product/".concat(r.id)),style:{cursor:"pointer"},children:[(0,Or.jsx)("div",{className:"product-image",children:(0,Or.jsx)("img",{src:t.imageUrl,alt:t.name})}),(0,Or.jsx)("div",{className:"product-name",children:t.name}),(0,Or.jsxs)("div",{className:"product-price",children:["\u20b9",t.price]}),a?(0,Or.jsx)(w,{product:r,quantity:n,isLoading:i}):(0,Or.jsx)("button",{className:"add-to-cart",onClick:async e=>{e.stopPropagation(),await j(r)},disabled:i,children:i?(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsx)(tn,{size:"sm"}),(0,Or.jsx)("span",{children:"Adding..."})]}):"Add to Cart"})]},s)})})]})]}):n?(0,Or.jsxs)("div",{className:"loading-container",children:[(0,Or.jsx)("div",{className:"loading-spinner"}),(0,Or.jsx)("p",{children:"Loading products..."}),(0,Or.jsx)("p",{className:"loading-subtitle",children:"This may take a few seconds"}),(0,Or.jsx)("button",{onClick:()=>a(!1),className:"skip-loading-btn",children:"Skip Loading"})]}):0===s.length?(0,Or.jsxs)("div",{className:"no-products",children:[(0,Or.jsx)("h2",{children:"No products available"}),(0,Or.jsx)("p",{children:"Please check back later or contact support if this persists."}),(0,Or.jsx)("button",{onClick:g,className:"retry-btn",children:"Refresh Products"})]}):(0,Or.jsx)(Or.Fragment,{children:s.map((t,s)=>(0,Or.jsxs)("section",{className:"product-section",children:[(0,Or.jsxs)("div",{className:"section-header",children:[(0,Or.jsx)("h2",{className:"section-title",children:t.title}),(0,Or.jsx)("a",{href:"#",className:"view-all-btn",children:"View All"})]}),(0,Or.jsxs)("div",{className:"product-scroll-container",children:[(0,Or.jsx)("button",{className:"scroll-btn prev-btn","aria-label":"Previous products",onClick:e=>{const t={current:e.target.closest(".product-scroll-container")};N(t,"prev")},children:"\u2039"}),(0,Or.jsx)("div",{className:"product-grid",children:t.products.map((t,s)=>{const r=y(t.id),n=r>0,a=l.has(t.id);return(0,Or.jsxs)("div",{className:"product-card",onClick:()=>e("/product/".concat(t.id)),style:{cursor:"pointer"},children:[(0,Or.jsx)("div",{className:"product-image",children:(0,Or.jsx)("img",{src:t.imageUrl,alt:t.name})}),(0,Or.jsx)("div",{className:"product-name",children:t.name}),(0,Or.jsxs)("div",{className:"product-price",children:["\u20b9",t.price]}),n?(0,Or.jsx)(w,{product:t,quantity:r,isLoading:a}):(0,Or.jsx)("button",{className:"add-to-cart",onClick:async e=>{e.stopPropagation(),await j(t)},disabled:!t.inStock||a,children:t.inStock?a?(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsx)(tn,{size:"sm"}),(0,Or.jsx)("span",{children:"Adding..."})]}):"Add to Cart":"Out of Stock"})]},t.id)})}),(0,Or.jsx)("button",{className:"scroll-btn next-btn","aria-label":"Next products",onClick:e=>{const t={current:e.target.closest(".product-scroll-container")};N(t,"next")},children:"\u203a"})]})]},s))})},ln=()=>{const[e,s]=(0,t.useState)(!1),[r,n]=(0,t.useState)([]),[a]=(0,t.useState)(["medicines","shampoo","health drinks","vitamins"]),[i,o]=(0,t.useState)(0),l=(0,t.useRef)(null),c=(0,t.useRef)(null);return(0,t.useEffect)(()=>{const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(n(t=>[...t,e.target]),e.target.classList.add("animate-in"))})},{threshold:.1});return document.querySelectorAll(".animate-on-scroll").forEach(t=>e.observe(t)),()=>e.disconnect()},[]),(0,t.useEffect)(()=>{const e=()=>{const e=window.scrollY,t=l.current;if(t){const r=t.offsetTop+t.offsetHeight;s(e>r-100)}};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,t.useEffect)(()=>{const e=new IntersectionObserver(e=>{e.forEach(e=>{var t,s;e.isIntersecting?null===(t=c.current)||void 0===t||t.classList.remove("sticky"):null===(s=c.current)||void 0===s||s.classList.add("sticky")})},{threshold:0});return l.current&&e.observe(l.current),()=>e.disconnect()},[]),(0,t.useEffect)(()=>{const e=setInterval(()=>{o(e=>(e+1)%a.length)},2e3);return()=>clearInterval(e)},[a.length]),(0,Or.jsxs)("div",{className:"home",children:[(0,Or.jsx)(Gr,{ref:c,isSearchActive:e,currentSearchTerm:a[i]}),(0,Or.jsxs)("main",{className:"main-content",children:[(0,Or.jsx)(Jr,{ref:l,currentSearchTerm:a[i]}),(0,Or.jsx)(Xr,{}),(0,Or.jsx)(Zr,{}),(0,Or.jsx)(on,{})]})]})},cn=()=>{const e=ee(),{signIn:s,signInWithGoogle:r,resetPassword:n,isAuthenticated:a,loading:i}=Ir(),[o,l]=(0,t.useState)({email:"",password:""}),[c,d]=(0,t.useState)({}),[u,h]=(0,t.useState)(!1),[m,p]=(0,t.useState)(""),[f,g]=(0,t.useState)(!1),[v,x]=(0,t.useState)("");(0,t.useEffect)(()=>{a&&!i&&e("/")},[a,i,e]);const y=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),j=(e,t)=>{d(s=>Fr(Fr({},s),{},{[e]:t}))},b=e=>{const{name:t,value:s}=e.target;var r;l(e=>Fr(Fr({},e),{},{[t]:s})),c[t]&&(r=t,d(e=>{const t=Fr({},e);return delete t[r],t})),m&&p("")};return i?(0,Or.jsx)("div",{className:"signin-container",children:(0,Or.jsx)("div",{className:"signin-card",children:(0,Or.jsxs)("div",{className:"loading-spinner",children:[(0,Or.jsx)("div",{className:"spinner"}),(0,Or.jsx)("p",{children:"Loading..."})]})})}):(0,Or.jsx)("div",{className:"signin-container",children:(0,Or.jsxs)("div",{className:"signin-card",children:[(0,Or.jsxs)("div",{className:"signin-header",children:[(0,Or.jsx)("h1",{children:"Welcome Back"}),(0,Or.jsx)("p",{children:"Sign in to your FlickXir India account"})]}),m&&(0,Or.jsx)("div",{className:"auth-error",children:m}),(0,Or.jsxs)("form",{onSubmit:async e=>{e.preventDefault();let t=!1;if(o.email?y(o.email)||(j("email","Please enter a valid email"),t=!0):(j("email","Email is required"),t=!0),o.password?o.password.length<6&&(j("password","Password must be at least 6 characters"),t=!0):(j("password","Password is required"),t=!0),!t){h(!0),p("");try{const{error:e}=await s(o.email,o.password);e&&(e.message.includes("Email not confirmed")?p("\u274c Email not confirmed. Please check your email and click the confirmation link before signing in."):p(e.message||"Sign in failed. Please try again."))}catch(r){p("An unexpected error occurred. Please try again."),console.error("Sign in error:",r)}finally{h(!1)}}},className:"signin-form",children:[(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"email",children:"Email"}),(0,Or.jsx)("input",{type:"email",id:"email",name:"email",value:o.email,onChange:b,placeholder:"Enter your email",className:c.email?"error":""}),c.email&&(0,Or.jsx)("span",{className:"error-message",children:c.email})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Or.jsx)("input",{type:"password",id:"password",name:"password",value:o.password,onChange:b,placeholder:"Enter your password",className:c.password?"error":""}),c.password&&(0,Or.jsx)("span",{className:"error-message",children:c.password})]}),(0,Or.jsxs)("div",{className:"form-options",children:[(0,Or.jsxs)("label",{className:"checkbox-label",children:[(0,Or.jsx)("input",{type:"checkbox"}),(0,Or.jsx)("span",{className:"checkmark"}),"Remember me"]}),(0,Or.jsx)("button",{type:"button",onClick:async()=>{if(o.email)if(y(o.email)){g(!0),x("");try{const{error:e}=await n(o.email);x(e?e.message||"Failed to send reset email. Please try again.":"\u2705 Password reset email sent. Check your inbox and follow the link.")}catch(e){x("Failed to send reset email. Please try again.")}finally{g(!1)}}else j("email","Please enter a valid email");else j("email","Enter your email to reset password")},className:"forgot-password",disabled:f,children:f?"Sending...":"Forgot Password?"})]}),v&&(0,Or.jsx)("div",{className:"reset-info",style:{marginTop:"8px",color:v.startsWith("\u2705")?"#047857":"#b91c1c"},children:v}),(0,Or.jsx)("button",{type:"submit",className:"signin-button",disabled:u,children:u?"Signing In...":"Sign In"})]}),(0,Or.jsx)("div",{className:"divider",children:(0,Or.jsx)("span",{children:"or"})}),(0,Or.jsx)("div",{className:"social-login",children:(0,Or.jsxs)("button",{type:"button",className:"social-button google",onClick:r,disabled:u,children:[(0,Or.jsxs)("svg",{viewBox:"0 0 24 24",className:"social-icon",children:[(0,Or.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),(0,Or.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),(0,Or.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),(0,Or.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})}),(0,Or.jsx)("div",{className:"signup-prompt",children:(0,Or.jsxs)("p",{children:["Don't have an account? ",(0,Or.jsx)(Ce,{to:"/signup",className:"signup-link",children:"Sign up"})]})})]})})},dn=()=>{const e=ee(),{signUp:s,signInWithGoogle:r,isAuthenticated:n,loading:a}=Ir(),[i,o]=(0,t.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:"",agreeToTerms:!1}),[l,c]=(0,t.useState)({}),[d,u]=(0,t.useState)(!1),[h,m]=(0,t.useState)(""),[p,f]=(0,t.useState)(!1);(0,t.useEffect)(()=>{n&&!a&&e("/")},[n,a,e]);const g=e=>/^[0-9]*$/.test(e)?e.length<10?{isValid:!1,error:"Phone number must be 10 digits."}:e.length>10?{isValid:!1,error:"Phone number cannot exceed 10 digits."}:{isValid:!0,error:null}:{isValid:!1,error:"Only numbers are allowed."},v=(e,t)=>{c(s=>Fr(Fr({},s),{},{[e]:t}))},x=e=>{c(t=>{const s=Fr({},t);return delete s[e],s})},y=e=>{const{name:t,value:s,type:r,checked:n}=e.target;if("phone"===t){const e=s.replace(/[^0-9]/g,"").slice(0,10);if(o(s=>Fr(Fr({},s),{},{[t]:e})),e.length>0){const t=g(e);t.isValid?x("phone"):v("phone",t.error)}else x("phone")}else o(e=>Fr(Fr({},e),{},{[t]:"checkbox"===r?n:s})),l[t]&&x(t);h&&m("")};return a?(0,Or.jsx)("div",{className:"signup-container",children:(0,Or.jsx)("div",{className:"signup-card",children:(0,Or.jsxs)("div",{className:"loading-spinner",children:[(0,Or.jsx)("div",{className:"spinner"}),(0,Or.jsx)("p",{children:"Loading..."})]})})}):(0,Or.jsx)("div",{className:"signup-container",children:(0,Or.jsxs)("div",{className:"signup-card",children:[(0,Or.jsxs)("div",{className:"signup-header",children:[(0,Or.jsx)("h1",{children:"Create Account"}),(0,Or.jsx)("p",{children:"Join FlickXir India and start your healthcare journey"})]}),h&&(0,Or.jsx)("div",{className:"auth-error",children:h}),p&&(0,Or.jsxs)("div",{className:"auth-success",children:[(0,Or.jsx)("h3",{children:"\ud83c\udf89 Account Created Successfully!"}),(0,Or.jsx)("p",{children:"Please check your email to confirm your account before signing in."}),(0,Or.jsxs)("p",{children:[(0,Or.jsx)("strong",{children:"Note:"})," You must confirm your email before you can sign in."]}),(0,Or.jsx)("div",{className:"success-actions",children:(0,Or.jsx)(Ce,{to:"/signin",className:"success-link",children:"Go to Sign In"})})]}),!p&&(0,Or.jsxs)("form",{onSubmit:async e=>{e.preventDefault();let t=!1;var r;if(i.firstName.trim()||(v("firstName","First name is required"),t=!0),i.lastName.trim()||(v("lastName","Last name is required"),t=!0),i.email?(r=i.email,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)||(v("email","Please enter a valid email"),t=!0)):(v("email","Email is required"),t=!0),i.password?i.password.length<6&&(v("password","Password must be at least 6 characters"),t=!0):(v("password","Password is required"),t=!0),i.confirmPassword?i.password!==i.confirmPassword&&(v("confirmPassword","Passwords do not match"),t=!0):(v("confirmPassword","Please confirm your password"),t=!0),i.phone){const e=g(i.phone);e.isValid||(v("phone",e.error),t=!0)}else v("phone","Phone number is required"),t=!0;if(i.agreeToTerms||(v("agreeToTerms","You must agree to the terms and conditions"),t=!0),!t){u(!0),m("");try{const{error:e,data:t}=await s(i.email,i.password,{first_name:i.firstName,last_name:i.lastName,phone:i.phone,email:i.email});e?(console.error("Sign up error details:",e),e.message&&e.message.includes("configuration")||e.message&&e.message.includes("credentials")?m("Sign up service is not properly configured. Please contact support."):m(e.message||"Sign up failed. Please try again.")):(m(""),f(!0),o({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:"",agreeToTerms:!1}))}catch(n){console.error("Sign up unexpected error:",n),n.message&&n.message.includes("fetch")?m("Network error. Please check your internet connection and try again."):n.message&&n.message.includes("Supabase")?m("Authentication service is not available. Please try again later."):m("An unexpected error occurred. Please try again.")}finally{u(!1)}}},className:"signup-form",children:[(0,Or.jsxs)("div",{className:"form-row",children:[(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"firstName",children:"First Name"}),(0,Or.jsx)("input",{type:"text",id:"firstName",name:"firstName",value:i.firstName,onChange:y,placeholder:"Enter your first name",className:l.firstName?"error":""}),l.firstName&&(0,Or.jsx)("span",{className:"error-message",children:l.firstName})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),(0,Or.jsx)("input",{type:"text",id:"lastName",name:"lastName",value:i.lastName,onChange:y,placeholder:"Enter your last name",className:l.lastName?"error":""}),l.lastName&&(0,Or.jsx)("span",{className:"error-message",children:l.lastName})]})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"email",children:"Email"}),(0,Or.jsx)("input",{type:"email",id:"email",name:"email",value:i.email,onChange:y,placeholder:"Enter your email",className:l.email?"error":""}),l.email&&(0,Or.jsx)("span",{className:"error-message",children:l.email})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),(0,Or.jsx)("input",{type:"tel",id:"phone",name:"phone",value:i.phone,onChange:y,placeholder:"Enter your 10-digit phone number",className:l.phone?"error":"",maxLength:"10",pattern:"[0-9]{10}",title:"Please enter exactly 10 digits (Indian standard)"}),(0,Or.jsx)("small",{className:"field-help",children:"Must be exactly 10 digits (Indian standard)"}),l.phone&&(0,Or.jsx)("span",{className:"error-message",children:l.phone})]}),(0,Or.jsxs)("div",{className:"form-row",children:[(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Or.jsx)("input",{type:"password",id:"password",name:"password",value:i.password,onChange:y,placeholder:"Create a password",className:l.password?"error":""}),l.password&&(0,Or.jsx)("span",{className:"error-message",children:l.password})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,Or.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:i.confirmPassword,onChange:y,placeholder:"Confirm your password",className:l.confirmPassword?"error":""}),l.confirmPassword&&(0,Or.jsx)("span",{className:"error-message",children:l.confirmPassword})]})]}),(0,Or.jsxs)("div",{className:"form-group checkbox-group",children:[(0,Or.jsxs)("label",{className:"checkbox-label",children:[(0,Or.jsx)("input",{type:"checkbox",name:"agreeToTerms",checked:i.agreeToTerms,onChange:y}),(0,Or.jsx)("span",{className:"checkmark"}),"I agree to the ",(0,Or.jsx)("a",{href:"/terms",className:"terms-link",children:"Terms & Conditions"})," and ",(0,Or.jsx)("a",{href:"/privacy",className:"terms-link",children:"Privacy Policy"})]}),l.agreeToTerms&&(0,Or.jsx)("span",{className:"error-message",children:l.agreeToTerms})]}),(0,Or.jsx)("button",{type:"submit",className:"signup-button",disabled:d,children:d?"Creating Account...":"Create Account"})]}),!p&&(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsx)("div",{className:"divider",children:(0,Or.jsx)("span",{children:"or"})}),(0,Or.jsx)("div",{className:"social-signup",children:(0,Or.jsxs)("button",{type:"button",className:"social-button google",onClick:r,disabled:d,children:[(0,Or.jsxs)("svg",{viewBox:"0 0 24 24",className:"social-icon",children:[(0,Or.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),(0,Or.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),(0,Or.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),(0,Or.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})}),(0,Or.jsx)("div",{className:"signin-prompt",children:(0,Or.jsxs)("p",{children:["Already have an account? ",(0,Or.jsx)(Ce,{to:"/signin",className:"signin-link",children:"Sign in"})]})})]})]})})},un=()=>{const[e,s]=(0,t.useState)(0),[r,n]=(0,t.useState)({});return(0,t.useEffect)(()=>{const e=()=>s(window.scrollY);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,t.useEffect)(()=>{const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&n(t=>Fr(Fr({},t),{},{[e.target.id]:!0}))})},{threshold:.1});return document.querySelectorAll("[data-animate]").forEach(t=>e.observe(t)),()=>e.disconnect()},[]),(0,t.useEffect)(()=>{const e=setTimeout(()=>{document.querySelectorAll(".counter").forEach(e=>{const t=parseInt(e.getAttribute("data-target")),s=t/100;let r=0;const n=()=>{r<t?(r+=s,e.textContent=Math.floor(r).toLocaleString(),requestAnimationFrame(n)):e.textContent=t.toLocaleString()};n()})},1e3);return()=>clearTimeout(e)},[]),(0,Or.jsxs)("div",{className:"about-us",children:[(0,Or.jsx)(Gr,{}),(0,Or.jsxs)("main",{className:"about-main",children:[(0,Or.jsxs)("section",{className:"about-hero",children:[(0,Or.jsx)("div",{className:"hero-particles",children:[...Array(50)].map((e,t)=>(0,Or.jsx)("div",{className:"particle",style:{left:"".concat(100*Math.random(),"%"),animationDelay:"".concat(3*Math.random(),"s"),animationDuration:"".concat(3+4*Math.random(),"s")}},t))}),(0,Or.jsxs)("div",{className:"about-hero-content",style:{transform:"translateY(".concat(.5*e,"px)")},children:[(0,Or.jsx)("div",{className:"hero-badge",children:"\ud83d\ude80 Revolutionizing Healthcare"}),(0,Or.jsx)("h1",{className:"glitch-text","data-text":"FlickXir",children:"FlickXir"}),(0,Or.jsx)("p",{className:"hero-subtitle typing-animation",children:"Your trusted healthcare companion, delivering quality medicines and healthcare products to your doorstep"}),(0,Or.jsxs)("div",{className:"hero-stats",children:[(0,Or.jsxs)("div",{className:"hero-stat",children:[(0,Or.jsx)("div",{className:"stat-number counter","data-target":"10000",children:"0"}),(0,Or.jsx)("div",{className:"stat-label",children:"Happy Customers"})]}),(0,Or.jsxs)("div",{className:"hero-stat",children:[(0,Or.jsx)("div",{className:"stat-number counter","data-target":"5000",children:"0"}),(0,Or.jsx)("div",{className:"stat-label",children:"Medicines"})]}),(0,Or.jsxs)("div",{className:"hero-stat",children:[(0,Or.jsx)("div",{className:"stat-number counter","data-target":"50",children:"0"}),(0,Or.jsx)("div",{className:"stat-label",children:"Cities"})]})]})]}),(0,Or.jsx)("div",{className:"scroll-indicator",children:(0,Or.jsx)("div",{className:"scroll-arrow"})})]}),(0,Or.jsx)("section",{className:"about-section mission-section",children:(0,Or.jsx)("div",{className:"container",children:(0,Or.jsxs)("div",{className:"section-content",id:"mission","data-animate":!0,children:[(0,Or.jsxs)("div",{className:"text-content ".concat(r.mission?"animate-slide-in-left":""),children:[(0,Or.jsx)("h2",{className:"section-heading",children:"Our Mission"}),(0,Or.jsxs)("div",{className:"mission-text",children:[(0,Or.jsx)("p",{className:"highlight-text",children:"At FlickXir, we believe healthcare should be accessible, affordable, and reliable for everyone."}),(0,Or.jsx)("p",{children:"Our mission is to bridge the gap between patients and quality healthcare by providing a seamless digital platform that connects you with genuine medicines, expert advice, and comprehensive health solutions."}),(0,Or.jsx)("p",{children:"We are committed to transforming the healthcare landscape in India by leveraging technology to make healthcare more convenient and trustworthy."})]}),(0,Or.jsxs)("div",{className:"mission-features",children:[(0,Or.jsxs)("div",{className:"feature-item",children:[(0,Or.jsx)("span",{className:"feature-icon",children:"\u26a1"}),(0,Or.jsx)("span",{children:"Instant Access"})]}),(0,Or.jsxs)("div",{className:"feature-item",children:[(0,Or.jsx)("span",{className:"feature-icon",children:"\ud83d\udee1\ufe0f"}),(0,Or.jsx)("span",{children:"100% Genuine"})]}),(0,Or.jsxs)("div",{className:"feature-item",children:[(0,Or.jsx)("span",{className:"feature-icon",children:"\ud83d\ude9a"}),(0,Or.jsx)("span",{children:"Fast Delivery"})]})]})]}),(0,Or.jsx)("div",{className:"image-content ".concat(r.mission?"animate-slide-in-right":""),children:(0,Or.jsxs)("div",{className:"mission-visual",children:[(0,Or.jsx)("div",{className:"floating-icon mission-icon",children:"\ud83c\udfaf"}),(0,Or.jsxs)("div",{className:"orbit-ring",children:[(0,Or.jsx)("div",{className:"orbit-item",children:"\ud83d\udc8a"}),(0,Or.jsx)("div",{className:"orbit-item",children:"\ud83c\udfe5"}),(0,Or.jsx)("div",{className:"orbit-item",children:"\ud83d\udc68\u200d\u2695\ufe0f"}),(0,Or.jsx)("div",{className:"orbit-item",children:"\ud83d\udcf1"})]})]})})]})})}),(0,Or.jsx)("section",{className:"about-section values-section",children:(0,Or.jsxs)("div",{className:"container",children:[(0,Or.jsxs)("h2",{className:"section-title",id:"values","data-animate":!0,children:[(0,Or.jsx)("span",{className:"title-word ".concat(r.values?"animate-bounce-in":""),children:"Our"}),(0,Or.jsx)("span",{className:"title-word ".concat(r.values?"animate-bounce-in":""),style:{animationDelay:"0.2s"},children:"Core"}),(0,Or.jsx)("span",{className:"title-word ".concat(r.values?"animate-bounce-in":""),style:{animationDelay:"0.4s"},children:"Values"})]}),(0,Or.jsxs)("div",{className:"values-grid",children:[(0,Or.jsxs)("div",{className:"value-card ".concat(r.values?"animate-float-up":""),style:{animationDelay:"0.1s"},children:[(0,Or.jsxs)("div",{className:"value-icon-container",children:[(0,Or.jsx)("div",{className:"value-icon",children:"\ud83d\udee1\ufe0f"}),(0,Or.jsx)("div",{className:"icon-glow"})]}),(0,Or.jsx)("h3",{children:"Trust & Safety"}),(0,Or.jsx)("p",{children:"We ensure all medicines are sourced from licensed manufacturers and stored under optimal conditions to maintain their efficacy and safety."}),(0,Or.jsx)("div",{className:"card-shine"})]}),(0,Or.jsxs)("div",{className:"value-card ".concat(r.values?"animate-float-up":""),style:{animationDelay:"0.2s"},children:[(0,Or.jsxs)("div",{className:"value-icon-container",children:[(0,Or.jsx)("div",{className:"value-icon",children:"\u26a1"}),(0,Or.jsx)("div",{className:"icon-glow"})]}),(0,Or.jsx)("h3",{children:"Speed & Convenience"}),(0,Or.jsx)("p",{children:"Fast delivery, easy ordering, and 24/7 customer support to ensure you get the healthcare you need when you need it."}),(0,Or.jsx)("div",{className:"card-shine"})]}),(0,Or.jsxs)("div",{className:"value-card ".concat(r.values?"animate-float-up":""),style:{animationDelay:"0.3s"},children:[(0,Or.jsxs)("div",{className:"value-icon-container",children:[(0,Or.jsx)("div",{className:"value-icon",children:"\ud83d\udcb0"}),(0,Or.jsx)("div",{className:"icon-glow"})]}),(0,Or.jsx)("h3",{children:"Affordability"}),(0,Or.jsx)("p",{children:"Competitive pricing and regular discounts to make quality healthcare accessible to everyone, regardless of their economic background."}),(0,Or.jsx)("div",{className:"card-shine"})]}),(0,Or.jsxs)("div",{className:"value-card ".concat(r.values?"animate-float-up":""),style:{animationDelay:"0.4s"},children:[(0,Or.jsxs)("div",{className:"value-icon-container",children:[(0,Or.jsx)("div",{className:"value-icon",children:"\ud83d\udd2c"}),(0,Or.jsx)("div",{className:"icon-glow"})]}),(0,Or.jsx)("h3",{children:"Quality Assurance"}),(0,Or.jsx)("p",{children:"Rigorous quality checks and partnerships with certified pharmacies to guarantee the authenticity of every product we deliver."}),(0,Or.jsx)("div",{className:"card-shine"})]})]})]})}),(0,Or.jsx)("section",{className:"about-section story-section",children:(0,Or.jsx)("div",{className:"container",children:(0,Or.jsxs)("div",{className:"section-content",children:[(0,Or.jsxs)("div",{className:"text-content",children:[(0,Or.jsx)("h2",{children:"Our Story"}),(0,Or.jsxs)("div",{className:"story-timeline",children:[(0,Or.jsxs)("div",{className:"timeline-item",children:[(0,Or.jsx)("div",{className:"timeline-year",children:"2024"}),(0,Or.jsxs)("div",{className:"timeline-content",children:[(0,Or.jsx)("h3",{children:"The Beginning"}),(0,Or.jsx)("p",{children:"Founded with a vision to make healthcare accessible to everyone. Started with a small team of passionate healthcare professionals and tech experts."})]})]}),(0,Or.jsxs)("div",{className:"timeline-item",children:[(0,Or.jsx)("div",{className:"timeline-year",children:"Q2 2024"}),(0,Or.jsxs)("div",{className:"timeline-content",children:[(0,Or.jsx)("h3",{children:"First Milestone"}),(0,Or.jsx)("p",{children:"Launched our platform with 1,000+ medicines and partnered with 10 licensed pharmacies across major cities."})]})]}),(0,Or.jsxs)("div",{className:"timeline-item",children:[(0,Or.jsx)("div",{className:"timeline-year",children:"Q4 2024"}),(0,Or.jsxs)("div",{className:"timeline-content",children:[(0,Or.jsx)("h3",{children:"Rapid Growth"}),(0,Or.jsx)("p",{children:"Expanded to 50+ cities, served 10,000+ customers, and introduced innovative features like prescription upload and medicine donation."})]})]}),(0,Or.jsxs)("div",{className:"timeline-item",children:[(0,Or.jsx)("div",{className:"timeline-year",children:"Today"}),(0,Or.jsxs)("div",{className:"timeline-content",children:[(0,Or.jsx)("h3",{children:"Leading the Future"}),(0,Or.jsx)("p",{children:"Continuing to innovate with AI-powered health recommendations, telemedicine integration, and sustainable healthcare solutions."})]})]})]})]}),(0,Or.jsx)("div",{className:"image-content",children:(0,Or.jsxs)("div",{className:"story-stats",children:[(0,Or.jsxs)("div",{className:"stat",children:[(0,Or.jsx)("div",{className:"stat-number counter","data-target":"10000",children:"0"}),(0,Or.jsx)("div",{className:"stat-label",children:"Happy Customers"})]}),(0,Or.jsxs)("div",{className:"stat",children:[(0,Or.jsx)("div",{className:"stat-number counter","data-target":"5000",children:"0"}),(0,Or.jsx)("div",{className:"stat-label",children:"Medicines Available"})]}),(0,Or.jsxs)("div",{className:"stat",children:[(0,Or.jsx)("div",{className:"stat-number counter","data-target":"50",children:"0"}),(0,Or.jsx)("div",{className:"stat-label",children:"Cities Served"})]}),(0,Or.jsxs)("div",{className:"stat",children:[(0,Or.jsx)("div",{className:"stat-number counter","data-target":"24",children:"0"}),(0,Or.jsx)("div",{className:"stat-label",children:"Hours Support"})]})]})})]})})}),(0,Or.jsx)("section",{className:"about-section innovation-section",children:(0,Or.jsxs)("div",{className:"container",children:[(0,Or.jsxs)("h2",{className:"section-title",id:"innovation","data-animate":!0,children:[(0,Or.jsx)("span",{className:"title-word ".concat(r.innovation?"animate-bounce-in":""),children:"Innovation"}),(0,Or.jsx)("span",{className:"title-word ".concat(r.innovation?"animate-bounce-in":""),style:{animationDelay:"0.2s"},children:"at"}),(0,Or.jsx)("span",{className:"title-word ".concat(r.innovation?"animate-bounce-in":""),style:{animationDelay:"0.4s"},children:"FlickXir"})]}),(0,Or.jsxs)("div",{className:"innovation-grid",children:[(0,Or.jsxs)("div",{className:"innovation-card ".concat(r.innovation?"animate-float-up":""),style:{animationDelay:"0.1s"},children:[(0,Or.jsx)("div",{className:"innovation-icon",children:"\ud83e\udd16"}),(0,Or.jsx)("h3",{children:"AI-Powered Recommendations"}),(0,Or.jsx)("p",{children:"Smart algorithms analyze your health patterns to suggest personalized medicine alternatives and health tips."}),(0,Or.jsxs)("div",{className:"innovation-features",children:[(0,Or.jsx)("span",{children:"Machine Learning"}),(0,Or.jsx)("span",{children:"Personalization"}),(0,Or.jsx)("span",{children:"Health Analytics"})]})]}),(0,Or.jsxs)("div",{className:"innovation-card ".concat(r.innovation?"animate-float-up":""),style:{animationDelay:"0.2s"},children:[(0,Or.jsx)("div",{className:"innovation-icon",children:"\ud83d\udcf1"}),(0,Or.jsx)("h3",{children:"Mobile-First Experience"}),(0,Or.jsx)("p",{children:"Seamless mobile app with offline capabilities, voice search, and augmented reality for medicine identification."}),(0,Or.jsxs)("div",{className:"innovation-features",children:[(0,Or.jsx)("span",{children:"Voice Search"}),(0,Or.jsx)("span",{children:"AR Integration"}),(0,Or.jsx)("span",{children:"Offline Mode"})]})]}),(0,Or.jsxs)("div",{className:"innovation-card ".concat(r.innovation?"animate-float-up":""),style:{animationDelay:"0.3s"},children:[(0,Or.jsx)("div",{className:"innovation-icon",children:"\ud83c\udf31"}),(0,Or.jsx)("h3",{children:"Sustainable Healthcare"}),(0,Or.jsx)("p",{children:"Eco-friendly packaging, medicine recycling programs, and carbon-neutral delivery options for a greener future."}),(0,Or.jsxs)("div",{className:"innovation-features",children:[(0,Or.jsx)("span",{children:"Eco Packaging"}),(0,Or.jsx)("span",{children:"Carbon Neutral"}),(0,Or.jsx)("span",{children:"Recycling"})]})]}),(0,Or.jsxs)("div",{className:"innovation-card ".concat(r.innovation?"animate-float-up":""),style:{animationDelay:"0.4s"},children:[(0,Or.jsx)("div",{className:"innovation-icon",children:"\ud83d\udd17"}),(0,Or.jsx)("h3",{children:"Blockchain Security"}),(0,Or.jsx)("p",{children:"Immutable medicine tracking from manufacturer to delivery, ensuring authenticity and preventing counterfeit drugs."}),(0,Or.jsxs)("div",{className:"innovation-features",children:[(0,Or.jsx)("span",{children:"Supply Chain"}),(0,Or.jsx)("span",{children:"Authentication"}),(0,Or.jsx)("span",{children:"Transparency"})]})]})]})]})}),(0,Or.jsx)("section",{className:"about-section awards-section",children:(0,Or.jsxs)("div",{className:"container",children:[(0,Or.jsx)("h2",{className:"section-title",children:"Awards & Recognition"}),(0,Or.jsxs)("div",{className:"awards-grid",children:[(0,Or.jsxs)("div",{className:"award-item",children:[(0,Or.jsx)("div",{className:"award-icon",children:"\ud83c\udfc6"}),(0,Or.jsx)("h3",{children:"Best Healthcare Startup 2024"}),(0,Or.jsx)("p",{children:"Recognized by Healthcare Innovation Awards for revolutionizing medicine delivery in India."})]}),(0,Or.jsxs)("div",{className:"award-item",children:[(0,Or.jsx)("div",{className:"award-icon",children:"\u2b50"}),(0,Or.jsx)("h3",{children:"Customer Choice Award"}),(0,Or.jsx)("p",{children:"Voted as the most trusted online pharmacy platform by over 10,000 customers nationwide."})]}),(0,Or.jsxs)("div",{className:"award-item",children:[(0,Or.jsx)("div",{className:"award-icon",children:"\ud83c\udf1f"}),(0,Or.jsx)("h3",{children:"Digital Excellence Award"}),(0,Or.jsx)("p",{children:"Honored for outstanding digital transformation in healthcare delivery and customer experience."})]}),(0,Or.jsxs)("div",{className:"award-item",children:[(0,Or.jsx)("div",{className:"award-icon",children:"\ud83d\udca1"}),(0,Or.jsx)("h3",{children:"Innovation in Healthcare"}),(0,Or.jsx)("p",{children:"Recognized for implementing cutting-edge technology solutions in pharmaceutical services."})]})]})]})}),(0,Or.jsx)("section",{className:"about-section team-section",children:(0,Or.jsxs)("div",{className:"container",children:[(0,Or.jsx)("h2",{className:"section-title",children:"Our Commitment"}),(0,Or.jsxs)("div",{className:"commitment-grid",children:[(0,Or.jsxs)("div",{className:"commitment-item",children:[(0,Or.jsx)("h3",{children:"\ud83c\udfe5 Licensed Pharmacies"}),(0,Or.jsx)("p",{children:"We partner only with government-licensed pharmacies and certified healthcare providers to ensure compliance with all regulatory standards."})]}),(0,Or.jsxs)("div",{className:"commitment-item",children:[(0,Or.jsx)("h3",{children:"\ud83d\ude9a Reliable Delivery"}),(0,Or.jsx)("p",{children:"Our logistics network ensures timely delivery of medicines with proper temperature control and secure packaging to maintain product integrity."})]}),(0,Or.jsxs)("div",{className:"commitment-item",children:[(0,Or.jsx)("h3",{children:"\ud83d\udc68\u200d\u2695\ufe0f Expert Support"}),(0,Or.jsx)("p",{children:"Our team includes qualified pharmacists and healthcare professionals who are available to answer your questions and provide guidance."})]}),(0,Or.jsxs)("div",{className:"commitment-item",children:[(0,Or.jsx)("h3",{children:"\ud83d\udd12 Data Privacy"}),(0,Or.jsx)("p",{children:"We maintain the highest standards of data security and privacy, ensuring your personal and medical information is always protected."})]})]})]})}),(0,Or.jsxs)("section",{className:"about-section cta-section",children:[(0,Or.jsx)("div",{className:"cta-background",children:(0,Or.jsxs)("div",{className:"cta-shapes",children:[(0,Or.jsx)("div",{className:"shape shape-1"}),(0,Or.jsx)("div",{className:"shape shape-2"}),(0,Or.jsx)("div",{className:"shape shape-3"})]})}),(0,Or.jsx)("div",{className:"container",children:(0,Or.jsxs)("div",{className:"cta-content",id:"cta","data-animate":!0,children:[(0,Or.jsxs)("h2",{className:"cta-title ".concat(r.cta?"animate-scale-in":""),children:["Ready to Experience",(0,Or.jsx)("span",{className:"gradient-text",children:" Better Healthcare?"})]}),(0,Or.jsx)("p",{className:"cta-subtitle ".concat(r.cta?"animate-fade-in":""),children:"Join thousands of satisfied customers who trust FlickXir for their healthcare needs"}),(0,Or.jsxs)("div",{className:"cta-buttons ".concat(r.cta?"animate-slide-up":""),children:[(0,Or.jsxs)("a",{href:"/",className:"btn-primary pulse-btn",children:[(0,Or.jsx)("span",{children:"Start Shopping"}),(0,Or.jsx)("div",{className:"btn-ripple"})]}),(0,Or.jsx)("a",{href:"/help-center",className:"btn-secondary glow-btn",children:(0,Or.jsx)("span",{children:"Contact Support"})})]})]})})]})]})]})},hn=()=>{const{user:e,isAuthenticated:s}=Ir(),[r,n]=(0,t.useState)({name:"",email:"",phone:"",address:"",city:"",state:"",pincode:"",date_of_birth:"",gender:"",emergency_contact:"",blood_group:"",allergies:[],medical_conditions:[]}),[a,i]=(0,t.useState)({}),[o,l]=(0,t.useState)(new Set),[c,d]=(0,t.useState)({}),[u,h]=(0,t.useState)(!0),[m,p]=(0,t.useState)(!1),[f,g]=(0,t.useState)(!1),[v,x]=(0,t.useState)(null),[y,j]=(0,t.useState)(!1),b=ee();(0,t.useEffect)(()=>{(async()=>{if(e)try{h(!0);const{data:t,error:s}=await Cr.from("profiles").select("*").eq("id",e.id).single();if(s){if(console.error("Error loading profile:",s),"PGRST116"===s.code)return void await w();throw s}const r={name:t.name||"",email:t.email||e.email||"",phone:t.phone||"",address:t.address||"",city:t.city||"",state:t.state||"",pincode:t.pincode||"",date_of_birth:t.date_of_birth||"",gender:t.gender||"",emergency_contact:t.emergency_contact||"",blood_group:t.blood_group||"",allergies:t.allergies||[],medical_conditions:t.medical_conditions||[]};n(r),i(r),l(new Set)}catch(r){var t,s;console.error("Failed to load profile:",r);const a={name:(null===(t=e.user_metadata)||void 0===t?void 0:t.name)||(null===(s=e.email)||void 0===s?void 0:s.split("@")[0])||"",email:e.email||"",phone:"",address:"",city:"",state:"",pincode:"",date_of_birth:"",gender:"",emergency_contact:"",blood_group:"",allergies:[],medical_conditions:[]};n(a),i(a)}finally{h(!1)}})()},[e]);const w=async()=>{try{var t,s;const r={id:e.id,name:(null===(t=e.user_metadata)||void 0===t?void 0:t.name)||(null===(s=e.email)||void 0===s?void 0:s.split("@")[0])||"",email:e.email,phone:"",address:"",city:"",state:"",pincode:"",date_of_birth:null,gender:null,emergency_contact:"",blood_group:"",allergies:[],medical_conditions:[]},{data:a,error:o}=await Cr.from("profiles").insert([r]).select().single();if(o)throw console.error("Error creating profile:",o),o;n(r),i(r)}catch(r){console.error("Failed to create initial profile:",r)}},N=(e,t)=>{y&&(n(s=>Fr(Fr({},s),{},{[e]:t})),t!==a[e]?l(t=>new Set(t).add(e)):l(t=>{const s=new Set(t);return s.delete(e),s}),c[e]&&d(t=>Fr(Fr({},t),{},{[e]:null})),g(!1),x(null))},k=o.size>0;return s?u?(0,Or.jsxs)("div",{className:"profile-container",children:[(0,Or.jsx)(Gr,{}),(0,Or.jsx)("div",{className:"profile-content",children:(0,Or.jsxs)("div",{className:"profile-header",children:[(0,Or.jsx)("h1",{children:"Profile"}),(0,Or.jsx)("p",{children:"Loading your profile..."})]})})]}):(0,Or.jsxs)("div",{className:"profile-container",children:[(0,Or.jsx)(Gr,{}),(0,Or.jsx)("div",{className:"profile-content",children:(0,Or.jsxs)("div",{className:"profile-grid",children:[(0,Or.jsxs)("div",{className:"profile-card my-profile-card",children:[(0,Or.jsx)("div",{className:"card-header",children:(0,Or.jsx)("h2",{children:"My Profile"})}),(0,Or.jsxs)("div",{className:"my-profile-content",children:[(0,Or.jsx)("div",{className:"profile-avatar",children:(0,Or.jsx)("div",{className:"avatar-placeholder",children:r.name?r.name.charAt(0).toUpperCase():"U"})}),(0,Or.jsxs)("div",{className:"profile-summary",children:[(0,Or.jsx)("h3",{children:r.name||"User"}),(0,Or.jsx)("p",{children:r.email||"No email"}),(0,Or.jsxs)("p",{className:"member-since",children:["Member since ",null!==e&&void 0!==e&&e.created_at?new Date(e.created_at).toLocaleDateString():"Recently"]})]}),(0,Or.jsxs)("div",{className:"quick-actions-integrated",children:[(0,Or.jsx)("button",{className:"action-btn",onClick:()=>b("/my-orders"),children:"\ud83d\udccb View Orders"}),(0,Or.jsx)("button",{className:"action-btn",onClick:()=>alert("Wishlist feature coming soon!"),children:"\u2764\ufe0f Wishlist"}),(0,Or.jsx)("button",{className:"action-btn",onClick:()=>b("/cart"),children:"\ud83d\uded2 Cart"}),(0,Or.jsx)("button",{className:"action-btn",onClick:()=>alert("Support feature coming soon!"),children:"\ud83d\udcde Support"})]})]})]}),(0,Or.jsxs)("div",{className:"profile-card profile-info-card",children:[(0,Or.jsxs)("div",{className:"info-section",children:[(0,Or.jsxs)("div",{className:"section-header",children:[(0,Or.jsx)("h3",{children:"Personal Information"}),(0,Or.jsx)("button",{onClick:()=>{y&&(n(a),l(new Set),d({}),x(null)),j(!y)},className:"edit-toggle-btn ".concat(y?"editing":""),children:y?(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Or.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,Or.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"Cancel"]}):(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Or.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,Or.jsx)("path",{d:"m18.5 2.5 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Edit"]})})]}),(0,Or.jsxs)("div",{className:"section-content",children:[(0,Or.jsxs)("div",{className:"form-row",children:[(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"name",children:"Full Name *"}),(0,Or.jsx)("input",{type:"text",id:"name",name:"name",value:r.name||"",placeholder:"Enter your full name",onChange:e=>N("name",e.target.value),disabled:!y,className:"profile-field ".concat(y?"editable-field":"readonly-field"," ").concat(c.name?"error":"")}),c.name&&(0,Or.jsx)("div",{className:"validation-feedback error",children:(0,Or.jsxs)("span",{className:"error-message",children:["\u274c ",c.name]})})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"email",children:"Email *"}),(0,Or.jsx)("input",{type:"email",id:"email",name:"email",value:r.email||"",placeholder:"Enter your email address",disabled:!0,className:"profile-field readonly-field"}),(0,Or.jsx)("small",{className:"field-note",children:"Email cannot be changed for security reasons"})]})]}),(0,Or.jsxs)("div",{className:"form-row",children:[(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),(0,Or.jsx)("input",{type:"tel",id:"phone",name:"phone",value:r.phone||"",placeholder:"Enter your phone number",onChange:e=>N("phone",e.target.value),disabled:!y,className:"profile-field ".concat(y?"editable-field":"readonly-field"," ").concat(c.phone?"error":"")}),c.phone&&(0,Or.jsx)("div",{className:"validation-feedback error",children:(0,Or.jsxs)("span",{className:"error-message",children:["\u274c ",c.phone]})})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"gender",children:"Gender"}),(0,Or.jsxs)("select",{id:"gender",name:"gender",value:r.gender||"",onChange:e=>N("gender",e.target.value),disabled:!y,className:"profile-field ".concat(y?"editable-field":"readonly-field"),children:[(0,Or.jsx)("option",{value:"",children:"Select gender"}),(0,Or.jsx)("option",{value:"male",children:"Male"}),(0,Or.jsx)("option",{value:"female",children:"Female"}),(0,Or.jsx)("option",{value:"other",children:"Other"})]})]})]}),(0,Or.jsxs)("div",{className:"form-row",children:[(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"date_of_birth",children:"Date of Birth"}),(0,Or.jsx)("input",{type:"date",id:"date_of_birth",name:"date_of_birth",value:r.date_of_birth||"",onChange:e=>N("date_of_birth",e.target.value),disabled:!y,className:"profile-field ".concat(y?"editable-field":"readonly-field"," ").concat(c.date_of_birth?"error":"")}),c.date_of_birth&&(0,Or.jsx)("div",{className:"validation-feedback error",children:(0,Or.jsxs)("span",{className:"error-message",children:["\u274c ",c.date_of_birth]})})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"blood_group",children:"Blood Group"}),(0,Or.jsxs)("select",{id:"blood_group",name:"blood_group",value:r.blood_group||"",onChange:e=>N("blood_group",e.target.value),disabled:!y,className:"profile-field ".concat(y?"editable-field":"readonly-field"),children:[(0,Or.jsx)("option",{value:"",children:"Select blood group"}),(0,Or.jsx)("option",{value:"A+",children:"A+"}),(0,Or.jsx)("option",{value:"A-",children:"A-"}),(0,Or.jsx)("option",{value:"B+",children:"B+"}),(0,Or.jsx)("option",{value:"B-",children:"B-"}),(0,Or.jsx)("option",{value:"AB+",children:"AB+"}),(0,Or.jsx)("option",{value:"AB-",children:"AB-"}),(0,Or.jsx)("option",{value:"O+",children:"O+"}),(0,Or.jsx)("option",{value:"O-",children:"O-"})]})]})]})]})]}),y&&(0,Or.jsxs)("div",{className:"save-section",children:[f&&(0,Or.jsx)("div",{className:"save-message success",children:"\u2705 Profile updated successfully!"}),v&&(0,Or.jsxs)("div",{className:"save-message error",children:["\u274c ",v]}),(0,Or.jsxs)("div",{className:"save-actions",children:[k&&(0,Or.jsxs)("div",{className:"changes-indicator",children:["\ud83d\udcdd You have ",o.size," unsaved change",1!==o.size?"s":""]}),(0,Or.jsx)("button",{onClick:async()=>{if((()=>{var e;const t={};null!==(e=r.name)&&void 0!==e&&e.trim()?r.name.trim().length<2&&(t.name="Full name must be at least 2 characters"):t.name="Full name is required",r.phone&&!/^[\+]?[1-9][\d]{0,15}$/.test(r.phone.replace(/\s/g,""))&&(t.phone="Please enter a valid phone number"),r.pincode&&!/^\d{6}$/.test(r.pincode)&&(t.pincode="Pincode must be 6 digits"),r.date_of_birth&&new Date(r.date_of_birth)>new Date&&(t.date_of_birth="Date of birth cannot be in the future");return d(t),0===Object.keys(t).length})()){p(!0),x(null);try{if(k){const t={};o.forEach(e=>{t[e]=r[e]});const{data:s,error:n}=await Cr.from("profiles").update(t).eq("id",e.id).select().single();if(n)throw console.error("Error updating profile:",n),new Error(n.message||"Failed to update profile");i(Fr({},r)),l(new Set),g(!0),setTimeout(()=>g(!1),3e3),j(!1)}else g(!0),setTimeout(()=>g(!1),3e3)}catch(t){console.error("Error saving profile:",t),x(t.message||"Failed to save changes. Please try again.")}finally{p(!1)}}},disabled:m,className:"save-button ".concat(k?"has-changes":"no-changes"),children:m?(0,Or.jsx)(Or.Fragment,{children:"\ud83d\udd04 Saving..."}):k?(0,Or.jsx)(Or.Fragment,{children:"\ud83d\udcbe Save Changes"}):(0,Or.jsx)(Or.Fragment,{children:"\u2705 All Saved"})})]})]})]})]})})]}):(0,Or.jsxs)("div",{className:"profile-container",children:[(0,Or.jsx)(Gr,{}),(0,Or.jsx)("div",{className:"profile-content",children:(0,Or.jsxs)("div",{className:"profile-header",children:[(0,Or.jsx)("h1",{children:"Profile"}),(0,Or.jsx)("p",{children:"Please sign in to view your profile."})]})})]})};const mn=class{static async getMyProfile(){try{const{data:{user:e}}=await Cr.auth.getUser();if(!e)throw new Error("User not authenticated");const{data:t,error:s}=await Cr.from("profiles").select("*").eq("id",e.id).single();if(s&&"PGRST116"!==s.code)throw new Error("Failed to fetch profile: ".concat(s.message));return{success:!0,data:t||null,message:"Profile data retrieved successfully"}}catch(e){return console.error("SecureProfileService.getMyProfile error:",e),{success:!1,data:null,error:e.message}}}static async requestProfileUpdate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{const{data:{user:s}}=await Cr.auth.getUser();if(!s)throw new Error("User not authenticated");const r=this._validateProfileData(e),n={user_id:s.id,requested_changes:r,reason:t,status:"pending",requested_at:(new Date).toISOString(),request_type:"profile_update"},{data:a,error:i}=await Cr.from("profile_change_requests").insert(n).select().single();if(i)throw new Error("Failed to create change request: ".concat(i.message));return{success:!0,data:a,message:"Profile update request submitted successfully. It will be reviewed for compliance."}}catch(s){return console.error("SecureProfileService.requestProfileUpdate error:",s),{success:!1,data:null,error:s.message}}}static async requestProfileDeletion(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{const{data:{user:t}}=await Cr.auth.getUser();if(!t)throw new Error("User not authenticated");const s={user_id:t.id,reason:e,status:"pending",requested_at:(new Date).toISOString(),request_type:"profile_deletion"},{data:r,error:n}=await Cr.from("profile_change_requests").insert(s).select().single();if(n)throw new Error("Failed to create deletion request: ".concat(n.message));return{success:!0,data:r,message:"Profile deletion request submitted successfully. This will be processed according to GDPR requirements."}}catch(t){return console.error("SecureProfileService.requestProfileDeletion error:",t),{success:!1,data:null,error:t.message}}}static async getMyChangeRequests(){try{const{data:{user:e}}=await Cr.auth.getUser();if(!e)throw new Error("User not authenticated");const{data:t,error:s}=await Cr.from("profile_change_requests").select("*").eq("user_id",e.id).order("requested_at",{ascending:!1});if(s)throw new Error("Failed to fetch change requests: ".concat(s.message));return{success:!0,data:t||[],message:"Change requests retrieved successfully"}}catch(e){return console.error("SecureProfileService.getMyChangeRequests error:",e),{success:!1,data:[],error:e.message}}}static _validateProfileData(e){const t={};if(e.email){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email))throw new Error("Invalid email format");t.email=e.email.toLowerCase().trim()}if(e.phone){if(!/^[6-9][0-9]{9}$/.test(e.phone))throw new Error("Invalid phone number format. Must be 10 digits starting with 6-9");t.phone=e.phone.trim()}if(e.first_name&&(t.first_name=e.first_name.trim()),e.last_name&&(t.last_name=e.last_name.trim()),e.gender){if(!["male","female","other"].includes(e.gender.toLowerCase()))throw new Error("Invalid gender value");t.gender=e.gender.toLowerCase()}if(e.pincode){if(!/^[1-9][0-9]{5}$/.test(e.pincode))throw new Error("Invalid pincode format. Must be 6 digits");t.pincode=e.pincode.trim()}return["address","city","state"].forEach(s=>{e[s]&&(t[s]=e[s].trim())}),t}static async hasPendingRequests(){try{const{data:{user:e}}=await Cr.auth.getUser();if(!e)return{success:!1,hasPending:!1};const{data:t,error:s}=await Cr.from("profile_change_requests").select("id").eq("user_id",e.id).eq("status","pending").limit(1);if(s)throw new Error("Failed to check pending requests: ".concat(s.message));return{success:!0,hasPending:t&&t.length>0}}catch(e){return console.error("SecureProfileService.hasPendingRequests error:",e),{success:!1,hasPending:!1,error:e.message}}}},pn=["reason"],fn=()=>{const{user:e}=Ir(),[s,r]=(0,t.useState)("request"),[n,a]=(0,t.useState)(!1),[i,o]=(0,t.useState)({type:"",text:""}),[l,c]=(0,t.useState)([]),[d,u]=(0,t.useState)(!1),[h,m]=(0,t.useState)({first_name:"",last_name:"",phone:"",address:"",city:"",state:"",pincode:"",gender:"",reason:""});(0,t.useEffect)(()=>{p(),f()},[]);const p=async()=>{const e=await mn.getMyChangeRequests();e.success&&c(e.data)},f=async()=>{const e=await mn.hasPendingRequests();e.success&&u(e.hasPending)},g=e=>{const{name:t,value:s}=e.target;m(e=>Fr(Fr({},e),{},{[t]:s}))};return(0,Or.jsxs)("div",{className:"profile-change-request",children:[(0,Or.jsxs)("div",{className:"request-header",children:[(0,Or.jsx)("h2",{children:"Profile Change Management"}),(0,Or.jsx)("p",{children:"Request changes to your profile data through our secure, compliant process"})]}),i.text&&(0,Or.jsx)("div",{className:"message ".concat(i.type),children:i.text}),(0,Or.jsxs)("div",{className:"request-tabs",children:[(0,Or.jsx)("button",{className:"tab-button ".concat("request"===s?"active":""),onClick:()=>r("request"),children:"Request Changes"}),(0,Or.jsx)("button",{className:"tab-button ".concat("history"===s?"active":""),onClick:()=>r("history"),children:"Request History"})]}),"request"===s&&(0,Or.jsxs)("div",{className:"request-form-container",children:[d&&(0,Or.jsxs)("div",{className:"pending-notice",children:[(0,Or.jsx)("span",{className:"notice-icon",children:"\u23f3"}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("strong",{children:"Pending Request"}),(0,Or.jsx)("p",{children:"You have a pending profile change request. Please wait for it to be processed before submitting a new one."})]})]}),(0,Or.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),a(!0),o({type:"",text:""});try{const{reason:e}=h,t=function(e,t){if(null==e)return{};var s,r,n=function(e,t){if(null==e)return{};var s={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;s[r]=e[r]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)s=a[r],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}(h,pn),s=Object.fromEntries(Object.entries(t).filter(e=>{let[t,s]=e;return""!==s.trim()}));if(0===Object.keys(s).length)throw new Error("Please provide at least one field to update");const r=await mn.requestProfileUpdate(s,e);if(!r.success)throw new Error(r.error);o({type:"success",text:r.message}),m({first_name:"",last_name:"",phone:"",address:"",city:"",state:"",pincode:"",gender:"",reason:""}),p(),f()}catch(t){o({type:"error",text:t.message})}finally{a(!1)}},className:"request-form",children:[(0,Or.jsxs)("div",{className:"form-section",children:[(0,Or.jsx)("h3",{children:"Personal Information"}),(0,Or.jsxs)("div",{className:"form-row",children:[(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"first_name",children:"First Name"}),(0,Or.jsx)("input",{type:"text",id:"first_name",name:"first_name",value:h.first_name,onChange:g,placeholder:"Enter new first name",disabled:d})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"last_name",children:"Last Name"}),(0,Or.jsx)("input",{type:"text",id:"last_name",name:"last_name",value:h.last_name,onChange:g,placeholder:"Enter new last name",disabled:d})]})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),(0,Or.jsx)("input",{type:"tel",id:"phone",name:"phone",value:h.phone,onChange:g,placeholder:"Enter new phone number (10 digits)",disabled:d})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{children:"Gender"}),(0,Or.jsxs)("div",{className:"radio-group",children:[(0,Or.jsxs)("label",{className:"radio-option",children:[(0,Or.jsx)("input",{type:"radio",name:"gender",value:"male",checked:"male"===h.gender,onChange:g,disabled:d}),(0,Or.jsx)("span",{className:"radio-label",children:"Male"})]}),(0,Or.jsxs)("label",{className:"radio-option",children:[(0,Or.jsx)("input",{type:"radio",name:"gender",value:"female",checked:"female"===h.gender,onChange:g,disabled:d}),(0,Or.jsx)("span",{className:"radio-label",children:"Female"})]}),(0,Or.jsxs)("label",{className:"radio-option",children:[(0,Or.jsx)("input",{type:"radio",name:"gender",value:"other",checked:"other"===h.gender,onChange:g,disabled:d}),(0,Or.jsx)("span",{className:"radio-label",children:"Other"})]})]})]})]}),(0,Or.jsxs)("div",{className:"form-section",children:[(0,Or.jsx)("h3",{children:"Address Information"}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"address",children:"Address"}),(0,Or.jsx)("textarea",{id:"address",name:"address",value:h.address,onChange:g,placeholder:"Enter new address",rows:"3",disabled:d})]}),(0,Or.jsxs)("div",{className:"form-row",children:[(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"city",children:"City"}),(0,Or.jsx)("input",{type:"text",id:"city",name:"city",value:h.city,onChange:g,placeholder:"Enter new city",disabled:d})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"state",children:"State"}),(0,Or.jsx)("input",{type:"text",id:"state",name:"state",value:h.state,onChange:g,placeholder:"Enter new state",disabled:d})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"pincode",children:"Pincode"}),(0,Or.jsx)("input",{type:"text",id:"pincode",name:"pincode",value:h.pincode,onChange:g,placeholder:"Enter new pincode",disabled:d})]})]})]}),(0,Or.jsxs)("div",{className:"form-section",children:[(0,Or.jsx)("h3",{children:"Request Details"}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"reason",children:"Reason for Change"}),(0,Or.jsx)("textarea",{id:"reason",name:"reason",value:h.reason,onChange:g,placeholder:"Please explain why you need to update your profile information",rows:"3",required:!0,disabled:d})]})]}),(0,Or.jsxs)("div",{className:"form-actions",children:[(0,Or.jsx)("button",{type:"submit",className:"submit-btn",disabled:n||d,children:n?"Submitting Request...":"Submit Change Request"}),(0,Or.jsx)("button",{type:"button",className:"delete-btn",onClick:async()=>{if(window.confirm("Are you sure you want to request profile deletion? This action cannot be undone.")){a(!0),o({type:"",text:""});try{const e=prompt("Please provide a reason for profile deletion:");if(!e)return void a(!1);const t=await mn.requestProfileDeletion(e);if(!t.success)throw new Error(t.error);o({type:"success",text:t.message}),p(),f()}catch(e){o({type:"error",text:e.message})}finally{a(!1)}}},disabled:n||d,children:"Request Profile Deletion"})]})]})]}),"history"===s&&(0,Or.jsxs)("div",{className:"request-history",children:[(0,Or.jsx)("h3",{children:"Your Change Requests"}),0===l.length?(0,Or.jsx)("div",{className:"no-requests",children:(0,Or.jsx)("p",{children:"You haven't submitted any profile change requests yet."})}):(0,Or.jsx)("div",{className:"requests-list",children:l.map(e=>{return(0,Or.jsxs)("div",{className:"request-item",children:[(0,Or.jsxs)("div",{className:"request-header",children:[(0,Or.jsx)("div",{className:"request-type",children:"profile_update"===e.request_type?"\ud83d\udcdd Profile Update":"\ud83d\uddd1\ufe0f Profile Deletion"}),(t=e.status,(0,Or.jsx)("span",{className:{pending:"status-badge status-pending",approved:"status-badge status-approved",rejected:"status-badge status-rejected",completed:"status-badge status-completed"}[t]||"status-badge",children:t.charAt(0).toUpperCase()+t.slice(1)}))]}),(0,Or.jsxs)("div",{className:"request-details",children:[(0,Or.jsxs)("p",{children:[(0,Or.jsx)("strong",{children:"Requested:"})," ",new Date(e.requested_at).toLocaleDateString()]}),e.reason&&(0,Or.jsxs)("p",{children:[(0,Or.jsx)("strong",{children:"Reason:"})," ",e.reason]}),e.requested_changes&&(0,Or.jsxs)("div",{className:"requested-changes",children:[(0,Or.jsx)("strong",{children:"Requested Changes:"}),(0,Or.jsx)("ul",{children:Object.entries(e.requested_changes).map(e=>{let[t,s]=e;return(0,Or.jsxs)("li",{children:[(0,Or.jsxs)("strong",{children:[t.replace("_"," "),":"]})," ",s]},t)})})]}),e.reviewer_notes&&(0,Or.jsxs)("p",{children:[(0,Or.jsx)("strong",{children:"Review Notes:"})," ",e.reviewer_notes]})]})]},e.id);var t})})]})]})},gn=()=>{var e,s,r,n,a,i,o,l,c;const d=ee(),{isAuthenticated:u,loading:h,user:m}=Ir(),p=!(null===m||void 0===m||!m.email)&&m.email.toLowerCase()==="bhalackdhebil@gmail.com".toLowerCase(),[f,g]=(0,t.useState)(""),[v,x]=(0,t.useState)(""),[y,j]=(0,t.useState)(""),[b,w]=(0,t.useState)(""),[N,k]=(0,t.useState)(null),[_,S]=(0,t.useState)(!1),[C,E]=(0,t.useState)(""),[P,T]=(0,t.useState)([]),[O,R]=(0,t.useState)(!1),[I,A]=(0,t.useState)([]),[q,D]=(0,t.useState)(!1),[M,L]=(0,t.useState)(""),[F,U]=(0,t.useState)(""),[z,B]=(0,t.useState)(!1),[W,H]=(0,t.useState)(""),[V,G]=(0,t.useState)({totalProducts:0,totalCategories:0,totalOrders:0,pendingOrders:0,completedOrders:0}),[Y,K]=(0,t.useState)([]),[Q,$]=(0,t.useState)(null),[J,X]=(0,t.useState)(!1),[Z,te]=(0,t.useState)(""),[se,re]=(0,t.useState)(!1),[ne,ae]=(0,t.useState)(!1),[ie,oe]=(0,t.useState)(null),[le,ce]=(0,t.useState)([]),[de,ue]=(0,t.useState)(!1),[he,me]=(0,t.useState)(null),[pe,fe]=(0,t.useState)(!1),[ge,ve]=(0,t.useState)(""),[xe,ye]=(0,t.useState)(!1),[je,be]=(0,t.useState)({show:!1,message:"",type:"success"}),[we,Ne]=(0,t.useState)(!1);(0,t.useEffect)(()=>{window.scrollTo(0,0)},[]),(0,t.useEffect)(()=>{Se(),_e(),Ce(),Ee()},[]),(0,t.useEffect)(()=>{ke()},[P,I,Y]);const ke=()=>{G({totalProducts:P.length,totalCategories:I.length,totalOrders:Y.length,pendingOrders:Y.filter(e=>"pending"===e.status).length,completedOrders:Y.filter(e=>"delivered"===e.status).length})},_e=async()=>{try{const{data:e,error:t}=await Cr.from("categories").select("*").order("name");if(t)throw t;A(e||[])}catch(e){console.error("Error loading categories:",e)}},Se=async()=>{try{const{data:e,error:t}=await Cr.from("products").select("\n          *,\n          categories(name)\n        ").order("created_at",{ascending:!1});if(t)throw t;T(e||[])}catch(e){console.error("Error loading products:",e)}},Ce=async()=>{try{try{const{data:e,error:t}=await Cr.from("information_schema.tables").select("table_name").eq("table_schema","public")}catch(e){}ae(!0),oe(null);const{data:t,error:s}=await Cr.from("orders").select("id").limit(1);if(s)throw console.error("\u274c Test query failed - permission issue:",s),new Error("Database access denied: ".concat(s.message));const{count:r,error:n}=await Cr.from("orders").select("*",{count:"exact",head:!0}),{data:a,error:i}=await Cr.from("orders").select("*").limit(1),{data:o,error:l}=await Cr.from("orders").select("*").order("created_at",{ascending:!1});if(l)throw console.error("\u274c Supabase error:",l),l;K(o||[])}catch(t){console.error("\u274c Error in loadOrders:",t),oe("Failed to load orders. Please try again.")}finally{ae(!1)}},Ee=async()=>{try{ue(!0),me(null);const{data:e,error:t}=await Cr.from("admin_donations_view").select("*").order("created_at",{ascending:!1});if(t){const{data:e,error:t}=await Cr.from("donations").select("*").order("created_at",{ascending:!1});if(t)throw t;ce(e||[])}else ce(e||[])}catch(e){console.error("Error loading donations:",e),me("Failed to load donations. Please try again.")}finally{ue(!1)}};(0,t.useEffect)(()=>{h||u&&p||d("/")},[h,u,p,d]);const Pe=function(e){be({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>be({show:!1,message:"",type:"success"}),3e3)},Te=e=>{$(e),te(e.status),X(!0)},Oe=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e),Re=e=>({pending:"orange",confirmed:"blue",processing:"purple",shipped:"indigo",delivered:"green",cancelled:"red",refunded:"gray"}[e]||"gray"),Ie=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{const{error:r}=await Cr.from("donations").update({status:t,admin_notes:s,updated_at:(new Date).toISOString()}).eq("id",e);if(r)throw r;await Ee(),Pe("Donation status updated to ".concat(t),"success")}catch(r){console.error("Error updating status:",r),Pe("Failed to update status: ".concat(r.message),"error")}},Ae=e=>{switch(e){case"pending":return"\u23f3";case"approved":return"\u2705";case"rejected":return"\u274c";case"collected":return"\ud83d\udce6";case"completed":return"\ud83c\udf89";default:return"\u2753"}},qe=e=>{switch(e){case"pending":return"orange";case"approved":return"blue";case"rejected":return"red";case"collected":return"purple";case"completed":return"green";default:return"gray"}},De=P.filter(e=>e.name.toLowerCase().includes(ge.toLowerCase())||e.description.toLowerCase().includes(ge.toLowerCase()));if(h)return(0,Or.jsx)("div",{className:"admin-page",children:(0,Or.jsx)("main",{className:"admin-main",children:(0,Or.jsx)("div",{className:"admin-container",children:(0,Or.jsx)("div",{className:"admin-card",children:(0,Or.jsxs)("div",{className:"loading-state",children:[(0,Or.jsx)("div",{className:"loading-spinner-large"}),(0,Or.jsx)("h3",{children:"Loading Dashboard..."}),(0,Or.jsx)("p",{children:"Please wait while we load your admin dashboard."}),(0,Or.jsx)("div",{style:{marginTop:"1rem",fontSize:"0.875rem",color:"#6b7280"},children:"Checking authentication status..."})]})})})})});return u?u&&(p||!1)||we?(0,Or.jsxs)("div",{className:"admin-page ".concat(xe?"dark-mode":""),children:[(0,Or.jsx)("main",{className:"admin-main",children:(0,Or.jsxs)("div",{className:"admin-container",children:[(0,Or.jsx)("div",{className:"dashboard-header",children:(0,Or.jsxs)("div",{className:"header-content",children:[(0,Or.jsxs)("div",{className:"header-text",children:[(0,Or.jsx)("h1",{className:"dashboard-title",children:"Product Management Dashboard"}),(0,Or.jsx)("p",{className:"dashboard-subtitle",children:"Add and manage products in your store"})]}),(0,Or.jsxs)("div",{className:"header-actions",children:[(0,Or.jsx)("button",{className:"dark-mode-toggle",onClick:()=>ye(!xe),title:xe?"Switch to Light Mode":"Switch to Dark Mode",children:xe?"\u2600\ufe0f":"\ud83c\udf19"}),(0,Or.jsxs)("button",{className:"btn-primary orders-button",onClick:()=>d("/orders"),children:[(0,Or.jsx)("span",{className:"btn-icon",children:"\ud83d\udccb"}),"View All Orders"]}),(0,Or.jsxs)("button",{className:"btn-secondary",onClick:()=>d("/"),children:[(0,Or.jsx)("span",{className:"btn-icon",children:"\ud83d\udc41\ufe0f"}),"View Site"]})]})]})}),(0,Or.jsxs)("div",{className:"stats-overview",children:[(0,Or.jsxs)("div",{className:"stat-card",children:[(0,Or.jsx)("div",{className:"stat-icon",children:"\ud83d\udce6"}),(0,Or.jsxs)("div",{className:"stat-content",children:[(0,Or.jsx)("div",{className:"stat-number",children:V.totalProducts}),(0,Or.jsx)("div",{className:"stat-label",children:"Total Products"})]})]}),(0,Or.jsxs)("div",{className:"stat-card",children:[(0,Or.jsx)("div",{className:"stat-icon",children:"\ud83c\udff7\ufe0f"}),(0,Or.jsxs)("div",{className:"stat-content",children:[(0,Or.jsx)("div",{className:"stat-number",children:V.totalCategories}),(0,Or.jsx)("div",{className:"stat-label",children:"Total Categories"})]})]}),(0,Or.jsxs)("div",{className:"stat-card",children:[(0,Or.jsx)("div",{className:"stat-icon",children:"\ud83d\udccb"}),(0,Or.jsxs)("div",{className:"stat-content",children:[(0,Or.jsx)("div",{className:"stat-number",children:V.totalOrders}),(0,Or.jsx)("div",{className:"stat-label",children:"Total Orders"})]})]}),(0,Or.jsxs)("div",{className:"stat-card",children:[(0,Or.jsx)("div",{className:"stat-icon",children:"\u23f3"}),(0,Or.jsxs)("div",{className:"stat-content",children:[(0,Or.jsx)("div",{className:"stat-number",children:V.pendingOrders}),(0,Or.jsx)("div",{className:"stat-label",children:"Pending Orders"})]})]}),(0,Or.jsxs)("div",{className:"stat-card",children:[(0,Or.jsx)("div",{className:"stat-icon",children:"\u2705"}),(0,Or.jsxs)("div",{className:"stat-content",children:[(0,Or.jsx)("div",{className:"stat-number",children:V.completedOrders}),(0,Or.jsx)("div",{className:"stat-label",children:"Completed Orders"})]})]}),(0,Or.jsxs)("div",{className:"stat-card",children:[(0,Or.jsx)("div",{className:"stat-icon",children:"\ud83d\udccb"}),(0,Or.jsxs)("div",{className:"stat-content",children:[(0,Or.jsx)("div",{className:"stat-number",children:le.length}),(0,Or.jsx)("div",{className:"stat-label",children:"Total Donations"})]})]}),(0,Or.jsxs)("div",{className:"stat-card",children:[(0,Or.jsx)("div",{className:"stat-icon",children:"\u23f3"}),(0,Or.jsxs)("div",{className:"stat-content",children:[(0,Or.jsx)("div",{className:"stat-number",children:le.filter(e=>"pending"===e.status).length}),(0,Or.jsx)("div",{className:"stat-label",children:"Pending Donations"})]})]})]}),(0,Or.jsx)("div",{className:"search-section",children:(0,Or.jsxs)("div",{className:"search-container",children:[(0,Or.jsx)("div",{className:"search-icon",children:"\ud83d\udd0d"}),(0,Or.jsx)("input",{type:"text",placeholder:"Search products...",value:ge,onChange:e=>ve(e.target.value),className:"search-input"})]})}),(0,Or.jsxs)("div",{className:"content-section",children:[(0,Or.jsxs)("div",{className:"section-header",children:[(0,Or.jsx)("h2",{className:"section-title",children:"Product Management"}),(0,Or.jsx)("p",{className:"section-subtitle",children:"Add and manage products in your store"})]}),O&&(0,Or.jsx)("div",{className:"admin-card",children:(0,Or.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),E(""),S(!0);try{let e=null;N&&(e="https://images.unsplash.com/photo-1584308666744-24d5b474b2f0?w=400&h=300&fit=crop&crop=center");const t=I.find(e=>e.name===b),s=t?t.id:null,r={name:f,description:v,price:parseFloat(y),category_id:s,image_url:e||"https://images.unsplash.com/photo-1584308666744-24d5b474b2f0?w=400&h=300&fit=crop&crop=center",in_stock:!0,is_active:!0},{error:n}=await Cr.from("products").insert([r]);if(n)throw n;E("\u2705 Product added successfully!"),g(""),x(""),j(""),w(""),k(null),R(!1),Pe("Product added successfully!","success"),Se()}catch(t){E("\u274c Error: ".concat(t.message)),Pe("Error: ".concat(t.message),"error")}finally{S(!1)}},className:"admin-form",children:[(0,Or.jsxs)("div",{className:"form-card",children:[(0,Or.jsxs)("div",{className:"form-card-header",children:[(0,Or.jsx)("div",{className:"card-icon",children:"\ud83d\udce6"}),(0,Or.jsx)("h3",{children:"Product Information"})]}),(0,Or.jsx)("div",{className:"form-card-content",children:(0,Or.jsxs)("div",{className:"form-row",children:[(0,Or.jsxs)("div",{className:"form-field",children:[(0,Or.jsx)("label",{className:"form-label",children:"Product Name"}),(0,Or.jsx)("input",{className:"form-input",value:f,onChange:e=>g(e.target.value),required:!0,placeholder:"e.g., Paracetamol 500mg"})]}),(0,Or.jsxs)("div",{className:"form-field",children:[(0,Or.jsx)("label",{className:"form-label",children:"Description"}),(0,Or.jsx)("textarea",{className:"form-textarea",value:v,onChange:e=>x(e.target.value),rows:4,placeholder:"Detailed description of the product..."})]})]})})]}),(0,Or.jsxs)("div",{className:"form-card",children:[(0,Or.jsxs)("div",{className:"form-card-header",children:[(0,Or.jsx)("div",{className:"card-icon",children:"\ud83d\udcb0"}),(0,Or.jsx)("h3",{children:"Pricing & Category"})]}),(0,Or.jsx)("div",{className:"form-card-content",children:(0,Or.jsxs)("div",{className:"form-row two-col",children:[(0,Or.jsxs)("div",{className:"form-field",children:[(0,Or.jsx)("label",{className:"form-label",children:"Price (\u20b9)"}),(0,Or.jsx)("input",{className:"form-input",type:"number",min:"0",step:"0.01",value:y,onChange:e=>j(e.target.value),required:!0,placeholder:"e.g., 25.00"})]}),(0,Or.jsxs)("div",{className:"form-field",children:[(0,Or.jsx)("label",{className:"form-label",children:"Category"}),(0,Or.jsxs)("select",{className:"form-input",value:b,onChange:e=>w(e.target.value),required:!0,children:[(0,Or.jsx)("option",{value:"",children:"Select a category"}),I.map(e=>(0,Or.jsx)("option",{value:e.name,children:e.name},e.id))]})]})]})})]}),(0,Or.jsxs)("div",{className:"form-card",children:[(0,Or.jsxs)("div",{className:"form-card-header",children:[(0,Or.jsx)("div",{className:"card-icon",children:"\ud83d\uddbc\ufe0f"}),(0,Or.jsx)("h3",{children:"Product Image"})]}),(0,Or.jsx)("div",{className:"form-card-content",children:(0,Or.jsxs)("div",{className:"form-field",children:[(0,Or.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];t&&k(t)},className:"file-input-simple"}),(0,Or.jsx)("div",{className:"helper-text",children:"Upload a clear image of the product (optional)"})]})})]}),(0,Or.jsxs)("div",{className:"form-actions",children:[(0,Or.jsxs)("button",{className:"btn-secondary",type:"button",onClick:()=>R(!1),children:[(0,Or.jsx)("span",{className:"btn-icon",children:"\u274c"}),"Cancel"]}),(0,Or.jsx)("button",{className:"btn-primary",type:"submit",disabled:_,children:_?(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsx)("span",{className:"loading-spinner"}),"Adding..."]}):(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsx)("span",{className:"btn-icon",children:"\u2705"}),"Add Product"]})})]}),C&&(0,Or.jsx)("div",{className:"status-message ".concat(C.startsWith("\u2705")?"success":"error"),children:C})]})}),(0,Or.jsxs)("div",{className:"products-section",children:[(0,Or.jsxs)("div",{className:"products-header",children:[(0,Or.jsxs)("div",{className:"products-title",children:[(0,Or.jsx)("h3",{children:"Current Products"}),(0,Or.jsxs)("span",{className:"products-count",children:["(",De.length,")"]})]}),(0,Or.jsxs)("button",{className:"btn-primary floating-action",onClick:()=>R(!O),children:[(0,Or.jsx)("span",{className:"btn-icon",children:"+"}),O?"Cancel":"Add New Product"]})]}),0===De.length?(0,Or.jsxs)("div",{className:"empty-state",children:[(0,Or.jsx)("div",{className:"empty-icon",children:"\ud83d\udce6"}),(0,Or.jsx)("h4",{children:"No products found"}),(0,Or.jsx)("p",{children:ge?"Try adjusting your search terms":"Add your first product to get started!"}),!ge&&(0,Or.jsxs)("button",{className:"btn-primary",onClick:()=>R(!0),children:[(0,Or.jsx)("span",{className:"btn-icon",children:"+"}),"Add First Product"]})]}):(0,Or.jsx)("div",{className:"products-grid",children:De.map(e=>{var t;return(0,Or.jsxs)("div",{className:"product-card",onClick:()=>d("/product/".concat(e.id)),style:{cursor:"pointer"},children:[(0,Or.jsx)("div",{className:"product-image",children:(0,Or.jsx)("img",{src:e.image_url,alt:e.name,onError:e=>{e.target.src="https://images.unsplash.com/photo-1584308666744-24d5b474b2f0?w=400&h=300&fit=crop&crop=center"}})}),(0,Or.jsxs)("div",{className:"product-info",children:[(0,Or.jsx)("h4",{className:"product-name",children:e.name}),(0,Or.jsxs)("p",{className:"product-price",children:["\u20b9",e.price]}),(0,Or.jsx)("p",{className:"product-description",children:e.description}),(null===(t=e.categories)||void 0===t?void 0:t.name)&&(0,Or.jsxs)("p",{className:"product-category",children:[(0,Or.jsx)("strong",{children:"Category:"})," ",e.categories.name]}),(0,Or.jsx)("div",{className:"product-actions",children:(0,Or.jsxs)("button",{className:"btn-danger",onClick:t=>{t.stopPropagation(),(async e=>{if(window.confirm("Are you sure you want to delete this product?"))try{const{error:t}=await Cr.from("products").delete().eq("id",e);if(t)throw t;Pe("Product deleted successfully!","success"),Se()}catch(t){Pe("Error deleting product: ".concat(t.message),"error")}})(e.id)},children:[(0,Or.jsx)("span",{className:"btn-icon",children:"\ud83d\uddd1\ufe0f"}),"Delete"]})})]})]},e.id)})})]})]}),(0,Or.jsxs)("div",{className:"content-section",children:[(0,Or.jsxs)("div",{className:"section-header",children:[(0,Or.jsx)("h2",{className:"section-title",children:"Category Management"}),(0,Or.jsx)("p",{className:"section-subtitle",children:"Add and manage product categories"})]}),q&&(0,Or.jsx)("div",{className:"admin-card",children:(0,Or.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),H(""),B(!0);try{const e={name:M.trim(),description:F.trim(),is_active:!0},{error:t}=await Cr.from("categories").insert([e]);if(t)throw t;H("\u2705 Category added successfully!"),L(""),U(""),D(!1),Pe("Category added successfully!","success"),_e()}catch(t){console.error("Error creating category:",t),H("\u274c Error: ".concat(t.message)),Pe("Error: ".concat(t.message),"error")}finally{B(!1)}},className:"admin-form",children:[(0,Or.jsxs)("div",{className:"form-card",children:[(0,Or.jsxs)("div",{className:"form-card-header",children:[(0,Or.jsx)("div",{className:"card-icon",children:"\ud83c\udff7\ufe0f"}),(0,Or.jsx)("h3",{children:"Add New Category"})]}),(0,Or.jsx)("div",{className:"form-card-content",children:(0,Or.jsxs)("div",{className:"form-row",children:[(0,Or.jsxs)("div",{className:"form-field",children:[(0,Or.jsx)("label",{className:"form-label",children:"Category Name"}),(0,Or.jsx)("input",{className:"form-input",value:M,onChange:e=>L(e.target.value),required:!0,placeholder:"e.g., Pain Relief, Vitamins, Antibiotics"})]}),(0,Or.jsxs)("div",{className:"form-field",children:[(0,Or.jsx)("label",{className:"form-label",children:"Description"}),(0,Or.jsx)("textarea",{className:"form-textarea",value:F,onChange:e=>U(e.target.value),rows:3,placeholder:"Brief description of the category..."})]})]})})]}),(0,Or.jsxs)("div",{className:"form-actions",children:[(0,Or.jsxs)("button",{className:"btn-secondary",type:"button",onClick:()=>D(!1),children:[(0,Or.jsx)("span",{className:"btn-icon",children:"\u274c"}),"Cancel"]}),(0,Or.jsx)("button",{className:"btn-primary",type:"submit",disabled:z,children:z?(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsx)("span",{className:"loading-spinner"}),"Adding..."]}):(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsx)("span",{className:"btn-icon",children:"\u2705"}),"Add Category"]})})]}),W&&(0,Or.jsx)("div",{className:"status-message ".concat(W.startsWith("\u2705")?"success":"error"),children:W})]})}),(0,Or.jsxs)("div",{className:"categories-section",children:[(0,Or.jsxs)("div",{className:"categories-header",children:[(0,Or.jsxs)("div",{className:"categories-title",children:[(0,Or.jsx)("h3",{children:"Current Categories"}),(0,Or.jsxs)("span",{className:"categories-count",children:["(",I.length,")"]})]}),(0,Or.jsxs)("button",{className:"btn-primary floating-action",onClick:()=>D(!q),children:[(0,Or.jsx)("span",{className:"btn-icon",children:"+"}),q?"Cancel":"Add New Category"]})]}),0===I.length?(0,Or.jsxs)("div",{className:"empty-state",children:[(0,Or.jsx)("div",{className:"empty-icon",children:"\ud83c\udff7\ufe0f"}),(0,Or.jsx)("h4",{children:"No categories found"}),(0,Or.jsx)("p",{children:"Add your first category to organize your products!"}),(0,Or.jsxs)("button",{className:"btn-primary",onClick:()=>D(!0),children:[(0,Or.jsx)("span",{className:"btn-icon",children:"+"}),"Add First Category"]})]}):(0,Or.jsx)("div",{className:"categories-grid",children:I.map(e=>(0,Or.jsxs)("div",{className:"category-card",children:[(0,Or.jsxs)("div",{className:"category-info",children:[(0,Or.jsx)("h4",{className:"category-name",children:e.name}),(0,Or.jsx)("p",{className:"category-description",children:e.description||"No description"}),(0,Or.jsx)("div",{className:"category-meta",children:(0,Or.jsx)("span",{className:"category-status",children:e.is_active?"\ud83d\udfe2 Active":"\ud83d\udd34 Inactive"})})]}),(0,Or.jsx)("div",{className:"category-actions",children:(0,Or.jsxs)("button",{className:"btn-danger",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this category? Products in this category will be affected."))try{const{error:t}=await Cr.from("categories").delete().eq("id",e);if(t)throw t;Pe("Category deleted successfully!","success"),_e()}catch(t){Pe("Error deleting category: ".concat(t.message),"error")}})(e.id),children:[(0,Or.jsx)("span",{className:"btn-icon",children:"\ud83d\uddd1\ufe0f"}),"Delete"]})})]},e.id))})]})]}),(0,Or.jsxs)("div",{className:"content-section",children:[(0,Or.jsxs)("div",{className:"section-header",children:[(0,Or.jsx)("h2",{className:"section-title",children:"Orders Management"}),(0,Or.jsx)("p",{className:"section-subtitle",children:"View and manage all orders across all accounts"}),(0,Or.jsx)("button",{onClick:Ce,className:"btn-secondary",style:{marginTop:"0.5rem"},children:"\ud83d\udd04 Reload Orders Manually"})]}),ne?(0,Or.jsxs)("div",{className:"loading-state",children:[(0,Or.jsx)("div",{className:"loading-spinner"}),(0,Or.jsx)("p",{children:"Loading orders..."})]}):ie?(0,Or.jsxs)("div",{className:"error-state",children:[(0,Or.jsx)("div",{className:"error-icon",children:"\u274c"}),(0,Or.jsx)("h4",{children:"Error loading orders"}),(0,Or.jsx)("p",{children:ie}),(0,Or.jsx)("button",{onClick:Ce,className:"btn-primary",style:{marginTop:"1rem"},children:"\ud83d\udd04 Try Again"})]}):0===Y.length?(0,Or.jsxs)("div",{className:"empty-state",children:[(0,Or.jsx)("div",{className:"empty-icon",children:"\ud83d\udccb"}),(0,Or.jsx)("h4",{children:"No orders found"}),(0,Or.jsx)("p",{children:"Orders will appear here once customers start placing them!"})]}):(0,Or.jsxs)("div",{className:"orders-container",children:[(0,Or.jsx)("div",{className:"orders-header",children:(0,Or.jsxs)("h3",{children:["All Orders (",Y.length,")"]})}),(0,Or.jsx)("div",{className:"orders-grid",children:Y.map(e=>{var t,s,r;return(0,Or.jsxs)("div",{className:"order-card",children:[(0,Or.jsxs)("div",{className:"order-header",children:[(0,Or.jsxs)("div",{className:"order-info",children:[(0,Or.jsxs)("h4",{className:"order-number",children:["#",e.order_number]}),(0,Or.jsx)("p",{className:"order-customer",children:(null===(t=e.shipping_address)||void 0===t?void 0:t.name)||"Unknown Customer"}),(0,Or.jsx)("p",{className:"order-date",children:new Date(e.created_at).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,Or.jsx)("div",{className:"order-status",children:(0,Or.jsx)("span",{className:"status-badge status-".concat(Re(e.status)),onClick:()=>Te(e),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})})]}),(0,Or.jsxs)("div",{className:"order-summary",children:[(0,Or.jsxs)("div",{className:"order-summary-row",children:[(0,Or.jsx)("span",{className:"summary-label",children:"Payment Status:"}),(0,Or.jsx)("span",{className:"status-badge status-".concat("paid"===e.payment_status?"green":"orange"),children:e.payment_status.charAt(0).toUpperCase()+e.payment_status.slice(1)})]}),(0,Or.jsxs)("div",{className:"order-summary-row",children:[(0,Or.jsx)("span",{className:"summary-label",children:"Payment Method:"}),(0,Or.jsx)("span",{className:"summary-value",children:e.payment_method||"Not specified"})]}),(0,Or.jsxs)("div",{className:"order-summary-row",children:[(0,Or.jsx)("span",{className:"summary-label",children:"Location:"}),(0,Or.jsxs)("span",{className:"summary-value",children:[null===(s=e.shipping_address)||void 0===s?void 0:s.city,", ",null===(r=e.shipping_address)||void 0===r?void 0:r.state]})]})]}),(0,Or.jsxs)("div",{className:"order-footer",children:[(0,Or.jsxs)("div",{className:"order-total",children:[(0,Or.jsxs)("strong",{children:["Total: ",Oe(e.final_amount)]}),e.discount_amount>0&&(0,Or.jsxs)("span",{className:"discount-info",children:["(Saved: ",Oe(e.discount_amount),")"]})]}),(0,Or.jsx)("div",{className:"order-actions",children:(0,Or.jsxs)("button",{className:"btn-primary btn-sm",onClick:()=>Te(e),children:[(0,Or.jsx)("span",{className:"btn-icon",children:"\ud83d\udc41\ufe0f"}),"View Details"]})})]})]},e.id)})})]})]}),(0,Or.jsxs)("div",{className:"content-section",children:[(0,Or.jsxs)("div",{className:"section-header",children:[(0,Or.jsx)("h2",{className:"section-title",children:"Donations Management"}),(0,Or.jsx)("p",{className:"section-subtitle",children:"Manage medicine donations and schedule pickups"}),(0,Or.jsx)("button",{onClick:Ee,className:"btn-secondary",style:{marginTop:"0.5rem"},children:"\ud83d\udd04 Reload Donations"})]}),de?(0,Or.jsxs)("div",{className:"loading-state",children:[(0,Or.jsx)("div",{className:"loading-spinner"}),(0,Or.jsx)("p",{children:"Loading donations..."})]}):he?(0,Or.jsxs)("div",{className:"error-state",children:[(0,Or.jsx)("div",{className:"error-icon",children:"\u274c"}),(0,Or.jsx)("h4",{children:"Error loading donations"}),(0,Or.jsx)("p",{children:he}),(0,Or.jsx)("button",{onClick:Ee,className:"btn-primary",style:{marginTop:"1rem"},children:"\ud83d\udd04 Try Again"})]}):0===le.length?(0,Or.jsxs)("div",{className:"empty-state",children:[(0,Or.jsx)("div",{className:"empty-icon",children:"\ud83d\udccb"}),(0,Or.jsx)("h4",{children:"No donations found"}),(0,Or.jsx)("p",{children:"Donations will appear here once users start submitting them!"})]}):(0,Or.jsxs)("div",{className:"donations-container",children:[(0,Or.jsx)("div",{className:"donations-header",children:(0,Or.jsxs)("h3",{children:["All Donations (",le.length,")"]})}),(0,Or.jsx)("div",{className:"donations-grid",children:le.map(e=>(0,Or.jsxs)("div",{className:"donation-card",children:[(0,Or.jsxs)("div",{className:"donation-header",children:[(0,Or.jsxs)("div",{className:"donation-info",children:[(0,Or.jsx)("h4",{className:"donor-name",children:e.donor_name}),(0,Or.jsx)("p",{className:"donor-email",children:e.donor_email}),(0,Or.jsx)("p",{className:"donor-phone",children:e.donor_phone})]}),(0,Or.jsx)("div",{className:"donation-status",children:(0,Or.jsxs)("span",{className:"status-badge status-".concat(qe(e.status)),children:[Ae(e.status)," ",e.status]})})]}),(0,Or.jsxs)("div",{className:"donation-summary",children:[(0,Or.jsxs)("div",{className:"donation-summary-row",children:[(0,Or.jsx)("span",{className:"summary-label",children:"Address:"}),(0,Or.jsx)("span",{className:"summary-value",children:e.donor_address})]}),(0,Or.jsxs)("div",{className:"donation-summary-row",children:[(0,Or.jsx)("span",{className:"summary-label",children:"Total Items:"}),(0,Or.jsx)("span",{className:"summary-value",children:e.total_items})]}),(0,Or.jsxs)("div",{className:"donation-summary-row",children:[(0,Or.jsx)("span",{className:"summary-label",children:"Submitted:"}),(0,Or.jsx)("span",{className:"summary-value",children:new Date(e.created_at).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})})]}),e.message&&(0,Or.jsxs)("div",{className:"donation-summary-row",children:[(0,Or.jsx)("span",{className:"summary-label",children:"Message:"}),(0,Or.jsx)("span",{className:"summary-value",children:e.message})]})]}),(0,Or.jsx)("div",{className:"donation-footer",children:(0,Or.jsxs)("div",{className:"donation-actions",children:["pending"===e.status&&(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsxs)("button",{className:"btn-primary btn-sm",onClick:()=>Ie(e.id,"approved"),children:[(0,Or.jsx)("span",{className:"btn-icon",children:"\u2705"}),"Approve"]}),(0,Or.jsxs)("button",{className:"btn-secondary btn-sm",onClick:()=>{const t=prompt("Enter rejection reason:");null!==t&&Ie(e.id,"rejected",t)},children:[(0,Or.jsx)("span",{className:"btn-icon",children:"\u274c"}),"Reject"]})]}),"approved"===e.status&&(0,Or.jsxs)("button",{className:"btn-primary btn-sm",onClick:()=>Ie(e.id,"collected"),children:[(0,Or.jsx)("span",{className:"btn-icon",children:"\ud83d\udce6"}),"Mark Collected"]}),"collected"===e.status&&(0,Or.jsxs)("button",{className:"btn-primary btn-sm",onClick:()=>Ie(e.id,"completed"),children:[(0,Or.jsx)("span",{className:"btn-icon",children:"\ud83c\udf89"}),"Mark Completed"]})]})})]},e.id))})]})]})]})}),J&&Q&&(0,Or.jsx)("div",{className:"modal-overlay",onClick:()=>X(!1),children:(0,Or.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Or.jsxs)("div",{className:"modal-header",children:[(0,Or.jsxs)("h3",{children:["Order Details - #",Q.order_number]}),(0,Or.jsx)("button",{className:"modal-close",onClick:()=>X(!1),children:"\u2715"})]}),(0,Or.jsxs)("div",{className:"modal-body",children:[(0,Or.jsxs)("div",{className:"order-details-grid",children:[(0,Or.jsxs)("div",{className:"order-detail-section",children:[(0,Or.jsx)("h4",{children:"Customer Information"}),(0,Or.jsxs)("div",{className:"detail-row",children:[(0,Or.jsx)("span",{className:"detail-label",children:"Name:"}),(0,Or.jsx)("span",{className:"detail-value",children:(null===(e=Q.shipping_address)||void 0===e?void 0:e.name)||"Not provided"})]}),(0,Or.jsxs)("div",{className:"detail-row",children:[(0,Or.jsx)("span",{className:"detail-label",children:"Phone:"}),(0,Or.jsx)("span",{className:"detail-value",children:(null===(s=Q.shipping_address)||void 0===s?void 0:s.phone)||"Not provided"})]}),(0,Or.jsxs)("div",{className:"detail-row",children:[(0,Or.jsx)("span",{className:"detail-label",children:"Order Date:"}),(0,Or.jsx)("span",{className:"detail-value",children:new Date(Q.created_at).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),(0,Or.jsxs)("div",{className:"order-detail-section",children:[(0,Or.jsx)("h4",{children:"Order Summary"}),(0,Or.jsxs)("div",{className:"detail-row",children:[(0,Or.jsx)("span",{className:"detail-label",children:"Order Number:"}),(0,Or.jsxs)("span",{className:"detail-value",children:["#",Q.order_number]})]}),(0,Or.jsxs)("div",{className:"detail-row",children:[(0,Or.jsx)("span",{className:"detail-label",children:"Status:"}),(0,Or.jsx)("span",{className:"detail-value",children:(0,Or.jsx)("span",{className:"status-badge status-".concat(Re(Q.status)),children:Q.status.charAt(0).toUpperCase()+Q.status.slice(1)})})]}),(0,Or.jsxs)("div",{className:"detail-row",children:[(0,Or.jsx)("span",{className:"detail-label",children:"Payment Status:"}),(0,Or.jsx)("span",{className:"detail-value",children:(0,Or.jsx)("span",{className:"status-badge status-".concat("paid"===Q.payment_status?"green":"orange"),children:Q.payment_status.charAt(0).toUpperCase()+Q.payment_status.slice(1)})})]}),(0,Or.jsxs)("div",{className:"detail-row",children:[(0,Or.jsx)("span",{className:"detail-label",children:"Payment Method:"}),(0,Or.jsx)("span",{className:"detail-value",children:Q.payment_method||"Not specified"})]}),(0,Or.jsxs)("div",{className:"detail-row",children:[(0,Or.jsx)("span",{className:"detail-label",children:"Total Amount:"}),(0,Or.jsx)("span",{className:"detail-value",children:Oe(Q.final_amount)})]}),Q.discount_amount>0&&(0,Or.jsxs)("div",{className:"detail-row",children:[(0,Or.jsx)("span",{className:"detail-label",children:"Discount:"}),(0,Or.jsxs)("span",{className:"detail-value discount-amount",children:["-",Oe(Q.discount_amount)]})]})]})]}),(0,Or.jsxs)("div",{className:"shipping-address-section",children:[(0,Or.jsx)("h4",{children:"Shipping Address"}),(0,Or.jsxs)("div",{className:"address-details",children:[(0,Or.jsx)("div",{className:"address-line",children:(0,Or.jsx)("strong",{children:null===(r=Q.shipping_address)||void 0===r?void 0:r.name})}),(0,Or.jsxs)("div",{className:"address-line",children:[null===(n=Q.shipping_address)||void 0===n?void 0:n.address_line1,(null===(a=Q.shipping_address)||void 0===a?void 0:a.address_line2)&&(0,Or.jsxs)("span",{children:[", ",Q.shipping_address.address_line2]})]}),(0,Or.jsxs)("div",{className:"address-line",children:[null===(i=Q.shipping_address)||void 0===i?void 0:i.city,", ",null===(o=Q.shipping_address)||void 0===o?void 0:o.state," ",null===(l=Q.shipping_address)||void 0===l?void 0:l.pincode]}),(0,Or.jsxs)("div",{className:"address-line",children:["Phone: ",null===(c=Q.shipping_address)||void 0===c?void 0:c.phone]})]})]}),Q.notes&&(0,Or.jsxs)("div",{className:"order-notes-section",children:[(0,Or.jsx)("h4",{children:"Order Notes"}),(0,Or.jsx)("div",{className:"notes-content",children:Q.notes})]}),(0,Or.jsxs)("div",{className:"order-actions-section",children:[(0,Or.jsx)("h4",{children:"Update Order Status"}),(0,Or.jsxs)("div",{className:"status-update-form",children:[(0,Or.jsxs)("select",{value:Z,onChange:e=>te(e.target.value),className:"status-select",children:[(0,Or.jsx)("option",{value:"pending",children:"Pending"}),(0,Or.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,Or.jsx)("option",{value:"processing",children:"Processing"}),(0,Or.jsx)("option",{value:"shipped",children:"Shipped"}),(0,Or.jsx)("option",{value:"delivered",children:"Delivered"}),(0,Or.jsx)("option",{value:"cancelled",children:"Cancelled"}),(0,Or.jsx)("option",{value:"refunded",children:"Refunded"})]}),(0,Or.jsx)("button",{className:"btn-primary",onClick:()=>(async(e,t)=>{re(!0);try{const{error:s}=await Cr.from("orders").update({status:t}).eq("id",e);if(s)throw s;Pe("Order status updated to ".concat(t,"!"),"success"),Ce(),X(!1),$(null)}catch(s){Pe("Error updating order: ".concat(s.message),"error")}finally{re(!1)}})(Q.id,Z),disabled:se||Z===Q.status,children:se?"Updating...":"Update Status"})]})]})]})]})}),je.show&&(0,Or.jsxs)("div",{className:"toast-notification ".concat(je.type),children:[(0,Or.jsx)("div",{className:"toast-icon",children:"success"===je.type?"\u2705":"\u274c"}),(0,Or.jsx)("div",{className:"toast-message",children:je.message}),(0,Or.jsx)("button",{className:"toast-close",onClick:()=>be({show:!1,message:"",type:"success"}),children:"\u2715"})]})]}):(0,Or.jsx)("div",{className:"admin-page",children:(0,Or.jsx)("main",{className:"admin-main",children:(0,Or.jsx)("div",{className:"admin-container",children:(0,Or.jsx)("div",{className:"admin-card unauthorized-card",children:(0,Or.jsxs)("div",{className:"unauthorized-content",children:[(0,Or.jsx)("div",{className:"unauthorized-icon",children:"\ud83d\udeab"}),(0,Or.jsx)("h2",{children:"Access Denied"}),(0,Or.jsx)("p",{children:"You are not authorized to view this page."}),(0,Or.jsx)("div",{style:{marginTop:"1rem",fontSize:"0.875rem",color:"#6b7280"},children:"Admin access required. Contact administrator if you believe this is an error."}),(0,Or.jsxs)("div",{style:{marginTop:"1.5rem",display:"flex",gap:"1rem",justifyContent:"center"},children:[(0,Or.jsx)("button",{className:"btn-primary",onClick:()=>d("/"),children:"Return to Home"}),(0,Or.jsx)("button",{className:"btn-secondary",onClick:()=>Ne(!0),style:{fontSize:"0.875rem"},children:"\ud83d\udd13 Demo Access (Testing)"})]})]})})})})}):(0,Or.jsx)("div",{className:"admin-page",children:(0,Or.jsx)("main",{className:"admin-main",children:(0,Or.jsx)("div",{className:"admin-container",children:(0,Or.jsx)("div",{className:"admin-card unauthorized-card",children:(0,Or.jsxs)("div",{className:"unauthorized-content",children:[(0,Or.jsx)("div",{className:"unauthorized-icon",children:"\ud83d\udd10"}),(0,Or.jsx)("h2",{children:"Authentication Required"}),(0,Or.jsx)("p",{children:"Please sign in to access the admin dashboard."}),(0,Or.jsx)("button",{className:"btn-primary",onClick:()=>d("/signin"),children:"Sign In"})]})})})})})},vn=()=>{var e,s,r,n,a,i,o,l,c;const d=ee(),{user:u,isAuthenticated:h}=Ir(),[m,p]=(0,t.useState)([]),[f,g]=(0,t.useState)(!0),[v,x]=(0,t.useState)(null),[y,j]=(0,t.useState)(null),[b,w]=(0,t.useState)(!1),[N,k]=(0,t.useState)(""),[_,S]=(0,t.useState)(!1),[C,E]=(0,t.useState)(""),[P,T]=(0,t.useState)("all"),[O,R]=(0,t.useState)("created_at"),[I,A]=(0,t.useState)("desc"),q="krishthakur2004@gmail.com"===(null===u||void 0===u?void 0:u.email)||"admin@example.com"===(null===u||void 0===u?void 0:u.email)||!1;(0,t.useEffect)(()=>{h?q?D():d("/"):d("/signin")},[h,q,d]);const D=async()=>{try{g(!0),x(null);let e=Cr.from("orders").select("*").order(O,{ascending:"asc"===I});"all"!==P&&(e=e.eq("status",P));const{data:t,error:s}=await e;if(s)throw s;p(t||[])}catch(e){console.error("Error loading orders:",e),x(e.message)}finally{g(!1)}},M=e=>{j(e),k(e.status),w(!0)},L=e=>"\u20b9".concat(parseFloat(e).toFixed(2)),F=e=>{switch(e){case"pending":return"pending";case"confirmed":return"confirmed";case"processing":return"processing";case"shipped":return"shipped";case"delivered":return"delivered";case"cancelled":return"cancelled";case"refunded":return"refunded";default:return"default"}},U=m.filter(e=>{var t,s,r,n,a;const i=(null===(t=e.order_number)||void 0===t?void 0:t.toLowerCase().includes(C.toLowerCase()))||(null===(s=e.shipping_address)||void 0===s||null===(r=s.name)||void 0===r?void 0:r.toLowerCase().includes(C.toLowerCase()))||(null===(n=e.shipping_address)||void 0===n||null===(a=n.city)||void 0===a?void 0:a.toLowerCase().includes(C.toLowerCase())),o="all"===P||e.status===P;return i&&o}),z=e=>m.filter(t=>t.status===e).length;return h&&q?(0,Or.jsxs)("div",{className:"orders-page",children:[(0,Or.jsx)("div",{className:"orders-header",children:(0,Or.jsxs)("div",{className:"header-content",children:[(0,Or.jsxs)("div",{className:"header-left",children:[(0,Or.jsx)("button",{className:"back-button",onClick:()=>d("/admin"),children:"\u2190 Back to Dashboard"}),(0,Or.jsx)("h1",{children:"Orders Management"}),(0,Or.jsx)("p",{children:"View and manage all orders across all accounts"})]}),(0,Or.jsx)("div",{className:"header-right",children:(0,Or.jsx)("button",{className:"refresh-button",onClick:D,disabled:f,children:f?"\ud83d\udd04 Loading...":"\ud83d\udd04 Refresh"})})]})}),(0,Or.jsxs)("div",{className:"stats-overview",children:[(0,Or.jsxs)("div",{className:"stat-card",children:[(0,Or.jsx)("div",{className:"stat-icon",children:"\ud83d\udccb"}),(0,Or.jsxs)("div",{className:"stat-content",children:[(0,Or.jsx)("div",{className:"stat-number",children:m.length}),(0,Or.jsx)("div",{className:"stat-label",children:"Total Orders"})]})]}),(0,Or.jsxs)("div",{className:"stat-card",children:[(0,Or.jsx)("div",{className:"stat-icon",children:"\u23f3"}),(0,Or.jsxs)("div",{className:"stat-content",children:[(0,Or.jsx)("div",{className:"stat-number",children:z("pending")}),(0,Or.jsx)("div",{className:"stat-label",children:"Pending"})]})]}),(0,Or.jsxs)("div",{className:"stat-card",children:[(0,Or.jsx)("div",{className:"stat-icon",children:"\u2705"}),(0,Or.jsxs)("div",{className:"stat-content",children:[(0,Or.jsx)("div",{className:"stat-number",children:z("confirmed")}),(0,Or.jsx)("div",{className:"stat-label",children:"Confirmed"})]})]}),(0,Or.jsxs)("div",{className:"stat-card",children:[(0,Or.jsx)("div",{className:"stat-icon",children:"\ud83d\ude9a"}),(0,Or.jsxs)("div",{className:"stat-content",children:[(0,Or.jsx)("div",{className:"stat-number",children:z("shipped")}),(0,Or.jsx)("div",{className:"stat-label",children:"Shipped"})]})]}),(0,Or.jsxs)("div",{className:"stat-card",children:[(0,Or.jsx)("div",{className:"stat-icon",children:"\ud83c\udfaf"}),(0,Or.jsxs)("div",{className:"stat-content",children:[(0,Or.jsx)("div",{className:"stat-number",children:z("delivered")}),(0,Or.jsx)("div",{className:"stat-label",children:"Delivered"})]})]})]}),(0,Or.jsxs)("div",{className:"filters-section",children:[(0,Or.jsx)("div",{className:"search-container",children:(0,Or.jsx)("input",{type:"text",placeholder:"Search orders by number, customer name, or city...",value:C,onChange:e=>E(e.target.value),className:"search-input"})}),(0,Or.jsxs)("div",{className:"filter-controls",children:[(0,Or.jsxs)("select",{value:P,onChange:e=>T(e.target.value),className:"filter-select",children:[(0,Or.jsx)("option",{value:"all",children:"All Statuses"}),(0,Or.jsx)("option",{value:"pending",children:"Pending"}),(0,Or.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,Or.jsx)("option",{value:"processing",children:"Processing"}),(0,Or.jsx)("option",{value:"shipped",children:"Shipped"}),(0,Or.jsx)("option",{value:"delivered",children:"Delivered"}),(0,Or.jsx)("option",{value:"cancelled",children:"Cancelled"}),(0,Or.jsx)("option",{value:"refunded",children:"Refunded"})]}),(0,Or.jsxs)("select",{value:O,onChange:e=>R(e.target.value),className:"filter-select",children:[(0,Or.jsx)("option",{value:"created_at",children:"Sort by Date"}),(0,Or.jsx)("option",{value:"order_number",children:"Sort by Order Number"}),(0,Or.jsx)("option",{value:"final_amount",children:"Sort by Amount"})]}),(0,Or.jsx)("button",{onClick:()=>A("asc"===I?"desc":"asc"),className:"sort-button",children:"asc"===I?"\u2191 Ascending":"\u2193 Descending"})]})]}),(0,Or.jsx)("div",{className:"orders-content",children:f?(0,Or.jsxs)("div",{className:"loading-state",children:[(0,Or.jsx)("div",{className:"loading-spinner"}),(0,Or.jsx)("p",{children:"Loading orders..."})]}):v?(0,Or.jsxs)("div",{className:"error-state",children:[(0,Or.jsx)("div",{className:"error-icon",children:"\u274c"}),(0,Or.jsx)("h4",{children:"Error loading orders"}),(0,Or.jsx)("p",{children:v}),(0,Or.jsx)("button",{onClick:D,className:"retry-button",children:"\ud83d\udd04 Try Again"})]}):0===U.length?(0,Or.jsxs)("div",{className:"empty-state",children:[(0,Or.jsx)("div",{className:"empty-icon",children:"\ud83d\udced"}),(0,Or.jsx)("h4",{children:"No orders found"}),(0,Or.jsx)("p",{children:C||"all"!==P?"Try adjusting your search or filters":"Orders will appear here once customers start placing them!"})]}):(0,Or.jsx)("div",{className:"orders-grid",children:U.map(e=>{var t,s,r;return(0,Or.jsxs)("div",{className:"order-card",children:[(0,Or.jsxs)("div",{className:"order-header",children:[(0,Or.jsxs)("div",{className:"order-info",children:[(0,Or.jsxs)("h4",{className:"order-number",children:["#",e.order_number]}),(0,Or.jsx)("p",{className:"order-customer",children:(null===(t=e.shipping_address)||void 0===t?void 0:t.name)||"Unknown Customer"}),(0,Or.jsx)("p",{className:"order-date",children:new Date(e.created_at).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,Or.jsx)("div",{className:"order-status",children:(0,Or.jsx)("span",{className:"status-badge status-".concat(F(e.status)),onClick:()=>M(e),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})})]}),(0,Or.jsxs)("div",{className:"order-summary",children:[(0,Or.jsxs)("div",{className:"order-summary-row",children:[(0,Or.jsx)("span",{className:"summary-label",children:"Payment Status:"}),(0,Or.jsx)("span",{className:"status-badge status-".concat("paid"===e.payment_status?"green":"orange"),children:e.payment_status.charAt(0).toUpperCase()+e.payment_status.slice(1)})]}),(0,Or.jsxs)("div",{className:"order-summary-row",children:[(0,Or.jsx)("span",{className:"summary-label",children:"Payment Method:"}),(0,Or.jsx)("span",{className:"summary-value",children:e.payment_method||"Not specified"})]}),(0,Or.jsxs)("div",{className:"order-summary-row",children:[(0,Or.jsx)("span",{className:"summary-label",children:"Location:"}),(0,Or.jsxs)("span",{className:"summary-value",children:[null===(s=e.shipping_address)||void 0===s?void 0:s.city,", ",null===(r=e.shipping_address)||void 0===r?void 0:r.state]})]})]}),(0,Or.jsxs)("div",{className:"order-footer",children:[(0,Or.jsxs)("div",{className:"order-total",children:[(0,Or.jsxs)("strong",{children:["Total: ",L(e.final_amount)]}),e.discount_amount>0&&(0,Or.jsxs)("span",{className:"discount-info",children:["(Saved: ",L(e.discount_amount),")"]})]}),(0,Or.jsx)("div",{className:"order-actions",children:(0,Or.jsx)("button",{className:"view-button",onClick:()=>M(e),children:"\ud83d\udc41\ufe0f View Details"})})]})]},e.id)})})}),b&&y&&(0,Or.jsx)("div",{className:"modal-overlay",onClick:()=>w(!1),children:(0,Or.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Or.jsxs)("div",{className:"modal-header",children:[(0,Or.jsxs)("h3",{children:["Order Details - #",y.order_number]}),(0,Or.jsx)("button",{className:"modal-close",onClick:()=>w(!1),children:"\u2715"})]}),(0,Or.jsxs)("div",{className:"modal-body",children:[(0,Or.jsxs)("div",{className:"order-details-grid",children:[(0,Or.jsxs)("div",{className:"order-detail-section",children:[(0,Or.jsx)("h4",{children:"Customer Information"}),(0,Or.jsxs)("div",{className:"detail-row",children:[(0,Or.jsx)("span",{className:"detail-label",children:"Name:"}),(0,Or.jsx)("span",{className:"detail-value",children:(null===(e=y.shipping_address)||void 0===e?void 0:e.name)||"Not provided"})]}),(0,Or.jsxs)("div",{className:"detail-row",children:[(0,Or.jsx)("span",{className:"detail-label",children:"Phone:"}),(0,Or.jsx)("span",{className:"detail-value",children:(null===(s=y.shipping_address)||void 0===s?void 0:s.phone)||"Not provided"})]}),(0,Or.jsxs)("div",{className:"detail-row",children:[(0,Or.jsx)("span",{className:"detail-label",children:"Order Date:"}),(0,Or.jsx)("span",{className:"detail-value",children:new Date(y.created_at).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),(0,Or.jsxs)("div",{className:"order-detail-section",children:[(0,Or.jsx)("h4",{children:"Order Summary"}),(0,Or.jsxs)("div",{className:"detail-row",children:[(0,Or.jsx)("span",{className:"detail-label",children:"Order Number:"}),(0,Or.jsxs)("span",{className:"detail-value",children:["#",y.order_number]})]}),(0,Or.jsxs)("div",{className:"detail-row",children:[(0,Or.jsx)("span",{className:"detail-label",children:"Status:"}),(0,Or.jsx)("span",{className:"detail-value",children:(0,Or.jsx)("span",{className:"status-badge status-".concat(F(y.status)),children:y.status.charAt(0).toUpperCase()+y.status.slice(1)})})]}),(0,Or.jsxs)("div",{className:"detail-row",children:[(0,Or.jsx)("span",{className:"detail-label",children:"Payment Status:"}),(0,Or.jsx)("span",{className:"detail-value",children:(0,Or.jsx)("span",{className:"status-badge status-".concat("paid"===y.payment_status?"green":"orange"),children:y.payment_status.charAt(0).toUpperCase()+y.payment_status.slice(1)})})]}),(0,Or.jsxs)("div",{className:"detail-row",children:[(0,Or.jsx)("span",{className:"detail-label",children:"Payment Method:"}),(0,Or.jsx)("span",{className:"detail-value",children:y.payment_method||"Not specified"})]}),(0,Or.jsxs)("div",{className:"detail-row",children:[(0,Or.jsx)("span",{className:"detail-label",children:"Total Amount:"}),(0,Or.jsx)("span",{className:"detail-value",children:L(y.final_amount)})]}),y.discount_amount>0&&(0,Or.jsxs)("div",{className:"detail-row",children:[(0,Or.jsx)("span",{className:"detail-label",children:"Discount:"}),(0,Or.jsxs)("span",{className:"detail-value discount-amount",children:["-",L(y.discount_amount)]})]})]})]}),(0,Or.jsxs)("div",{className:"shipping-address-section",children:[(0,Or.jsx)("h4",{children:"Shipping Address"}),(0,Or.jsxs)("div",{className:"address-details",children:[(0,Or.jsx)("div",{className:"address-line",children:(0,Or.jsx)("strong",{children:null===(r=y.shipping_address)||void 0===r?void 0:r.name})}),(0,Or.jsxs)("div",{className:"address-line",children:[null===(n=y.shipping_address)||void 0===n?void 0:n.address_line1,(null===(a=y.shipping_address)||void 0===a?void 0:a.address_line2)&&(0,Or.jsxs)("span",{children:[", ",y.shipping_address.address_line2]})]}),(0,Or.jsxs)("div",{className:"address-line",children:[null===(i=y.shipping_address)||void 0===i?void 0:i.city,", ",null===(o=y.shipping_address)||void 0===o?void 0:o.state," ",null===(l=y.shipping_address)||void 0===l?void 0:l.pincode]}),(0,Or.jsxs)("div",{className:"address-line",children:["Phone: ",null===(c=y.shipping_address)||void 0===c?void 0:c.phone]})]})]}),y.notes&&(0,Or.jsxs)("div",{className:"order-notes-section",children:[(0,Or.jsx)("h4",{children:"Order Notes"}),(0,Or.jsx)("div",{className:"notes-content",children:y.notes})]}),(0,Or.jsxs)("div",{className:"order-actions-section",children:[(0,Or.jsx)("h4",{children:"Update Order Status"}),(0,Or.jsxs)("div",{className:"status-update-form",children:[(0,Or.jsxs)("select",{value:N,onChange:e=>k(e.target.value),className:"status-select",children:[(0,Or.jsx)("option",{value:"pending",children:"Pending"}),(0,Or.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,Or.jsx)("option",{value:"processing",children:"Processing"}),(0,Or.jsx)("option",{value:"shipped",children:"Shipped"}),(0,Or.jsx)("option",{value:"delivered",children:"Delivered"}),(0,Or.jsx)("option",{value:"cancelled",children:"Cancelled"}),(0,Or.jsx)("option",{value:"refunded",children:"Refunded"})]}),(0,Or.jsx)("button",{className:"update-button",onClick:()=>(async(e,t)=>{try{S(!0);const{error:s}=await Cr.from("orders").update({status:t}).eq("id",e);if(s)throw s;p(s=>s.map(s=>s.id===e?Fr(Fr({},s),{},{status:t}):s)),y&&y.id===e&&j(e=>Fr(Fr({},e),{},{status:t})),alert("Order status updated to ".concat(t))}catch(s){console.error("Error updating order status:",s),alert("Failed to update order status")}finally{S(!1)}})(y.id,N),disabled:_||N===y.status,children:_?"Updating...":"Update Status"})]})]})]})]})})]}):null},xn=()=>{const[e,s]=(0,t.useState)([]),[r,n]=(0,t.useState)([]),[a,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)("all"),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)([]),[m,p]=(0,t.useState)(!1),[f,g]=(0,t.useState)({name:"",email:"",phone:"",address:"",message:""}),{isAuthenticated:v,user:x}=Ir(),y=ee();(0,t.useEffect)(()=>{(async()=>{try{const{data:e,error:t}=await Cr.from("categories").select("*");if(t)throw t;n(e||[]);const{data:r,error:a}=await Cr.from("products").select("\n            *,\n            categories(name, description)\n          ").eq("in_stock",!0);if(a)throw a;s(r||[])}catch(e){alert("Failed to load products. Please try again.")}finally{i(!1)}})()},[]);const j=e=>{var t;return(null===(t=e.categories)||void 0===t?void 0:t.name)||"Uncategorized"},b=e.filter(e=>{const t="all"===o||j(e)===o,s=e.name.toLowerCase().includes(c.toLowerCase())||e.description.toLowerCase().includes(c.toLowerCase());return t&&s}),w=e=>{h(u.filter(t=>t.id!==e))},N=(e,t)=>{t<=0?w(e):h(u.map(s=>s.id===e?Fr(Fr({},s),{},{quantity:t}):s))},k=(e,t)=>{g(s=>Fr(Fr({},s),{},{[e]:t}))};return a?(0,Or.jsxs)("div",{className:"donate",children:[(0,Or.jsx)(Gr,{}),(0,Or.jsxs)("div",{className:"loading-container",children:[(0,Or.jsx)("div",{className:"loading-spinner"}),(0,Or.jsx)("p",{children:"Loading medicines..."})]})]}):(0,Or.jsxs)("div",{className:"donate",children:[(0,Or.jsx)(Gr,{}),(0,Or.jsxs)("main",{className:"donate-main",children:[(0,Or.jsx)("section",{className:"donate-hero",children:(0,Or.jsxs)("div",{className:"container",children:[(0,Or.jsx)("h1",{children:"Donate Medicines"}),(0,Or.jsx)("p",{children:"Help your community by donating unused medicines. Your generosity can save lives and make healthcare accessible to those in need."}),(0,Or.jsxs)("div",{className:"hero-stats",children:[(0,Or.jsxs)("div",{className:"stat",children:[(0,Or.jsx)("span",{className:"stat-number",children:"1000+"}),(0,Or.jsx)("span",{className:"stat-label",children:"Lives Helped"})]}),(0,Or.jsxs)("div",{className:"stat",children:[(0,Or.jsx)("span",{className:"stat-number",children:"500+"}),(0,Or.jsx)("span",{className:"stat-label",children:"Medicines Donated"})]}),(0,Or.jsxs)("div",{className:"stat",children:[(0,Or.jsx)("span",{className:"stat-number",children:"50+"}),(0,Or.jsx)("span",{className:"stat-label",children:"Active Donors"})]})]})]})}),u.length>0&&(0,Or.jsx)("section",{className:"donation-cart",children:(0,Or.jsxs)("div",{className:"container",children:[(0,Or.jsxs)("div",{className:"cart-header",children:[(0,Or.jsxs)("h3",{children:["Selected Medicines for Donation (",u.length,")"]}),(0,Or.jsx)("button",{className:"proceed-btn",onClick:()=>p(!0),children:"Proceed to Donate"})]}),(0,Or.jsx)("div",{className:"cart-items",children:u.map(e=>(0,Or.jsxs)("div",{className:"cart-item",children:[(0,Or.jsxs)("div",{className:"item-info",children:[(0,Or.jsx)("h4",{children:e.name}),(0,Or.jsx)("p",{children:e.description})]}),(0,Or.jsxs)("div",{className:"item-controls",children:[(0,Or.jsxs)("div",{className:"quantity-controls",children:[(0,Or.jsx)("button",{onClick:()=>N(e.id,e.quantity-1),children:"-"}),(0,Or.jsx)("span",{children:e.quantity}),(0,Or.jsx)("button",{onClick:()=>N(e.id,e.quantity+1),children:"+"})]}),(0,Or.jsx)("button",{className:"remove-btn",onClick:()=>w(e.id),children:"Remove"})]})]},e.id))})]})}),(0,Or.jsx)("section",{className:"medicine-selection",children:(0,Or.jsxs)("div",{className:"container",children:[(0,Or.jsx)("h2",{children:"Select Medicines to Donate"}),(0,Or.jsxs)("div",{className:"selection-filters",children:[(0,Or.jsx)("div",{className:"search-bar",children:(0,Or.jsx)("input",{type:"text",placeholder:"Search medicines...",value:c,onChange:e=>d(e.target.value)})}),(0,Or.jsxs)("div",{className:"category-filters",children:[(0,Or.jsx)("button",{className:"category-btn ".concat("all"===o?"active":""),onClick:()=>l("all"),children:"All Categories"}),r.map(e=>(0,Or.jsx)("button",{className:"category-btn ".concat(o===e.name?"active":""),onClick:()=>l(e.name),children:e.name},e.id))]})]}),(0,Or.jsx)("div",{className:"products-grid",children:0===b.length?(0,Or.jsx)("div",{className:"no-products",children:(0,Or.jsx)("p",{children:"No medicines found matching your criteria."})}):b.map(e=>(0,Or.jsxs)("div",{className:"product-card",style:{cursor:"default"},children:[(0,Or.jsxs)("div",{className:"product-image",children:[e.image_urls&&e.image_urls.length>0?(0,Or.jsx)("img",{src:e.image_urls[0],alt:e.name,onError:e=>{e.target.src="/placeholder-product.jpg"}}):(0,Or.jsx)("div",{className:"placeholder-image",children:(0,Or.jsx)("span",{children:"\ud83d\udc8a"})}),(0,Or.jsx)("div",{className:"product-category",children:j(e)})]}),(0,Or.jsxs)("div",{className:"product-info",children:[(0,Or.jsx)("h3",{className:"product-name",children:e.name}),(0,Or.jsx)("p",{className:"product-description",children:e.description}),(0,Or.jsx)("div",{className:"product-meta",children:(0,Or.jsxs)("span",{className:"product-price",children:["\u20b9",e.price]})}),(0,Or.jsx)("button",{className:"donate-btn",onClick:t=>{t.stopPropagation(),(e=>{const t=u.find(t=>t.id===e.id);h(t?u.map(t=>t.id===e.id?Fr(Fr({},t),{},{quantity:t.quantity+1}):t):[...u,Fr(Fr({},e),{},{quantity:1})])})(e)},children:"+ Add to Donation"})]})]},e.id))})]})}),m&&(0,Or.jsx)("div",{className:"modal-overlay",children:(0,Or.jsxs)("div",{className:"donation-form-modal",children:[(0,Or.jsxs)("div",{className:"modal-header",children:[(0,Or.jsx)("h3",{children:"Complete Your Donation"}),(0,Or.jsx)("button",{className:"close-btn",onClick:()=>p(!1),children:"\xd7"})]}),(0,Or.jsxs)("div",{className:"modal-content",children:[(0,Or.jsxs)("div",{className:"donation-summary",children:[(0,Or.jsx)("h4",{children:"Donation Summary"}),(0,Or.jsxs)("p",{children:["Total Items: ",u.reduce((e,t)=>e+t.quantity,0)]}),(0,Or.jsx)("div",{className:"summary-items",children:u.map(e=>(0,Or.jsxs)("div",{className:"summary-item",children:[(0,Or.jsx)("span",{children:e.name}),(0,Or.jsxs)("span",{children:["Qty: ",e.quantity]})]},e.id))})]}),(0,Or.jsxs)("form",{className:"donor-form",children:[(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{children:"Full Name *"}),(0,Or.jsx)("input",{type:"text",value:f.name,onChange:e=>k("name",e.target.value),required:!0})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{children:"Email *"}),(0,Or.jsx)("input",{type:"email",value:f.email,onChange:e=>k("email",e.target.value),required:!0})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{children:"Phone Number *"}),(0,Or.jsx)("input",{type:"tel",value:f.phone,onChange:e=>k("phone",e.target.value),required:!0})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{children:"Pickup Address *"}),(0,Or.jsx)("textarea",{value:f.address,onChange:e=>k("address",e.target.value),rows:"3",required:!0})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{children:"Message (Optional)"}),(0,Or.jsx)("textarea",{value:f.message,onChange:e=>k("message",e.target.value),rows:"3",placeholder:"Any special instructions or message..."})]}),(0,Or.jsxs)("div",{className:"form-actions",children:[(0,Or.jsx)("button",{type:"button",className:"cancel-btn",onClick:()=>p(!1),children:"Cancel"}),(0,Or.jsx)("button",{type:"button",className:"submit-btn",onClick:async()=>{if(v)if(0!==u.length)if(f.name&&f.email&&f.phone&&f.address)try{const{data:e,error:t}=await Cr.from("donations").insert({user_id:x.id,donor_name:f.name,donor_email:f.email,donor_phone:f.phone,donor_address:f.address,message:f.message,status:"pending",total_items:u.reduce((e,t)=>e+t.quantity,0),created_at:(new Date).toISOString()}).select().single();if(t)throw t;const s=u.map(t=>({donation_id:e.id,product_id:t.id,quantity:t.quantity,product_name:t.name,product_price:t.price})),{error:r}=await Cr.from("donation_items").insert(s);if(r)throw r;h([]),g({name:"",email:"",phone:"",address:"",message:""}),p(!1),alert("Thank you for your donation! We will contact you soon to arrange pickup.")}catch(e){alert("Failed to submit donation. Please try again.")}else alert("Please fill in all required fields.");else alert("Please select at least one medicine to donate.");else y("/signin")},children:"Submit Donation"})]})]})]})]})}),(0,Or.jsx)("section",{className:"how-it-works",children:(0,Or.jsxs)("div",{className:"container",children:[(0,Or.jsx)("h2",{children:"How Medicine Donation Works"}),(0,Or.jsxs)("div",{className:"steps",children:[(0,Or.jsxs)("div",{className:"step",children:[(0,Or.jsx)("div",{className:"step-icon",children:"1"}),(0,Or.jsx)("h3",{children:"Select Medicines"}),(0,Or.jsx)("p",{children:"Choose the medicines you want to donate from our available list"})]}),(0,Or.jsxs)("div",{className:"step",children:[(0,Or.jsx)("div",{className:"step-icon",children:"2"}),(0,Or.jsx)("h3",{children:"Fill Details"}),(0,Or.jsx)("p",{children:"Provide your contact information and pickup address"})]}),(0,Or.jsxs)("div",{className:"step",children:[(0,Or.jsx)("div",{className:"step-icon",children:"3"}),(0,Or.jsx)("h3",{children:"We Collect"}),(0,Or.jsx)("p",{children:"Our team will contact you to arrange pickup at your convenience"})]}),(0,Or.jsxs)("div",{className:"step",children:[(0,Or.jsx)("div",{className:"step-icon",children:"4"}),(0,Or.jsx)("h3",{children:"Help Others"}),(0,Or.jsx)("p",{children:"Your donated medicines will help those who need them most"})]})]})]})})]})]})},yn=()=>(0,Or.jsxs)("div",{className:"partner",children:[(0,Or.jsx)(Gr,{}),(0,Or.jsx)("main",{className:"main-content",children:(0,Or.jsxs)("div",{className:"container",children:[(0,Or.jsx)("h1",{children:"Partner with FlickXir"}),(0,Or.jsx)("p",{children:"Join our network of healthcare partners."}),(0,Or.jsx)("p",{children:"Together, we can make healthcare more accessible for everyone."})]})}),(0,Or.jsx)(Yr,{})]}),jn=()=>{var e,s,r;const[n,a]=(0,t.useState)("general"),[i,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(!1),[h,m]=(0,t.useState)({name:"",email:"",subject:"",message:"",category:"general"}),[p,f]=(0,t.useState)(!1),[g,v]=(0,t.useState)(!1),[x,y]=(0,t.useState)([]);(0,t.useEffect)(()=>{window.scrollTo(0,0),y([{categoryId:"general",questionIndex:0},{categoryId:"orders",questionIndex:0},{categoryId:"prescriptions",questionIndex:0},{categoryId:"payments",questionIndex:0}])},[]);const j=[{id:"general",name:"General Questions",icon:"\u2753"},{id:"orders",name:"Orders & Delivery",icon:"\ud83d\udce6"},{id:"prescriptions",name:"Prescriptions",icon:"\ud83d\udc8a"},{id:"account",name:"Account & Profile",icon:"\ud83d\udc64"},{id:"payments",name:"Payments & Billing",icon:"\ud83d\udcb3"},{id:"returns",name:"Returns & Refunds",icon:"\u21a9\ufe0f"},{id:"technical",name:"Technical Issues",icon:"\ud83d\udd27"},{id:"privacy",name:"Privacy & Security",icon:"\ud83d\udd12"}],b={general:[{question:"What is FlickXir and how does it work?",answer:"FlickXir is an online pharmacy platform that allows you to order medicines and healthcare products from the comfort of your home. Simply browse our catalog, add items to your cart, upload prescriptions if needed, and we'll deliver them to your doorstep."},{question:"Is FlickXir a licensed pharmacy?",answer:"Yes, FlickXir operates under proper pharmaceutical licenses and complies with all regulatory requirements. We work only with licensed pharmacies and certified healthcare providers to ensure the authenticity and quality of all medicines."},{question:"What areas do you deliver to?",answer:"We currently deliver to over 50+ cities across India. You can check if we deliver to your area by entering your pincode during checkout. We're constantly expanding our delivery network to serve more locations."},{question:"Are the medicines genuine?",answer:"Absolutely. All medicines on FlickXir are sourced directly from licensed manufacturers and authorized distributors. We maintain strict quality control measures and proper storage conditions to ensure medicine authenticity and efficacy."}],orders:[{question:"How do I place an order?",answer:"To place an order: 1) Browse our medicine catalog or search for specific items, 2) Add medicines to your cart, 3) Upload prescription if required, 4) Proceed to checkout and enter delivery details, 5) Choose payment method and complete your order."},{question:"How long does delivery take?",answer:"Standard delivery takes 24-48 hours within city limits and 2-5 business days for other areas. We also offer express delivery (same-day or next-day) in select cities for urgent requirements."},{question:"Can I track my order?",answer:"Yes, you can track your order in real-time through your account dashboard or the tracking link sent via SMS/email. You'll receive updates at every stage from order confirmation to delivery."},{question:"What if I need to cancel or modify my order?",answer:"You can cancel or modify your order within 30 minutes of placing it, provided it hasn't been processed by our pharmacy. Contact our support team immediately for assistance with order changes."}],prescriptions:[{question:"Do I need a prescription for all medicines?",answer:"Prescription medicines require a valid prescription from a registered medical practitioner. Over-the-counter (OTC) medicines, health supplements, and wellness products can be purchased without a prescription."},{question:"How do I upload my prescription?",answer:"You can upload prescriptions during checkout by taking a clear photo or scanning the document. Ensure all details are visible including doctor's name, patient name, medicine names, and dosage instructions."},{question:"What prescription formats do you accept?",answer:"We accept prescriptions in various formats: physical prescriptions (photographed), digital prescriptions, e-prescriptions from healthcare providers, and hospital discharge summaries with medicine recommendations."},{question:"How long is a prescription valid?",answer:"Prescription validity varies by medicine type and doctor's instructions. Generally, acute medicine prescriptions are valid for 6 months, while chronic medication prescriptions may be valid for up to 1 year. We'll verify validity during order processing."}],account:[{question:"How do I create an account?",answer:"Click 'Sign Up' on our homepage, enter your mobile number and email, verify with OTP, and complete your profile with basic information. You can also sign up during your first order checkout."},{question:"I forgot my password. How do I reset it?",answer:"Click 'Forgot Password' on the login page, enter your registered email or mobile number, and follow the reset instructions sent to you. You can then create a new password for your account."},{question:"How do I update my profile information?",answer:"Log into your account, go to 'Profile Settings', and update your personal information, contact details, or delivery addresses. Remember to save changes after updating."},{question:"Can I have multiple delivery addresses?",answer:"Yes, you can save multiple delivery addresses in your account for convenience. During checkout, you can select from saved addresses or add a new one for that specific order."}],payments:[{question:"What payment methods do you accept?",answer:"We accept various payment methods including credit/debit cards, net banking, UPI, digital wallets (Paytm, PhonePe, Google Pay), and cash on delivery (where available)."},{question:"Is it safe to pay online?",answer:"Yes, all online payments are processed through secure, encrypted gateways that comply with industry security standards. We don't store your payment information on our servers."},{question:"Can I pay cash on delivery?",answer:"Cash on delivery is available in select cities and for orders below \u20b92000. This option will be shown during checkout if available for your location and order value."},{question:"What if my payment fails?",answer:"If payment fails, you can retry with the same or different payment method. If the issue persists, contact your bank or try an alternative payment method. Our support team can also assist with payment issues."}],returns:[{question:"What is your return policy?",answer:"We accept returns for unopened, unused medicines within 7 days of delivery if there's a quality issue or wrong item delivered. Prescription medicines cannot be returned unless there's a dispensing error from our side."},{question:"How do I initiate a return?",answer:"Contact our support team within 7 days of delivery with your order details and reason for return. We'll guide you through the return process and arrange pickup if the return is approved."},{question:"When will I get my refund?",answer:"Refunds are processed within 5-7 business days after we receive and verify the returned items. The amount will be credited to your original payment method or FlickXir wallet as per your preference."},{question:"Can I exchange a medicine?",answer:"Direct exchanges are not available due to regulatory requirements. However, you can return the item (if eligible) and place a new order for the correct medicine."}],technical:[{question:"The website/app is not working properly. What should I do?",answer:"Try refreshing the page, clearing your browser cache, or updating your app to the latest version. If the issue persists, contact our technical support team with details about the problem you're experiencing."},{question:"I'm having trouble uploading my prescription.",answer:"Ensure your prescription image is clear, well-lit, and under 5MB in size. Supported formats are JPG, PNG, and PDF. Try using a different browser or device if the upload continues to fail."},{question:"Why can't I find a specific medicine?",answer:"The medicine might be out of stock, discontinued, or not available in your area. Try searching with different spellings or generic names. Contact our support team for assistance in finding alternatives."},{question:"The search function isn't working correctly.",answer:"Try using different keywords, check spelling, or browse by categories. Our search function works with medicine names, brands, and generic names. Clear your browser cache if search results seem outdated."}],privacy:[{question:"How do you protect my personal information?",answer:"We use industry-standard encryption and security measures to protect your data. Your personal and medical information is stored securely and accessed only by authorized personnel for order processing and customer service."},{question:"Do you share my information with third parties?",answer:"We only share necessary information with our pharmacy partners, delivery services, and payment processors to fulfill your orders. We never sell your personal information to third parties for marketing purposes."},{question:"Can I delete my account and data?",answer:"Yes, you can request account deletion by contacting our support team. We'll delete your personal information while retaining transaction records as required by law for regulatory compliance."},{question:"How do you handle my prescription data?",answer:"Prescription data is handled with utmost care and stored securely in compliance with healthcare regulations. Only licensed pharmacists and authorized medical professionals can access this information for dispensing purposes."}]},w=(null===(e=b[n])||void 0===e?void 0:e.filter(e=>e.question.toLowerCase().includes(i.toLowerCase())||e.answer.toLowerCase().includes(i.toLowerCase())))||[],N=(e,t)=>{m(s=>Fr(Fr({},s),{},{[e]:t}))};return(0,Or.jsxs)("div",{className:"help-center",children:[(0,Or.jsx)(Gr,{}),(0,Or.jsxs)("main",{className:"help-center-main",children:[g&&(0,Or.jsx)("div",{className:"success-banner",children:(0,Or.jsx)("div",{className:"container",children:(0,Or.jsxs)("div",{className:"success-content",children:[(0,Or.jsx)("span",{className:"success-icon",children:"\u2705"}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("h3",{children:"Message Sent Successfully!"}),(0,Or.jsx)("p",{children:"Thank you for contacting us. Our support team will get back to you within 24 hours."})]}),(0,Or.jsx)("button",{className:"close-success",onClick:()=>v(!1),children:"\xd7"})]})})}),(0,Or.jsx)("section",{className:"help-hero",children:(0,Or.jsx)("div",{className:"container",children:(0,Or.jsxs)("div",{className:"hero-content",children:[(0,Or.jsx)("div",{className:"hero-icon",children:"\ud83c\udd98"}),(0,Or.jsx)("h1",{children:"How can we help you?"}),(0,Or.jsx)("p",{children:"Find answers to your questions, get support, and learn more about FlickXir services"}),(0,Or.jsxs)("div",{className:"search-container",children:[(0,Or.jsx)("input",{type:"text",className:"help-search",placeholder:"Search for help articles, FAQs, or topics...",value:i,onChange:e=>o(e.target.value)}),(0,Or.jsx)("button",{className:"search-btn",children:"\ud83d\udd0d"})]}),(0,Or.jsxs)("div",{className:"help-stats",children:[(0,Or.jsxs)("div",{className:"stat",children:[(0,Or.jsx)("span",{className:"stat-number",children:"500+"}),(0,Or.jsx)("span",{className:"stat-label",children:"Help Articles"})]}),(0,Or.jsxs)("div",{className:"stat",children:[(0,Or.jsx)("span",{className:"stat-number",children:"24/7"}),(0,Or.jsx)("span",{className:"stat-label",children:"Support Available"})]}),(0,Or.jsxs)("div",{className:"stat",children:[(0,Or.jsx)("span",{className:"stat-number",children:"< 2hrs"}),(0,Or.jsx)("span",{className:"stat-label",children:"Average Response"})]})]})]})})}),(0,Or.jsx)("section",{className:"popular-faqs-section",children:(0,Or.jsxs)("div",{className:"container",children:[(0,Or.jsxs)("div",{className:"section-header",children:[(0,Or.jsx)("h2",{children:"\ud83d\udd25 Most Popular Questions"}),(0,Or.jsx)("p",{children:"Quick answers to the questions we get asked most often"})]}),(0,Or.jsx)("div",{className:"popular-faqs-grid",children:x.map(e=>{var t;return Fr(Fr({},b[e.categoryId][e.questionIndex]),{},{category:null===(t=j.find(t=>t.id===e.categoryId))||void 0===t?void 0:t.name,categoryId:e.categoryId})}).map((e,t)=>(0,Or.jsxs)("div",{className:"popular-faq-card",children:[(0,Or.jsx)("div",{className:"faq-category-badge",children:e.category}),(0,Or.jsx)("h4",{children:e.question}),(0,Or.jsxs)("p",{children:[e.answer.substring(0,120),"..."]}),(0,Or.jsx)("button",{className:"read-more-btn",onClick:()=>{a(e.categoryId),document.getElementById("main-faqs").scrollIntoView({behavior:"smooth"})},children:"Read More \u2192"})]},t))})]})}),(0,Or.jsx)("section",{className:"quick-help-section",children:(0,Or.jsxs)("div",{className:"container",children:[(0,Or.jsxs)("div",{className:"section-header",children:[(0,Or.jsx)("h2",{children:"\u26a1 Quick Help"}),(0,Or.jsx)("p",{children:"Get instant help with common tasks"})]}),(0,Or.jsxs)("div",{className:"quick-help-grid",children:[(0,Or.jsxs)("div",{className:"quick-help-card",children:[(0,Or.jsx)("div",{className:"help-card-icon",children:"\ud83d\udccb"}),(0,Or.jsx)("h3",{children:"Track Your Order"}),(0,Or.jsx)("p",{children:"Check the status of your medicine delivery in real-time"}),(0,Or.jsx)("button",{className:"help-action-btn",children:"Track Order"})]}),(0,Or.jsxs)("div",{className:"quick-help-card",children:[(0,Or.jsx)("div",{className:"help-card-icon",children:"\ud83d\udcc4"}),(0,Or.jsx)("h3",{children:"Upload Prescription"}),(0,Or.jsx)("p",{children:"Easily upload your prescription for medicine orders"}),(0,Or.jsx)("button",{className:"help-action-btn",children:"Upload Now"})]}),(0,Or.jsxs)("div",{className:"quick-help-card",children:[(0,Or.jsx)("div",{className:"help-card-icon",children:"\ud83d\udcb0"}),(0,Or.jsx)("h3",{children:"Check Refund Status"}),(0,Or.jsx)("p",{children:"View the status of your refund requests"}),(0,Or.jsx)("button",{className:"help-action-btn",children:"Check Status"})]}),(0,Or.jsxs)("div",{className:"quick-help-card",children:[(0,Or.jsx)("div",{className:"help-card-icon",children:"\ud83c\udfe5"}),(0,Or.jsx)("h3",{children:"Find Nearby Pharmacy"}),(0,Or.jsx)("p",{children:"Locate partner pharmacies in your area"}),(0,Or.jsx)("button",{className:"help-action-btn",children:"Find Pharmacy"})]})]})]})}),(0,Or.jsx)("section",{className:"help-content-section",id:"main-faqs",children:(0,Or.jsx)("div",{className:"container",children:(0,Or.jsxs)("div",{className:"help-layout",children:[(0,Or.jsxs)("aside",{className:"help-sidebar",children:[(0,Or.jsx)("h3",{children:"\ud83d\udcda Browse by Category"}),(0,Or.jsx)("div",{className:"category-list",children:j.map(e=>(0,Or.jsxs)("button",{className:"category-btn ".concat(n===e.id?"active":""),onClick:()=>a(e.id),children:[(0,Or.jsx)("span",{className:"category-icon",children:e.icon}),(0,Or.jsx)("span",{className:"category-name",children:e.name})]},e.id))}),(0,Or.jsxs)("div",{className:"quick-actions",children:[(0,Or.jsx)("h4",{children:"Quick Actions"}),(0,Or.jsx)("button",{className:"action-btn",onClick:()=>u(!0),children:"\ud83d\udcac Contact Support"}),(0,Or.jsx)("button",{className:"action-btn",children:"\ud83d\udcde Request Callback"}),(0,Or.jsx)("button",{className:"action-btn",children:"\ud83d\udce7 Email Us"})]})]}),(0,Or.jsxs)("div",{className:"help-main-content",children:[(0,Or.jsxs)("div",{className:"content-header",children:[(0,Or.jsxs)("h2",{children:[null===(s=j.find(e=>e.id===n))||void 0===s?void 0:s.icon," "," ",null===(r=j.find(e=>e.id===n))||void 0===r?void 0:r.name]}),(0,Or.jsx)("p",{children:"Find answers to common questions in this category"})]}),(0,Or.jsx)("div",{className:"faq-list",children:w.length>0?w.map((e,t)=>(0,Or.jsxs)("div",{className:"faq-item",children:[(0,Or.jsxs)("button",{className:"faq-question",onClick:()=>(e=>{c(l===e?null:e)})(t),children:[(0,Or.jsx)("span",{children:e.question}),(0,Or.jsx)("span",{className:"faq-toggle ".concat(l===t?"expanded":""),children:l===t?"\u2212":"+"})]}),l===t&&(0,Or.jsx)("div",{className:"faq-answer",children:(0,Or.jsx)("p",{children:e.answer})})]},t)):(0,Or.jsxs)("div",{className:"no-results",children:[(0,Or.jsx)("div",{className:"no-results-icon",children:"\ud83d\udd0d"}),(0,Or.jsx)("h3",{children:"No results found"}),(0,Or.jsx)("p",{children:"Try adjusting your search terms or browse different categories"})]})})]})]})})}),(0,Or.jsx)("section",{className:"help-contact-section",children:(0,Or.jsxs)("div",{className:"container",children:[(0,Or.jsxs)("div",{className:"contact-header",children:[(0,Or.jsx)("h2",{children:"Still need help?"}),(0,Or.jsx)("p",{children:"Our support team is here to assist you 24/7"})]}),(0,Or.jsxs)("div",{className:"contact-options",children:[(0,Or.jsxs)("div",{className:"contact-option",children:[(0,Or.jsx)("div",{className:"contact-icon",children:"\ud83d\udcac"}),(0,Or.jsxs)("div",{className:"contact-info",children:[(0,Or.jsx)("h4",{children:"Live Chat"}),(0,Or.jsx)("p",{children:"Chat with our support team in real-time"}),(0,Or.jsx)("button",{className:"contact-btn",children:"Start Chat"})]})]}),(0,Or.jsxs)("div",{className:"contact-option",children:[(0,Or.jsx)("div",{className:"contact-icon",children:"\ud83d\udcde"}),(0,Or.jsxs)("div",{className:"contact-info",children:[(0,Or.jsx)("h4",{children:"Phone Support"}),(0,Or.jsx)("p",{children:"Call us at +91-XXXX-XXXXXX"}),(0,Or.jsx)("button",{className:"contact-btn",children:"Call Now"})]})]}),(0,Or.jsxs)("div",{className:"contact-option",children:[(0,Or.jsx)("div",{className:"contact-icon",children:"\ud83d\udce7"}),(0,Or.jsxs)("div",{className:"contact-info",children:[(0,Or.jsx)("h4",{children:"Email Support"}),(0,Or.jsx)("p",{children:"Send us an email at support@flickxir.com"}),(0,Or.jsx)("button",{className:"contact-btn",onClick:()=>u(!0),children:"Send Email"})]})]}),(0,Or.jsxs)("div",{className:"contact-option",children:[(0,Or.jsx)("div",{className:"contact-icon",children:"\ud83d\udcf1"}),(0,Or.jsxs)("div",{className:"contact-info",children:[(0,Or.jsx)("h4",{children:"WhatsApp"}),(0,Or.jsx)("p",{children:"Message us on WhatsApp for quick support"}),(0,Or.jsx)("button",{className:"contact-btn",children:"WhatsApp Us"})]})]})]})]})}),d&&(0,Or.jsx)("div",{className:"modal-overlay",children:(0,Or.jsxs)("div",{className:"contact-form-modal",children:[(0,Or.jsxs)("div",{className:"modal-header",children:[(0,Or.jsx)("h3",{children:"Contact Support"}),(0,Or.jsx)("button",{className:"close-btn",onClick:()=>u(!1),children:"\xd7"})]}),(0,Or.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),f(!0),setTimeout(()=>{f(!1),v(!0),m({name:"",email:"",subject:"",message:"",category:"general"}),u(!1),setTimeout(()=>v(!1),5e3)},2e3)},className:"contact-form",children:[(0,Or.jsxs)("div",{className:"form-row",children:[(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{children:"Name *"}),(0,Or.jsx)("input",{type:"text",value:h.name,onChange:e=>N("name",e.target.value),placeholder:"Enter your full name",required:!0})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{children:"Email *"}),(0,Or.jsx)("input",{type:"email",value:h.email,onChange:e=>N("email",e.target.value),placeholder:"your.email@example.com",required:!0})]})]}),(0,Or.jsxs)("div",{className:"form-row",children:[(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{children:"Category *"}),(0,Or.jsx)("select",{value:h.category,onChange:e=>N("category",e.target.value),required:!0,children:j.map(e=>(0,Or.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id))})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{children:"Subject *"}),(0,Or.jsx)("input",{type:"text",value:h.subject,onChange:e=>N("subject",e.target.value),placeholder:"Brief description of your issue",required:!0})]})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{children:"Message *"}),(0,Or.jsx)("textarea",{value:h.message,onChange:e=>N("message",e.target.value),placeholder:"Please provide detailed information about your question or issue...",rows:"5",maxLength:"500",required:!0}),(0,Or.jsxs)("div",{className:"char-count",children:[h.message.length,"/500 characters"]})]}),(0,Or.jsxs)("div",{className:"form-actions",children:[(0,Or.jsx)("button",{type:"button",className:"cancel-btn",onClick:()=>u(!1),disabled:p,children:"Cancel"}),(0,Or.jsx)("button",{type:"submit",className:"submit-btn",disabled:p,children:p?(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsx)("span",{className:"spinner"}),"Sending..."]}):"Send Message"})]})]})]})}),(0,Or.jsx)("button",{className:"floating-help-btn",onClick:()=>u(!0),title:"Need help? Contact us!",children:"\ud83d\udcac"})]})]})};const bn=class{static async getProducts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let t=Cr.from(Er).select("\n          *,\n          category:categories(name, description)\n        ").eq("is_active",!0);if(e.categoryId&&(t=t.eq("category_id",e.categoryId)),e.search&&(t=t.or("name.ilike.%".concat(e.search,"%,description.ilike.%").concat(e.search,"%,generic_name.ilike.%").concat(e.search,"%"))),void 0!==e.inStock&&(t=t.eq("in_stock",e.inStock)),void 0!==e.featured&&(t=t.eq("is_featured",e.featured)),void 0!==e.requiresPrescription&&(t=t.eq("requires_prescription",e.requiresPrescription)),e.sortBy){const s=e.sortOrder||"asc";t=t.order(e.sortBy,{ascending:"asc"===s})}else t=t.order("created_at",{ascending:!1});e.limit&&(t=t.limit(e.limit)),e.offset&&(t=t.range(e.offset,e.offset+(e.limit||10)-1));const{data:s,error:r}=await t;if(r)throw r;return{data:s,error:null}}catch(t){return console.error("\u274c ProductService: Get products error:",t),{data:null,error:t}}}static async getProductById(e){try{const{data:t,error:s}=await Cr.from(Er).select("\n          *,\n          category:categories(name, description),\n          reviews:product_reviews(\n            id,\n            rating,\n            review_text,\n            created_at,\n            user:profiles(name)\n          )\n        ").eq("id",e).eq("is_active",!0).single();if(s)throw console.error("\u274c ProductService: Get product by ID error:",s),s;return{data:t,error:null}}catch(t){return console.error("\u274c ProductService: Get product by ID error:",t),{data:null,error:t}}}static async getFeaturedProducts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;try{const{data:t,error:s}=await Cr.from(Er).select("\n          *,\n          category:categories(name)\n        ").eq("is_featured",!0).eq("is_active",!0).eq("in_stock",!0).order("created_at",{ascending:!1}).limit(e);if(s)throw console.error("\u274c ProductService: Get featured products error:",s),s;return{data:t,error:null}}catch(t){return console.error("\u274c ProductService: Get featured products error:",t),{data:null,error:t}}}static async searchProducts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const{data:s,error:r}=await Cr.from(Er).select("\n          *,\n          category:categories(name)\n        ").or("name.ilike.%".concat(e,"%,description.ilike.%").concat(e,"%,generic_name.ilike.%").concat(e,"%,tags.cs.{").concat(e,"}")).eq("is_active",!0).order("name").limit(t.limit||20);if(r)throw console.error("\u274c ProductService: Search products error:",r),r;return{data:s,error:null}}catch(s){return console.error("\u274c ProductService: Search products error:",s),{data:null,error:s}}}static async getProductsByCategory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const{data:s,error:r}=await Cr.from(Er).select("\n          *,\n          category:categories(name)\n        ").eq("category_id",e).eq("is_active",!0).order("name").limit(t.limit||50);if(r)throw console.error("\u274c ProductService: Get products by category error:",r),r;return{data:s,error:null}}catch(s){return console.error("\u274c ProductService: Get products by category error:",s),{data:null,error:s}}}static async createProduct(e){try{const{data:t,error:s}=await Cr.from(Er).insert([e]).select().single();if(s)throw console.error("\u274c ProductService: Create product error:",s),s;return{data:t,error:null}}catch(t){return console.error("\u274c ProductService: Create product error:",t),{data:null,error:t}}}static async updateProduct(e,t){try{const{data:s,error:r}=await Cr.from(Er).update(t).eq("id",e).select().single();if(r)throw console.error("\u274c ProductService: Update product error:",r),r;return{data:s,error:null}}catch(s){return console.error("\u274c ProductService: Update product error:",s),{data:null,error:s}}}static async deleteProduct(e){try{const{error:t}=await Cr.from(Er).delete().eq("id",e);if(t)throw console.error("\u274c ProductService: Delete product error:",t),t;return{error:null}}catch(t){return console.error("\u274c ProductService: Delete product error:",t),{error:t}}}static async updateProductStock(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{const{data:r,error:n}=await this.getProductById(e);if(n)throw n;const a=s?(r.stock_quantity||0)+t:Math.max(0,(r.stock_quantity||0)-t),{data:i,error:o}=await Cr.from(Er).update({stock_quantity:a,in_stock:a>0}).eq("id",e).select().single();if(o)throw console.error("\u274c ProductService: Update stock error:",o),o;return{data:i,error:null}}catch(r){return console.error("\u274c ProductService: Update stock error:",r),{data:null,error:r}}}static async getCategories(){try{const{data:e,error:t}=await Cr.from("categories").select("*").eq("is_active",!0).order("sort_order").order("name");if(t)throw console.error("\u274c ProductService: Get categories error:",t),t;return{data:e,error:null}}catch(e){return console.error("\u274c ProductService: Get categories error:",e),{data:null,error:e}}}static async getCategoryById(e){try{const{data:t,error:s}=await Cr.from("categories").select("*").eq("id",e).eq("is_active",!0).single();if(s)throw console.error("\u274c ProductService: Get category by ID error:",s),s;return{data:t,error:null}}catch(t){return console.error("\u274c ProductService: Get category by ID error:",t),{data:null,error:t}}}static async addProductReview(e){try{const{data:t,error:s}=await Cr.from("product_reviews").insert([e]).select().single();if(s)throw console.error("\u274c ProductService: Add review error:",s),s;return{data:t,error:null}}catch(t){return console.error("\u274c ProductService: Add review error:",t),{data:null,error:t}}}static async getProductReviews(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let s=Cr.from("product_reviews").select("\n          *,\n          user:profiles(name)\n        ").eq("product_id",e).order("created_at",{ascending:!1});t.limit&&(s=s.limit(t.limit));const{data:r,error:n}=await s;if(n)throw console.error("\u274c ProductService: Get reviews error:",n),n;return{data:r,error:null}}catch(s){return console.error("\u274c ProductService: Get reviews error:",s),{data:null,error:s}}}static async getProductStats(){try{const{data:e,error:t}=await Cr.from(Er).select("in_stock, is_active, requires_prescription");if(t)throw console.error("\u274c ProductService: Get stats error:",t),t;return{data:{total:e.length,inStock:e.filter(e=>e.in_stock).length,active:e.filter(e=>e.is_active).length,prescriptionRequired:e.filter(e=>e.requires_prescription).length,overTheCounter:e.filter(e=>!e.requires_prescription).length},error:null}}catch(e){return console.error("\u274c ProductService: Get stats error:",e),{data:null,error:e}}}static async checkProductAvailability(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{const{data:s,error:r}=await Cr.from(Er).select("in_stock, stock_quantity").eq("id",e).single();if(r)throw console.error("\u274c ProductService: Check availability error:",r),r;return{data:s.in_stock&&(s.stock_quantity||0)>=t,error:null}}catch(s){return console.error("\u274c ProductService: Check availability error:",s),{data:!1,error:s}}}};const wn=class{static async getUserCart(e){try{let{data:t,error:s}=await Cr.from("cart").select("*").eq("user_id",e).single();if(s&&"PGRST116"!==s.code)throw console.error("\u274c OrderService: Get cart error:",s),s;if(!t){const{data:s,error:r}=await Cr.from("cart").insert([{user_id:e}]).select().single();if(r)throw console.error("\u274c OrderService: Create cart error:",r),r;t=s}const{data:r,error:n}=await Cr.from("cart_items").select("\n          *,\n          product:products(\n            id,\n            name,\n            price,\n            mrp,\n            image_urls,\n            in_stock,\n            stock_quantity,\n            requires_prescription\n          )\n        ").eq("cart_id",t.id);if(n)throw console.error("\u274c OrderService: Get cart items error:",n),n;return{data:Fr(Fr({},t),{},{items:r||[]}),error:null}}catch(t){return console.error("\u274c OrderService: Get user cart error:",t),{data:null,error:t}}}static async addToCart(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;try{const{data:r,error:n}=await bn.checkProductAvailability(t,s);if(n)throw n;if(!r)throw new Error("Product is not available in requested quantity");const{data:a,error:i}=await this.getUserCart(e);if(i)throw i;const o=a.items.find(e=>e.product_id===t);if(o){const e=o.quantity+s,{data:t,error:r}=await Cr.from("cart_items").update({quantity:e}).eq("id",o.id).select().single();if(r)throw console.error("\u274c OrderService: Update cart item error:",r),r;return{data:t,error:null}}{const{data:e,error:r}=await Cr.from("cart_items").insert([{cart_id:a.id,product_id:t,quantity:s}]).select().single();if(r)throw console.error("\u274c OrderService: Add cart item error:",r),r;return{data:e,error:null}}}catch(r){return console.error("\u274c OrderService: Add to cart error:",r),{data:null,error:r}}}static async updateCartItemQuantity(e,t){try{if(t<=0)return await this.removeFromCart(e);const{data:s,error:r}=await Cr.from("cart_items").update({quantity:t}).eq("id",e).select().single();if(r)throw console.error("\u274c OrderService: Update cart item quantity error:",r),r;return{data:s,error:null}}catch(s){return console.error("\u274c OrderService: Update cart item quantity error:",s),{data:null,error:s}}}static async removeFromCart(e){try{const{error:t}=await Cr.from("cart_items").delete().eq("id",e);if(t)throw console.error("\u274c OrderService: Remove cart item error:",t),t;return{error:null}}catch(t){return console.error("\u274c OrderService: Remove cart item error:",t),{error:t}}}static async clearCart(e){try{const{data:t,error:s}=await this.getUserCart(e);if(s)throw s;const{error:r}=await Cr.from("cart_items").delete().eq("cart_id",t.id);if(r)throw console.error("\u274c OrderService: Clear cart items error:",r),r;return{error:null}}catch(t){return console.error("\u274c OrderService: Clear cart error:",t),{error:t}}}static async createOrderFromPayment(e,t){try{const{data:s,error:r}=await Cr.from("orders").insert([{user_id:e,order_number:t.order_number,total_amount:t.total_amount,discount_amount:t.discount_amount||0,final_amount:t.final_amount,shipping_address:t.shipping_address,billing_address:t.billing_address||t.shipping_address,payment_status:t.payment_status,payment_method:t.payment_method,status:t.status,notes:t.notes}]).select().single();if(r)throw console.error("\u274c OrderService: Create order error:",r),r;return{data:s,error:null}}catch(s){return console.error("\u274c OrderService: Create order error:",s),{data:null,error:s}}}static async createOrder(e,t){try{const{data:s,error:r}=await this.getUserCart(e);if(r)throw r;if(!s.items||0===s.items.length)throw new Error("Cart is empty");let n=0,a=0;for(const e of s.items){n+=e.product.price*e.quantity,e.product.mrp&&e.product.mrp>e.product.price&&(a+=(e.product.mrp-e.product.price)*e.quantity)}const i=n,{data:o,error:l}=await Cr.from("orders").insert([{user_id:e,total_amount:n,discount_amount:a,final_amount:i,shipping_address:t.shippingAddress||"",billing_address:t.billingAddress||t.shippingAddress||"",payment_method:t.paymentMethod||"pending",notes:t.notes||""}]).select().single();if(l)throw console.error("\u274c OrderService: Create order error:",l),l;const c=s.items.map(e=>({order_id:o.id,product_id:e.product_id,product_name:e.product.name,quantity:e.quantity,unit_price:e.product.price,total_price:e.product.price*e.quantity})),{error:d}=await Cr.from("order_items").insert(c);if(d)throw console.error("\u274c OrderService: Create order items error:",d),d;for(const e of s.items)await bn.updateProductStock(e.product_id,e.quantity,!1);return await this.clearCart(e),{data:o,error:null}}catch(s){return console.error("\u274c OrderService: Create order error:",s),{data:null,error:s}}}static async getUserOrders(e){try{const{data:t,error:s}=await Cr.from("orders").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(s)throw console.error("\u274c OrderService: Error fetching user orders:",s),s;return t}catch(t){throw console.error("\u274c OrderService: Exception in getUserOrders:",t),t}}static async getOrderById(e,t){try{const{data:s,error:r}=await Cr.from("orders").select("\n          *,\n          items:order_items(\n            *,\n            product:products(name, image_urls, description)\n          )\n        ").eq("id",e).eq("user_id",t).single();if(r)throw console.error("\u274c OrderService: Get order by ID error:",r),r;return{data:s,error:null}}catch(s){return console.error("\u274c OrderService: Get order by ID error:",s),{data:null,error:s}}}static async updateOrderStatus(e,t){try{const{data:s,error:r}=await Cr.from("orders").update({status:t}).eq("id",e).select().single();if(r)throw console.error("\u274c OrderService: Update order status error:",r),r;return{data:s,error:null}}catch(s){return console.error("\u274c OrderService: Update order status error:",s),{data:null,error:s}}}static async cancelOrder(e,t){try{const{data:s,error:r}=await this.getOrderById(e,t);if(r)throw r;if(!["pending","confirmed"].includes(s.status))throw new Error("Order cannot be cancelled in current status");const{data:n,error:a}=await this.updateOrderStatus(e,"cancelled");if(a)throw a;for(const e of s.items)await bn.updateProductStock(e.product_id,e.quantity,!0);return{data:n,error:null}}catch(s){return console.error("\u274c OrderService: Cancel order error:",s),{data:null,error:s}}}static async getOrderTracking(e,t){try{const{data:s,error:r}=await this.getOrderById(e,t);if(r)throw r;return{data:{orderId:s.id,orderNumber:s.order_number,status:s.status,timeline:[{status:"pending",label:"Order Placed",description:"Your order has been placed successfully",timestamp:s.created_at,completed:!0},{status:"confirmed",label:"Order Confirmed",description:"Your order has been confirmed and is being processed",timestamp:"confirmed"===s.status||"processing"===s.status||"shipped"===s.status||"delivered"===s.status?s.updated_at:null,completed:["confirmed","processing","shipped","delivered"].includes(s.status)},{status:"processing",label:"Processing",description:"Your order is being prepared for shipping",timestamp:"processing"===s.status||"shipped"===s.status||"delivered"===s.status?s.updated_at:null,completed:["processing","shipped","delivered"].includes(s.status)},{status:"shipped",label:"Shipped",description:"Your order has been shipped and is on its way",timestamp:"shipped"===s.status||"delivered"===s.status?s.updated_at:null,completed:["shipped","delivered"].includes(s.status)},{status:"delivered",label:"Delivered",description:"Your order has been delivered successfully",timestamp:"delivered"===s.status?s.updated_at:null,completed:"delivered"===s.status}]},error:null}}catch(s){return console.error("\u274c OrderService: Get order tracking error:",s),{data:null,error:s}}}static cartTotal(e){if(!e||!e.items)return{subtotal:0,discount:0,total:0};let t=0,s=0;for(const r of e.items){t+=r.product.price*r.quantity,r.product.mrp&&r.product.mrp>r.product.price&&(s+=(r.product.mrp-r.product.price)*r.quantity)}return{subtotal:t,discount:s,total:t}}static async validateCartForCheckout(e){const t=[];if(!e||!e.items||0===e.items.length)return t.push("Cart is empty"),{valid:!1,errors:t};for(const s of e.items){const{data:e,error:r}=await bn.checkProductAvailability(s.product_id,s.quantity);r?t.push("Error checking availability for ".concat(s.product.name)):(e||t.push("".concat(s.product.name," is not available in requested quantity")),s.product.requires_prescription&&t.push("".concat(s.product.name," requires a prescription")))}return{valid:0===t.length,errors:t}}},Nn=()=>{const[e,s]=(0,t.useState)(""),[r,n]=(0,t.useState)(null),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(""),c=(ee(),X());(0,t.useEffect)(()=>{window.scrollTo(0,0)},[]),(0,t.useEffect)(()=>{const e=new URLSearchParams(c.search).get("order_id");e&&(s(e),setTimeout(()=>{d(e)},100))},[c.search]);const d=async e=>{i(!0),l(""),n(null),setTimeout(()=>{const t=u[e];t?(n(t),l("")):(l("Order not found. Please check your Order ID and try again."),n(null)),i(!1)},1500)},u={ORD123456:{id:"ORD123456",status:"in_transit",orderDate:"2024-01-15",estimatedDelivery:"2024-01-18",currentLocation:"Mumbai Distribution Center",items:[{name:"Paracetamol 500mg",quantity:2,price:50},{name:"Vitamin C 1000mg",quantity:1,price:120}],total:220,shippingAddress:"123 Main Street, Andheri West, Mumbai - 400058",trackingSteps:[{status:"order_placed",label:"Order Placed",date:"2024-01-15",time:"10:30 AM",completed:!0},{status:"confirmed",label:"Order Confirmed",date:"2024-01-15",time:"11:15 AM",completed:!0},{status:"packed",label:"Packed",date:"2024-01-16",time:"09:45 AM",completed:!0},{status:"in_transit",label:"In Transit",date:"2024-01-17",time:"08:20 AM",completed:!0,current:!0},{status:"out_for_delivery",label:"Out for Delivery",date:"2024-01-18",time:"Expected",completed:!1},{status:"delivered",label:"Delivered",date:"2024-01-18",time:"Expected",completed:!1}]},ORD789012:{id:"ORD789012",status:"delivered",orderDate:"2024-01-10",estimatedDelivery:"2024-01-13",deliveredDate:"2024-01-13",currentLocation:"Delivered",items:[{name:"Crocin Advance",quantity:1,price:45},{name:"Dolo 650mg",quantity:3,price:90}],total:135,shippingAddress:"456 Park Avenue, Bandra East, Mumbai - 400051",trackingSteps:[{status:"order_placed",label:"Order Placed",date:"2024-01-10",time:"02:15 PM",completed:!0},{status:"confirmed",label:"Order Confirmed",date:"2024-01-10",time:"02:45 PM",completed:!0},{status:"packed",label:"Packed",date:"2024-01-11",time:"10:30 AM",completed:!0},{status:"in_transit",label:"In Transit",date:"2024-01-12",time:"07:15 AM",completed:!0},{status:"out_for_delivery",label:"Out for Delivery",date:"2024-01-13",time:"09:00 AM",completed:!0},{status:"delivered",label:"Delivered",date:"2024-01-13",time:"03:30 PM",completed:!0,current:!0}]}},h=async()=>{e.trim()?(i(!0),l(""),n(null),setTimeout(()=>{const t=u[e.toUpperCase()];t?(n(t),l("")):(l("Order not found. Please check your Order ID and try again."),n(null)),i(!1)},1500)):l("Please enter a valid Order ID")},m=e=>new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"});return(0,Or.jsxs)("div",{className:"order-tracking-page",children:[(0,Or.jsx)(Gr,{}),(0,Or.jsxs)("main",{className:"order-tracking-main",children:[(0,Or.jsxs)("section",{className:"tracking-hero",children:[(0,Or.jsx)("div",{className:"hero-background",children:(0,Or.jsx)("div",{className:"hero-pattern"})}),(0,Or.jsxs)("div",{className:"hero-content",children:[(0,Or.jsx)("div",{className:"hero-icon",children:(0,Or.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Or.jsx)("path",{d:"M16 3h5v5"}),(0,Or.jsx)("path",{d:"M8 3H3v5"}),(0,Or.jsx)("path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3"}),(0,Or.jsx)("path",{d:"M21 3l-7.828 7.828A4 4 0 0 0 12 13.657V22"})]})}),(0,Or.jsx)("h1",{children:"Track Your Order"}),(0,Or.jsx)("p",{children:"Get real-time updates on your medicine delivery"})]})]}),(0,Or.jsx)("section",{className:"tracking-search",children:(0,Or.jsx)("div",{className:"search-container",children:(0,Or.jsxs)("div",{className:"search-card",children:[(0,Or.jsx)("h2",{children:"Enter Order Details"}),(0,Or.jsx)("p",{children:"Enter your Order ID to track your package"}),(0,Or.jsxs)("div",{className:"search-form",children:[(0,Or.jsxs)("div",{className:"input-group",children:[(0,Or.jsx)("div",{className:"input-icon",children:(0,Or.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Or.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,Or.jsx)("path",{d:"M21 21l-4.35-4.35"})]})}),(0,Or.jsx)("input",{type:"text",value:e,onChange:e=>s(e.target.value),onKeyPress:e=>{"Enter"===e.key&&h()},placeholder:"Enter Order ID (e.g., ORD123456)",className:"track-input",disabled:a}),(0,Or.jsx)("button",{onClick:h,className:"track-button",disabled:a||!e.trim(),children:a?(0,Or.jsx)("div",{className:"loading-spinner"}):(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Or.jsx)("path",{d:"M16 3h5v5"}),(0,Or.jsx)("path",{d:"M8 3H3v5"}),(0,Or.jsx)("path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3"}),(0,Or.jsx)("path",{d:"M21 3l-7.828 7.828A4 4 0 0 0 12 13.657V22"})]}),"Track Order"]})})]}),o&&(0,Or.jsxs)("div",{className:"error-message",children:[(0,Or.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Or.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,Or.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,Or.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),o]})]}),(0,Or.jsxs)("div",{className:"demo-orders",children:[(0,Or.jsx)("p",{children:"Try these demo Order IDs:"}),(0,Or.jsxs)("div",{className:"demo-buttons",children:[(0,Or.jsx)("button",{onClick:()=>s("ORD123456"),className:"demo-button",children:"ORD123456 (In Transit)"}),(0,Or.jsx)("button",{onClick:()=>s("ORD789012"),className:"demo-button",children:"ORD789012 (Delivered)"})]})]})]})})}),r&&(0,Or.jsx)("section",{className:"order-details",children:(0,Or.jsxs)("div",{className:"details-container",children:[(0,Or.jsxs)("div",{className:"order-summary-card",children:[(0,Or.jsxs)("div",{className:"card-header",children:[(0,Or.jsx)("h3",{children:"Order Summary"}),(0,Or.jsx)("div",{className:"order-status",style:{backgroundColor:(e=>{switch(e){case"delivered":return"#10b981";case"in_transit":return"#3b82f6";case"out_for_delivery":return"#f59e0b";case"cancelled":return"#ef4444";default:return"#6b7280"}})(r.status)},children:r.status.replace("_"," ").toUpperCase()})]}),(0,Or.jsxs)("div",{className:"order-info",children:[(0,Or.jsxs)("div",{className:"info-row",children:[(0,Or.jsx)("span",{className:"label",children:"Order ID:"}),(0,Or.jsx)("span",{className:"value",children:r.id})]}),(0,Or.jsxs)("div",{className:"info-row",children:[(0,Or.jsx)("span",{className:"label",children:"Order Date:"}),(0,Or.jsx)("span",{className:"value",children:m(r.orderDate)})]}),(0,Or.jsxs)("div",{className:"info-row",children:[(0,Or.jsx)("span",{className:"label",children:"Total Amount:"}),(0,Or.jsxs)("span",{className:"value",children:["\u20b9",r.total]})]}),(0,Or.jsxs)("div",{className:"info-row",children:[(0,Or.jsx)("span",{className:"label",children:"Delivery Address:"}),(0,Or.jsx)("span",{className:"value",children:r.shippingAddress})]}),"delivered"===r.status?(0,Or.jsxs)("div",{className:"info-row",children:[(0,Or.jsx)("span",{className:"label",children:"Delivered On:"}),(0,Or.jsx)("span",{className:"value delivered",children:m(r.deliveredDate)})]}):(0,Or.jsxs)("div",{className:"info-row",children:[(0,Or.jsx)("span",{className:"label",children:"Expected Delivery:"}),(0,Or.jsx)("span",{className:"value",children:m(r.estimatedDelivery)})]})]}),(0,Or.jsxs)("div",{className:"order-items",children:[(0,Or.jsx)("h4",{children:"Items Ordered"}),r.items.map((e,t)=>(0,Or.jsxs)("div",{className:"item-row",children:[(0,Or.jsx)("span",{className:"item-name",children:e.name}),(0,Or.jsxs)("span",{className:"item-details",children:["Qty: ",e.quantity," \xd7 \u20b9",e.price]})]},t))]})]}),(0,Or.jsxs)("div",{className:"tracking-timeline-card",children:[(0,Or.jsxs)("div",{className:"card-header",children:[(0,Or.jsx)("h3",{children:"Tracking Timeline"}),(0,Or.jsxs)("div",{className:"current-location",children:[(0,Or.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Or.jsx)("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),(0,Or.jsx)("circle",{cx:"12",cy:"10",r:"3"})]}),"Current: ",r.currentLocation]})]}),(0,Or.jsx)("div",{className:"timeline",children:r.trackingSteps.map((e,t)=>{return(0,Or.jsxs)("div",{className:"timeline-item ".concat(e.completed?"completed":"pending"," ").concat(e.current?"current":""),children:[(0,Or.jsxs)("div",{className:"timeline-marker",children:[(e.status,s=e.completed,n=e.current,s?(0,Or.jsx)("div",{className:"status-icon completed ".concat(n?"current":""),children:(0,Or.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Or.jsx)("polyline",{points:"20,6 9,17 4,12"})})}):(0,Or.jsx)("div",{className:"status-icon pending"})),t<r.trackingSteps.length-1&&(0,Or.jsx)("div",{className:"timeline-line ".concat(e.completed?"completed":"pending")})]}),(0,Or.jsxs)("div",{className:"timeline-content",children:[(0,Or.jsx)("h4",{children:e.label}),(0,Or.jsxs)("div",{className:"timeline-meta",children:[(0,Or.jsx)("span",{className:"date",children:m(e.date)}),(0,Or.jsx)("span",{className:"time",children:e.time})]})]})]},t);var s,n})})]})]})}),(0,Or.jsx)("section",{className:"tracking-help",children:(0,Or.jsx)("div",{className:"help-container",children:(0,Or.jsxs)("div",{className:"help-card",children:[(0,Or.jsx)("h3",{children:"Need Help?"}),(0,Or.jsx)("p",{children:"If you have any questions about your order, we're here to help!"}),(0,Or.jsxs)("div",{className:"help-actions",children:[(0,Or.jsxs)("a",{href:"/help-center",className:"help-button",children:[(0,Or.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Or.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,Or.jsx)("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),(0,Or.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),"Help Center"]}),(0,Or.jsxs)("a",{href:"tel:+911234567890",className:"help-button",children:[(0,Or.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Or.jsx)("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Call Support"]})]})]})})})]}),(0,Or.jsx)(Yr,{})]})},kn=()=>{const[e,s]=(0,t.useState)("delivery"),[r,n]=(0,t.useState)("");(0,t.useEffect)(()=>{window.scrollTo(0,0)},[]);return(0,Or.jsxs)("div",{className:"shipping-page",children:[(0,Or.jsx)(Gr,{}),(0,Or.jsxs)("main",{className:"shipping-main",children:[(0,Or.jsxs)("section",{className:"shipping-hero",children:[(0,Or.jsx)("div",{className:"hero-background",children:(0,Or.jsx)("div",{className:"hero-pattern"})}),(0,Or.jsxs)("div",{className:"hero-content",children:[(0,Or.jsx)("div",{className:"hero-icon",children:(0,Or.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Or.jsx)("path",{d:"M16 3h5v5"}),(0,Or.jsx)("path",{d:"M8 3H3v5"}),(0,Or.jsx)("path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3"}),(0,Or.jsx)("path",{d:"M21 3l-7.828 7.828A4 4 0 0 0 12 13.657V22"})]})}),(0,Or.jsx)("h1",{children:"Shipping & Delivery"}),(0,Or.jsx)("p",{children:"Fast, secure, and reliable medicine delivery across India"}),(0,Or.jsxs)("div",{className:"hero-stats",children:[(0,Or.jsxs)("div",{className:"stat-item",children:[(0,Or.jsx)("div",{className:"stat-number",children:"24-48"}),(0,Or.jsx)("div",{className:"stat-label",children:"Hours Delivery"})]}),(0,Or.jsxs)("div",{className:"stat-item",children:[(0,Or.jsx)("div",{className:"stat-number",children:"50+"}),(0,Or.jsx)("div",{className:"stat-label",children:"Cities Covered"})]}),(0,Or.jsxs)("div",{className:"stat-item",children:[(0,Or.jsx)("div",{className:"stat-number",children:"99.5%"}),(0,Or.jsx)("div",{className:"stat-label",children:"On-time Delivery"})]})]})]})]}),(0,Or.jsxs)("div",{className:"shipping-container",children:[(0,Or.jsxs)("div",{className:"shipping-tabs",children:[(0,Or.jsxs)("button",{className:"tab-button ".concat("delivery"===e?"active":""),onClick:()=>s("delivery"),children:[(0,Or.jsx)("span",{className:"tab-icon",children:"\ud83d\ude9a"}),"Delivery Options"]}),(0,Or.jsxs)("button",{className:"tab-button ".concat("coverage"===e?"active":""),onClick:()=>s("coverage"),children:[(0,Or.jsx)("span",{className:"tab-icon",children:"\ud83d\udccd"}),"Service Areas"]}),(0,Or.jsxs)("button",{className:"tab-button ".concat("policies"===e?"active":""),onClick:()=>s("policies"),children:[(0,Or.jsx)("span",{className:"tab-icon",children:"\ud83d\udccb"}),"Shipping Policies"]})]}),"delivery"===e&&(0,Or.jsxs)("div",{className:"tab-content",children:[(0,Or.jsxs)("div",{className:"section-header",children:[(0,Or.jsx)("h2",{children:"Choose Your Delivery Option"}),(0,Or.jsx)("p",{children:"Select the delivery method that best suits your needs"})]}),(0,Or.jsx)("div",{className:"delivery-options",children:[{id:"standard",icon:"\ud83d\ude9a",title:"Standard Delivery",time:"24-48 Hours",price:"\u20b949",description:"Regular medicines and healthcare products",features:["Order tracking","SMS updates","Contactless delivery"]},{id:"express",icon:"\u26a1",title:"Express Delivery",time:"4-6 Hours",price:"\u20b999",description:"Urgent medicine requirements",features:["Priority processing","Real-time tracking","Dedicated support"]},{id:"coldchain",icon:"\u2744\ufe0f",title:"Cold Chain",time:"24-48 Hours",price:"\u20b9149",description:"Temperature-sensitive medicines",features:["Temperature monitoring","Insulated packaging","Quality assurance"]}].map(e=>(0,Or.jsxs)("div",{className:"delivery-card",children:[(0,Or.jsxs)("div",{className:"delivery-header",children:[(0,Or.jsx)("div",{className:"delivery-icon",children:e.icon}),(0,Or.jsxs)("div",{className:"delivery-info",children:[(0,Or.jsx)("h3",{children:e.title}),(0,Or.jsx)("div",{className:"delivery-time",children:e.time})]}),(0,Or.jsx)("div",{className:"delivery-price",children:e.price})]}),(0,Or.jsx)("p",{className:"delivery-description",children:e.description}),(0,Or.jsx)("div",{className:"delivery-features",children:e.features.map((e,t)=>(0,Or.jsxs)("div",{className:"feature-item",children:[(0,Or.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Or.jsx)("polyline",{points:"20,6 9,17 4,12"})}),e]},t))})]},e.id))}),(0,Or.jsxs)("div",{className:"delivery-note",children:[(0,Or.jsx)("div",{className:"note-icon",children:"\ud83d\udca1"}),(0,Or.jsxs)("div",{className:"note-content",children:[(0,Or.jsx)("h4",{children:"Important Note"}),(0,Or.jsx)("p",{children:"Delivery times may vary based on location, weather conditions, and product availability. Cold chain medicines require special handling and may take additional time."})]})]})]}),"coverage"===e&&(0,Or.jsxs)("div",{className:"tab-content",children:[(0,Or.jsxs)("div",{className:"section-header",children:[(0,Or.jsx)("h2",{children:"Service Coverage Areas"}),(0,Or.jsx)("p",{children:"We deliver medicines across major Indian cities with expanding coverage"})]}),(0,Or.jsx)("div",{className:"city-search",children:(0,Or.jsxs)("div",{className:"search-container",children:[(0,Or.jsx)("div",{className:"search-icon",children:"\ud83d\udd0d"}),(0,Or.jsx)("input",{type:"text",placeholder:"Search your city...",value:r,onChange:e=>n(e.target.value),className:"city-search-input"})]})}),(0,Or.jsx)("div",{className:"cities-grid",children:[{name:"Mumbai",zones:15,deliveryTime:"4-24 hours"},{name:"Delhi",zones:12,deliveryTime:"4-24 hours"},{name:"Bangalore",zones:10,deliveryTime:"6-24 hours"},{name:"Chennai",zones:8,deliveryTime:"6-24 hours"},{name:"Hyderabad",zones:7,deliveryTime:"6-24 hours"},{name:"Pune",zones:6,deliveryTime:"8-24 hours"},{name:"Kolkata",zones:5,deliveryTime:"8-24 hours"},{name:"Ahmedabad",zones:4,deliveryTime:"12-24 hours"}].filter(e=>e.name.toLowerCase().includes(r.toLowerCase())).map((e,t)=>(0,Or.jsxs)("div",{className:"city-card",children:[(0,Or.jsxs)("div",{className:"city-header",children:[(0,Or.jsx)("h3",{children:e.name}),(0,Or.jsx)("div",{className:"city-status",children:"\u2705 Available"})]}),(0,Or.jsxs)("div",{className:"city-details",children:[(0,Or.jsxs)("div",{className:"city-stat",children:[(0,Or.jsx)("span",{className:"stat-label",children:"Service Zones:"}),(0,Or.jsx)("span",{className:"stat-value",children:e.zones})]}),(0,Or.jsxs)("div",{className:"city-stat",children:[(0,Or.jsx)("span",{className:"stat-label",children:"Delivery Time:"}),(0,Or.jsx)("span",{className:"stat-value",children:e.deliveryTime})]})]})]},t))}),(0,Or.jsxs)("div",{className:"expansion-notice",children:[(0,Or.jsx)("div",{className:"expansion-icon",children:"\ud83d\ude80"}),(0,Or.jsxs)("div",{className:"expansion-content",children:[(0,Or.jsx)("h4",{children:"Expanding Soon"}),(0,Or.jsx)("p",{children:"We're rapidly expanding to more cities. Don't see your city? Contact us to know when we'll be available in your area."}),(0,Or.jsxs)("button",{className:"expansion-button",children:[(0,Or.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Or.jsx)("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),(0,Or.jsx)("polyline",{points:"22,6 12,13 2,6"})]}),"Request Coverage"]})]})]})]}),"policies"===e&&(0,Or.jsxs)("div",{className:"tab-content",children:[(0,Or.jsxs)("div",{className:"section-header",children:[(0,Or.jsx)("h2",{children:"Shipping Policies & Guidelines"}),(0,Or.jsx)("p",{children:"Everything you need to know about our shipping process"})]}),(0,Or.jsx)("div",{className:"policies-grid",children:[{icon:"\ud83d\udce6",title:"Free Shipping",description:"On orders above \u20b9499",details:"Applicable on standard delivery across all serviceable areas"},{icon:"\ud83d\udd12",title:"Secure Packaging",description:"Tamper-proof & discreet",details:"All medicines packed in sealed, unmarked packages for privacy"},{icon:"\ud83d\udcf1",title:"Real-time Tracking",description:"Track your order live",details:"Get SMS and app notifications at every step of delivery"},{icon:"\ud83c\udfe5",title:"Prescription Verification",description:"Licensed pharmacist review",details:"All prescriptions verified by qualified pharmacists before dispatch"}].map((e,t)=>(0,Or.jsxs)("div",{className:"policy-card",children:[(0,Or.jsx)("div",{className:"policy-icon",children:e.icon}),(0,Or.jsx)("h3",{children:e.title}),(0,Or.jsx)("p",{className:"policy-description",children:e.description}),(0,Or.jsx)("p",{className:"policy-details",children:e.details})]},t))}),(0,Or.jsxs)("div",{className:"shipping-guidelines",children:[(0,Or.jsx)("h3",{children:"Shipping Guidelines"}),(0,Or.jsxs)("div",{className:"guidelines-grid",children:[(0,Or.jsxs)("div",{className:"guideline-section",children:[(0,Or.jsx)("h4",{children:"\ud83d\udccb Order Processing"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"Orders placed before 6 PM are processed the same day"}),(0,Or.jsx)("li",{children:"Prescription verification may take 2-4 hours"}),(0,Or.jsx)("li",{children:"Out-of-stock items will be notified within 2 hours"})]})]}),(0,Or.jsxs)("div",{className:"guideline-section",children:[(0,Or.jsx)("h4",{children:"\ud83d\udce6 Packaging Standards"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"Tamper-evident sealing for all medicines"}),(0,Or.jsx)("li",{children:"Temperature-controlled packaging for sensitive items"}),(0,Or.jsx)("li",{children:"Discreet packaging to maintain privacy"})]})]}),(0,Or.jsxs)("div",{className:"guideline-section",children:[(0,Or.jsx)("h4",{children:"\ud83d\ude9a Delivery Process"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"SMS and email notifications at each step"}),(0,Or.jsx)("li",{children:"Contactless delivery available"}),(0,Or.jsx)("li",{children:"ID verification required for certain medicines"})]})]}),(0,Or.jsxs)("div",{className:"guideline-section",children:[(0,Or.jsx)("h4",{children:"\u2744\ufe0f Special Handling"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"Cold chain medicines in insulated boxes"}),(0,Or.jsx)("li",{children:"Temperature monitoring throughout transit"}),(0,Or.jsx)("li",{children:"Immediate delivery upon arrival"})]})]})]})]})]}),(0,Or.jsx)("div",{className:"shipping-help",children:(0,Or.jsxs)("div",{className:"help-card",children:[(0,Or.jsx)("h3",{children:"Need Help with Shipping?"}),(0,Or.jsx)("p",{children:"Our customer support team is available 24/7 to assist you with any shipping-related queries."}),(0,Or.jsxs)("div",{className:"help-actions",children:[(0,Or.jsxs)("a",{href:"/help-center",className:"help-button primary",children:[(0,Or.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Or.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,Or.jsx)("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),(0,Or.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),"Help Center"]}),(0,Or.jsxs)("a",{href:"tel:+911234567890",className:"help-button secondary",children:[(0,Or.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Or.jsx)("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Call Support"]}),(0,Or.jsxs)("a",{href:"/order-tracking",className:"help-button secondary",children:[(0,Or.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Or.jsx)("path",{d:"M16 3h5v5"}),(0,Or.jsx)("path",{d:"M8 3H3v5"}),(0,Or.jsx)("path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3"}),(0,Or.jsx)("path",{d:"M21 3l-7.828 7.828A4 4 0 0 0 12 13.657V22"})]}),"Track Order"]})]})]})})]})]})]})},_n=()=>{const[e,s]=(0,t.useState)(""),[r,n]=(0,t.useState)(null);(0,t.useEffect)(()=>{window.scrollTo(0,0);const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&s(e.target.id)})},{rootMargin:"-20% 0px -70% 0px"});return document.querySelectorAll(".return-section[id]").forEach(t=>e.observe(t)),()=>e.disconnect()},[]);const a=[{step:1,title:"Initiate Return",description:"Go to your Orders section and select the item you want to return",icon:"\ud83d\udcf1",details:"Available 24/7 through your account dashboard"},{step:2,title:"Upload Evidence",description:"Provide photos of the product, packaging, and invoice",icon:"\ud83d\udcf8",details:"Clear images help us process your request faster"},{step:3,title:"Verification",description:"Our team reviews your request within 2-4 hours",icon:"\ud83d\udd0d",details:"Pharmacist and quality team verification"},{step:4,title:"Resolution",description:"Pickup arranged or instant refund processed",icon:"\u2705",details:"Refund or replacement as per your preference"}];return(0,Or.jsxs)("div",{className:"return-policy-page",children:[(0,Or.jsx)(Gr,{}),(0,Or.jsxs)("main",{className:"return-main",children:[(0,Or.jsxs)("section",{className:"return-hero",children:[(0,Or.jsx)("div",{className:"hero-background",children:(0,Or.jsx)("div",{className:"hero-pattern"})}),(0,Or.jsxs)("div",{className:"hero-content",children:[(0,Or.jsx)("div",{className:"hero-icon",children:(0,Or.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Or.jsx)("path",{d:"M3 6h18l-2 13H5L3 6z"}),(0,Or.jsx)("path",{d:"M3 6L2.25 3H1"}),(0,Or.jsx)("path",{d:"M16 10a4 4 0 01-8 0"})]})}),(0,Or.jsx)("h1",{children:"Return & Refund Policy"}),(0,Or.jsx)("p",{children:"Your satisfaction is our priority. Learn about our return and refund process for medicines and healthcare products."}),(0,Or.jsxs)("div",{className:"hero-highlights",children:[(0,Or.jsxs)("div",{className:"highlight-item",children:[(0,Or.jsx)("span",{className:"highlight-icon",children:"\u26a1"}),(0,Or.jsx)("span",{children:"48-hour return window"})]}),(0,Or.jsxs)("div",{className:"highlight-item",children:[(0,Or.jsx)("span",{className:"highlight-icon",children:"\ud83d\udcaf"}),(0,Or.jsx)("span",{children:"100% refund guarantee"})]}),(0,Or.jsxs)("div",{className:"highlight-item",children:[(0,Or.jsx)("span",{className:"highlight-icon",children:"\ud83d\ude9a"}),(0,Or.jsx)("span",{children:"Free pickup service"})]})]})]})]}),(0,Or.jsxs)("div",{className:"return-container",children:[(0,Or.jsx)("aside",{className:"return-sidebar",children:(0,Or.jsxs)("div",{className:"sidebar-sticky",children:[(0,Or.jsx)("h3",{children:"Quick Navigation"}),(0,Or.jsx)("nav",{className:"return-nav",children:[{id:"overview",title:"Overview",icon:"\ud83d\udccb"},{id:"eligibility",title:"Return Eligibility",icon:"\u2705"},{id:"non-returnable",title:"Non-Returnable Items",icon:"\u274c"},{id:"process",title:"Return Process",icon:"\ud83d\udd04"},{id:"timelines",title:"Refund Timelines",icon:"\u23f0"},{id:"faqs",title:"FAQs",icon:"\u2753"}].map(t=>(0,Or.jsxs)("button",{onClick:()=>(e=>{const t=document.getElementById(e);if(t){const e=100,s=t.offsetTop-e;window.scrollTo({top:s,behavior:"smooth"})}})(t.id),className:"nav-item ".concat(e===t.id?"active":""),children:[(0,Or.jsx)("span",{className:"nav-icon",children:t.icon}),(0,Or.jsx)("span",{className:"nav-title",children:t.title})]},t.id))})]})}),(0,Or.jsxs)("div",{className:"return-content",children:[(0,Or.jsxs)("section",{id:"overview",className:"return-section",children:[(0,Or.jsx)("div",{className:"section-header",children:(0,Or.jsxs)("h2",{children:[(0,Or.jsx)("span",{className:"section-icon",children:"\ud83d\udccb"}),"Overview"]})}),(0,Or.jsxs)("div",{className:"overview-card",children:[(0,Or.jsx)("p",{children:"Your health and safety are our top priorities. Due to regulatory and safety norms, returns for medicines and certain healthcare products are restricted. However, we ensure a fair and hassle-free experience in all eligible scenarios."}),(0,Or.jsxs)("div",{className:"policy-highlights",children:[(0,Or.jsxs)("div",{className:"policy-highlight",children:[(0,Or.jsx)("div",{className:"highlight-icon",children:"\ud83d\udee1\ufe0f"}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("h4",{children:"Safety First"}),(0,Or.jsx)("p",{children:"All return policies comply with pharmaceutical safety regulations"})]})]}),(0,Or.jsxs)("div",{className:"policy-highlight",children:[(0,Or.jsx)("div",{className:"highlight-icon",children:"\u2696\ufe0f"}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("h4",{children:"Fair Process"}),(0,Or.jsx)("p",{children:"Transparent and customer-friendly return procedures"})]})]}),(0,Or.jsxs)("div",{className:"policy-highlight",children:[(0,Or.jsx)("div",{className:"highlight-icon",children:"\ud83e\udd1d"}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("h4",{children:"Customer Support"}),(0,Or.jsx)("p",{children:"Dedicated team to help with all return-related queries"})]})]})]})]})]}),(0,Or.jsxs)("section",{id:"eligibility",className:"return-section",children:[(0,Or.jsxs)("div",{className:"section-header",children:[(0,Or.jsxs)("h2",{children:[(0,Or.jsx)("span",{className:"section-icon",children:"\u2705"}),"Return Eligibility"]}),(0,Or.jsx)("p",{children:"Understanding what can and cannot be returned"})]}),(0,Or.jsx)("div",{className:"eligibility-grid",children:[{icon:"\ud83d\udce6",title:"Damaged or Wrong Item",description:"Eligible for return or replacement if reported within 48 hours of delivery",details:["Unboxing photos required","Original packaging needed","Full refund or replacement"],status:"eligible"},{icon:"\u23f1\ufe0f",title:"Short Expiry Products",description:"Products received with near/expired shelf life are eligible for full refund",details:["Less than 6 months expiry","Immediate replacement","No questions asked"],status:"eligible"},{icon:"\ud83d\udc8a",title:"Prescription Medicines",description:"Returns restricted unless item is damaged, defective, or incorrect",details:["Safety regulations apply","Pharmacist verification","Case-by-case review"],status:"restricted"},{icon:"\ud83e\uddea",title:"Diagnostics/Lab Tests",description:"Free cancellation if sample not collected",details:["Pre-collection cancellation","Lab policy dependent","Partial refunds possible"],status:"conditional"}].map((e,t)=>(0,Or.jsxs)("div",{className:"eligibility-card ".concat(e.status),children:[(0,Or.jsxs)("div",{className:"card-header",children:[(0,Or.jsx)("div",{className:"card-icon",children:e.icon}),(0,Or.jsx)("div",{className:"card-status",children:(0,Or.jsx)("span",{className:"status-badge ".concat(e.status),children:"eligible"===e.status?"Eligible":"restricted"===e.status?"Restricted":"Conditional"})})]}),(0,Or.jsx)("h3",{children:e.title}),(0,Or.jsx)("p",{children:e.description}),(0,Or.jsx)("div",{className:"card-details",children:e.details.map((e,t)=>(0,Or.jsxs)("div",{className:"detail-item",children:[(0,Or.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Or.jsx)("polyline",{points:"20,6 9,17 4,12"})}),e]},t))})]},t))})]}),(0,Or.jsxs)("section",{id:"non-returnable",className:"return-section",children:[(0,Or.jsxs)("div",{className:"section-header",children:[(0,Or.jsxs)("h2",{children:[(0,Or.jsx)("span",{className:"section-icon",children:"\u274c"}),"Non-Returnable Items"]}),(0,Or.jsx)("p",{children:"Items that cannot be returned due to safety and regulatory requirements"})]}),(0,Or.jsxs)("div",{className:"non-returnable-card",children:[(0,Or.jsxs)("div",{className:"warning-banner",children:[(0,Or.jsx)("div",{className:"warning-icon",children:"\u26a0\ufe0f"}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("h4",{children:"Important Safety Notice"}),(0,Or.jsx)("p",{children:"These restrictions are in place to ensure the safety and integrity of medicines for all customers."})]})]}),(0,Or.jsxs)("div",{className:"non-returnable-list",children:[(0,Or.jsxs)("div",{className:"non-returnable-item",children:[(0,Or.jsx)("div",{className:"item-icon",children:"\ud83c\udf21\ufe0f"}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("h4",{children:"Temperature-Controlled Medicines"}),(0,Or.jsx)("p",{children:"Vaccines, insulin, and other cold-chain products that require specific storage conditions."})]})]}),(0,Or.jsxs)("div",{className:"non-returnable-item",children:[(0,Or.jsx)("div",{className:"item-icon",children:"\ud83d\udd13"}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("h4",{children:"Opened Products"}),(0,Or.jsx)("p",{children:"Any medicine or healthcare product with broken safety seals or opened packaging."})]})]}),(0,Or.jsxs)("div",{className:"non-returnable-item",children:[(0,Or.jsx)("div",{className:"item-icon",children:"\ud83e\ude7a"}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("h4",{children:"Personal Care Items"}),(0,Or.jsx)("p",{children:"Thermometers, nebulizers, body supports, and other personal medical devices once opened."})]})]}),(0,Or.jsxs)("div",{className:"non-returnable-item",children:[(0,Or.jsx)("div",{className:"item-icon",children:"\ud83d\udcc4"}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("h4",{children:"Items Without Documentation"}),(0,Or.jsx)("p",{children:"Products without original packaging, invoices, or batch details cannot be processed."})]})]})]})]})]}),(0,Or.jsxs)("section",{id:"process",className:"return-section",children:[(0,Or.jsxs)("div",{className:"section-header",children:[(0,Or.jsxs)("h2",{children:[(0,Or.jsx)("span",{className:"section-icon",children:"\ud83d\udd04"}),"Return Process"]}),(0,Or.jsx)("p",{children:"Simple steps to initiate and complete your return"})]}),(0,Or.jsx)("div",{className:"process-timeline",children:a.map((e,t)=>(0,Or.jsxs)("div",{className:"process-step",children:[(0,Or.jsx)("div",{className:"step-number",children:e.step}),(0,Or.jsxs)("div",{className:"step-content",children:[(0,Or.jsxs)("div",{className:"step-header",children:[(0,Or.jsx)("div",{className:"step-icon",children:e.icon}),(0,Or.jsx)("h3",{children:e.title})]}),(0,Or.jsx)("p",{children:e.description}),(0,Or.jsx)("div",{className:"step-details",children:e.details})]}),t<a.length-1&&(0,Or.jsx)("div",{className:"step-connector"})]},t))})]}),(0,Or.jsxs)("section",{id:"timelines",className:"return-section",children:[(0,Or.jsxs)("div",{className:"section-header",children:[(0,Or.jsxs)("h2",{children:[(0,Or.jsx)("span",{className:"section-icon",children:"\u23f0"}),"Refund Timelines"]}),(0,Or.jsx)("p",{children:"Expected refund processing times by payment method"})]}),(0,Or.jsx)("div",{className:"timelines-grid",children:[{method:"UPI/Digital Wallets",time:"1-2 hours",icon:"\ud83d\udcf1"},{method:"Credit/Debit Cards",time:"3-5 business days",icon:"\ud83d\udcb3"},{method:"Net Banking",time:"2-4 business days",icon:"\ud83c\udfe6"},{method:"Cash on Delivery",time:"5-7 business days",icon:"\ud83d\udcb0"}].map((e,t)=>(0,Or.jsxs)("div",{className:"timeline-card",children:[(0,Or.jsx)("div",{className:"timeline-icon",children:e.icon}),(0,Or.jsx)("h3",{children:e.method}),(0,Or.jsx)("div",{className:"timeline-duration",children:e.time})]},t))}),(0,Or.jsxs)("div",{className:"timeline-note",children:[(0,Or.jsx)("div",{className:"note-icon",children:"\ud83d\udca1"}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("h4",{children:"Processing Note"}),(0,Or.jsx)("p",{children:"Refunds are initiated within 24-48 hours of approval. Actual credit time depends on your bank or payment provider."})]})]})]}),(0,Or.jsxs)("section",{id:"faqs",className:"return-section",children:[(0,Or.jsxs)("div",{className:"section-header",children:[(0,Or.jsxs)("h2",{children:[(0,Or.jsx)("span",{className:"section-icon",children:"\u2753"}),"Frequently Asked Questions"]}),(0,Or.jsx)("p",{children:"Common questions about returns and refunds"})]}),(0,Or.jsx)("div",{className:"faqs-container",children:[{question:"Can I return medicines after opening the package?",answer:"Due to safety regulations, opened medicines cannot be returned unless they are damaged or incorrect. This policy ensures the safety and integrity of medicines for all customers."},{question:"What if I receive a damaged product?",answer:"If you receive a damaged product, please report it within 48 hours of delivery with unboxing photos. We will arrange for immediate replacement or full refund."},{question:"How long does the refund process take?",answer:"Refund processing time varies by payment method. UPI and digital wallets are fastest (1-2 hours), while bank transfers may take 3-7 business days."},{question:"Can I exchange a product instead of returning it?",answer:"Yes, for eligible items, you can choose exchange instead of refund. The replacement product will be delivered within 24-48 hours of pickup."}].map((e,t)=>(0,Or.jsxs)("div",{className:"faq-item",children:[(0,Or.jsxs)("button",{className:"faq-question ".concat(r===t?"expanded":""),onClick:()=>n(r===t?null:t),children:[(0,Or.jsx)("span",{children:e.question}),(0,Or.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"faq-icon",children:(0,Or.jsx)("polyline",{points:"6,9 12,15 18,9"})})]}),(0,Or.jsx)("div",{className:"faq-answer ".concat(r===t?"expanded":""),children:(0,Or.jsx)("p",{children:e.answer})})]},t))})]}),(0,Or.jsx)("div",{className:"return-help",children:(0,Or.jsxs)("div",{className:"help-card",children:[(0,Or.jsx)("h3",{children:"Need Help with Returns?"}),(0,Or.jsx)("p",{children:"Our customer support team is available 24/7 to assist you with any return or refund queries."}),(0,Or.jsxs)("div",{className:"help-actions",children:[(0,Or.jsxs)("a",{href:"/help-center",className:"help-button primary",children:[(0,Or.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Or.jsx)("path",{d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})}),"Chat Support"]}),(0,Or.jsxs)("a",{href:"tel:+911234567890",className:"help-button secondary",children:[(0,Or.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Or.jsx)("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Call Us"]}),(0,Or.jsxs)("a",{href:"mailto:returns@flickxir.com",className:"help-button secondary",children:[(0,Or.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Or.jsx)("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),(0,Or.jsx)("polyline",{points:"22,6 12,13 2,6"})]}),"Email Us"]})]})]})})]})]})]}),(0,Or.jsx)(Yr,{})]})},Sn=[{q:"How do I order medicines on FlickXir?",a:"Search for your medicines, add them to cart, and upload a valid prescription when required. Proceed to checkout and choose your preferred delivery slot."},{q:"Do I need a prescription?",a:"Prescription is required for all Schedule H and X medicines. OTC items (vitamins, personal care, wellness) can be ordered without a prescription."},{q:"What are the delivery timelines?",a:"Most orders are delivered within 24-48 hours depending on your location and product availability. Express delivery may be available in select cities."},{q:"Can I return medicines?",a:"Returns are restricted due to safety norms. Damaged, incorrect, or short-expiry items are eligible. See the Return Policy for details."},{q:"Is my data secure?",a:"Yes. We follow industry-grade security and privacy practices to protect your personal and medical data."}],Cn=()=>{const[e,s]=(0,t.useState)(null);(0,t.useEffect)(()=>{window.scrollTo(0,0)},[]);return(0,Or.jsxs)("div",{className:"home",children:[(0,Or.jsx)(Gr,{}),(0,Or.jsxs)("main",{className:"main-content",children:[(0,Or.jsxs)("section",{className:"page-hero animate-on-scroll",children:[(0,Or.jsx)("h1",{children:"Frequently Asked Questions"}),(0,Or.jsx)("p",{children:"Everything you need to know about ordering medicines and healthcare products"})]}),(0,Or.jsx)("section",{className:"page-section",children:Sn.map((t,r)=>(0,Or.jsxs)("div",{className:"faq-card animate-on-scroll ".concat(e===r?"open":""),style:{background:"#ffffff",border:"1px solid #e5e7eb",borderRadius:16,padding:16,marginBottom:12,boxShadow:"0 4px 12px rgba(0,0,0,0.04)",transition:"transform .25s ease, box-shadow .25s ease"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 10px 24px rgba(0,0,0,0.08)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.04)"},children:[(0,Or.jsxs)("button",{onClick:()=>(e=>{s(t=>t===e?null:e)})(r),className:"faq-question","aria-expanded":e===r,"aria-controls":"faq-panel-".concat(r),style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",background:"transparent",border:"none",cursor:"pointer",padding:"8px 4px",textAlign:"left"},children:[(0,Or.jsx)("span",{style:{fontSize:"1.05rem",fontWeight:700,color:"#0f172a"},children:t.q}),(0,Or.jsx)("span",{"aria-hidden":!0,style:{transition:"transform .25s ease",transform:e===r?"rotate(45deg)":"rotate(0deg)",color:"#059669",fontSize:"1.5rem",lineHeight:1},children:"+"})]}),(0,Or.jsx)("div",{id:"faq-panel-".concat(r),role:"region",style:{maxHeight:e===r?500:0,overflow:"hidden",transition:"max-height .35s ease"},children:(0,Or.jsx)("p",{style:{marginTop:8,color:"#334155"},children:t.a})})]},r))}),(0,Or.jsxs)("section",{className:"page-section animate-on-scroll",style:{textAlign:"center",padding:"10px 20px 60px"},children:[(0,Or.jsx)("h2",{children:"Still have questions?"}),(0,Or.jsx)("p",{style:{marginBottom:16},children:"Our support team is here to help you 24/7."}),(0,Or.jsxs)("div",{className:"cta-buttons",style:{display:"inline-flex",gap:12},children:[(0,Or.jsx)("button",{className:"cta-btn primary",children:"Chat with Support"}),(0,Or.jsx)("button",{className:"cta-btn secondary",children:"Contact Us"})]})]})]}),(0,Or.jsx)(Yr,{})]})},En=()=>{const[e,s]=(0,t.useState)(""),[r]=(0,t.useState)("January 15, 2024");(0,t.useEffect)(()=>{window.scrollTo(0,0);const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&s(e.target.id)})},{rootMargin:"-20% 0px -70% 0px"});return document.querySelectorAll(".terms-section[id]").forEach(t=>e.observe(t)),()=>e.disconnect()},[]);return(0,Or.jsxs)("div",{className:"terms-page",children:[(0,Or.jsx)(Gr,{}),(0,Or.jsxs)("main",{className:"terms-main",children:[(0,Or.jsxs)("section",{className:"terms-hero",children:[(0,Or.jsx)("div",{className:"hero-background",children:(0,Or.jsx)("div",{className:"hero-pattern"})}),(0,Or.jsxs)("div",{className:"hero-content",children:[(0,Or.jsx)("div",{className:"hero-icon",children:(0,Or.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Or.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,Or.jsx)("polyline",{points:"14,2 14,8 20,8"}),(0,Or.jsx)("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),(0,Or.jsx)("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),(0,Or.jsx)("polyline",{points:"10,9 9,9 8,9"})]})}),(0,Or.jsx)("h1",{children:"Terms & Conditions"}),(0,Or.jsx)("p",{children:"Please read these terms carefully before using FlickXir India"}),(0,Or.jsxs)("div",{className:"last-updated",children:[(0,Or.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Or.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,Or.jsx)("polyline",{points:"12,6 12,12 16,14"})]}),"Last updated: ",r]})]})]}),(0,Or.jsxs)("div",{className:"terms-container",children:[(0,Or.jsx)("aside",{className:"terms-sidebar",children:(0,Or.jsxs)("div",{className:"sidebar-sticky",children:[(0,Or.jsx)("h3",{children:"Table of Contents"}),(0,Or.jsx)("nav",{className:"terms-nav",children:[{id:"acceptance",title:"Acceptance of Terms",icon:"\ud83d\udccb"},{id:"definitions",title:"Definitions",icon:"\ud83d\udcd6"},{id:"services",title:"Our Services",icon:"\ud83c\udfe5"},{id:"user-obligations",title:"User Obligations",icon:"\ud83d\udc64"},{id:"prescriptions",title:"Prescription Requirements",icon:"\ud83d\udc8a"},{id:"donations",title:"Medicine Donations",icon:"\u2764\ufe0f"},{id:"privacy",title:"Privacy & Data Protection",icon:"\ud83d\udd12"},{id:"payments",title:"Payments & Refunds",icon:"\ud83d\udcb3"},{id:"liability",title:"Liability & Disclaimers",icon:"\u2696\ufe0f"},{id:"termination",title:"Account Termination",icon:"\ud83d\udeaa"},{id:"governing-law",title:"Governing Law",icon:"\ud83c\udfdb\ufe0f"},{id:"contact",title:"Contact Information",icon:"\ud83d\udcde"}].map(t=>(0,Or.jsxs)("button",{onClick:()=>(e=>{const t=document.getElementById(e);if(t){const e=100,s=t.offsetTop-e;window.scrollTo({top:s,behavior:"smooth"})}})(t.id),className:"nav-item ".concat(e===t.id?"active":""),children:[(0,Or.jsx)("span",{className:"nav-icon",children:t.icon}),(0,Or.jsx)("span",{className:"nav-title",children:t.title})]},t.id))})]})}),(0,Or.jsxs)("div",{className:"terms-content",children:[(0,Or.jsx)("div",{className:"terms-intro",children:(0,Or.jsxs)("div",{className:"intro-card",children:[(0,Or.jsx)("h2",{children:"Welcome to FlickXir India"}),(0,Or.jsx)("p",{children:'These Terms and Conditions ("Terms") govern your use of the FlickXir India platform, including our website, mobile applications, and related services. By accessing or using our platform, you agree to be bound by these Terms.'}),(0,Or.jsxs)("div",{className:"important-notice",children:[(0,Or.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Or.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,Or.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),(0,Or.jsx)("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("strong",{children:"Important:"})," If you do not agree to these Terms, please do not use our services."]})]})]})}),(0,Or.jsxs)("section",{id:"acceptance",className:"terms-section",children:[(0,Or.jsxs)("h2",{children:[(0,Or.jsx)("span",{className:"section-icon",children:"\ud83d\udccb"}),"1. Acceptance of Terms"]}),(0,Or.jsxs)("div",{className:"section-content",children:[(0,Or.jsx)("p",{children:"By creating an account, accessing, or using FlickXir India's services, you acknowledge that you have read, understood, and agree to be bound by these Terms and our Privacy Policy."}),(0,Or.jsxs)("div",{className:"highlight-box",children:[(0,Or.jsx)("h4",{children:"Key Points:"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"You must be at least 18 years old to use our services"}),(0,Or.jsx)("li",{children:"You are responsible for maintaining the confidentiality of your account"}),(0,Or.jsx)("li",{children:"You agree to provide accurate and complete information"})]})]})]})]}),(0,Or.jsxs)("section",{id:"definitions",className:"terms-section",children:[(0,Or.jsxs)("h2",{children:[(0,Or.jsx)("span",{className:"section-icon",children:"\ud83d\udcd6"}),"2. Definitions"]}),(0,Or.jsx)("div",{className:"section-content",children:(0,Or.jsxs)("div",{className:"definitions-grid",children:[(0,Or.jsxs)("div",{className:"definition-item",children:[(0,Or.jsx)("h4",{children:'"Platform"'}),(0,Or.jsx)("p",{children:"Refers to FlickXir India's website, mobile applications, and all related services."})]}),(0,Or.jsxs)("div",{className:"definition-item",children:[(0,Or.jsx)("h4",{children:'"User" or "You"'}),(0,Or.jsx)("p",{children:"Any individual who accesses or uses our Platform."})]}),(0,Or.jsxs)("div",{className:"definition-item",children:[(0,Or.jsx)("h4",{children:'"Services"'}),(0,Or.jsx)("p",{children:"All features, functionalities, and services provided through our Platform."})]}),(0,Or.jsxs)("div",{className:"definition-item",children:[(0,Or.jsx)("h4",{children:'"Content"'}),(0,Or.jsx)("p",{children:"All information, data, text, images, and other materials on our Platform."})]})]})})]}),(0,Or.jsxs)("section",{id:"services",className:"terms-section",children:[(0,Or.jsxs)("h2",{children:[(0,Or.jsx)("span",{className:"section-icon",children:"\ud83c\udfe5"}),"3. Our Services"]}),(0,Or.jsxs)("div",{className:"section-content",children:[(0,Or.jsx)("p",{children:"FlickXir India provides the following services:"}),(0,Or.jsxs)("div",{className:"services-grid",children:[(0,Or.jsxs)("div",{className:"service-card",children:[(0,Or.jsx)("div",{className:"service-icon",children:"\ud83d\udc8a"}),(0,Or.jsx)("h4",{children:"Medicine Ordering"}),(0,Or.jsx)("p",{children:"Online ordering and delivery of prescription and over-the-counter medicines."})]}),(0,Or.jsxs)("div",{className:"service-card",children:[(0,Or.jsx)("div",{className:"service-icon",children:"\u2764\ufe0f"}),(0,Or.jsx)("h4",{children:"Medicine Donations"}),(0,Or.jsx)("p",{children:"Platform for donating unused medicines to those in need."})]}),(0,Or.jsxs)("div",{className:"service-card",children:[(0,Or.jsx)("div",{className:"service-icon",children:"\ud83d\udccb"}),(0,Or.jsx)("h4",{children:"Prescription Management"}),(0,Or.jsx)("p",{children:"Digital prescription upload and verification services."})]}),(0,Or.jsxs)("div",{className:"service-card",children:[(0,Or.jsx)("div",{className:"service-icon",children:"\ud83d\ude9a"}),(0,Or.jsx)("h4",{children:"Delivery Services"}),(0,Or.jsx)("p",{children:"Home delivery of medicines and healthcare products."})]})]})]})]}),(0,Or.jsxs)("section",{id:"user-obligations",className:"terms-section",children:[(0,Or.jsxs)("h2",{children:[(0,Or.jsx)("span",{className:"section-icon",children:"\ud83d\udc64"}),"4. User Obligations"]}),(0,Or.jsxs)("div",{className:"section-content",children:[(0,Or.jsx)("p",{children:"As a user of our Platform, you agree to:"}),(0,Or.jsxs)("div",{className:"obligations-list",children:[(0,Or.jsxs)("div",{className:"obligation-item",children:[(0,Or.jsx)("div",{className:"obligation-icon",children:"\u2705"}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("h4",{children:"Provide Accurate Information"}),(0,Or.jsx)("p",{children:"Ensure all personal and medical information provided is accurate and up-to-date."})]})]}),(0,Or.jsxs)("div",{className:"obligation-item",children:[(0,Or.jsx)("div",{className:"obligation-icon",children:"\u2696\ufe0f"}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("h4",{children:"Comply with Laws"}),(0,Or.jsx)("p",{children:"Use our services in compliance with all applicable laws and regulations."})]})]}),(0,Or.jsxs)("div",{className:"obligation-item",children:[(0,Or.jsx)("div",{className:"obligation-icon",children:"\ud83d\udd12"}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("h4",{children:"Protect Your Account"}),(0,Or.jsx)("p",{children:"Maintain the security and confidentiality of your account credentials."})]})]}),(0,Or.jsxs)("div",{className:"obligation-item",children:[(0,Or.jsx)("div",{className:"obligation-icon",children:"\ud83d\udeab"}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("h4",{children:"Prohibited Activities"}),(0,Or.jsx)("p",{children:"Not engage in any fraudulent, abusive, or illegal activities on our Platform."})]})]})]})]})]}),(0,Or.jsxs)("section",{id:"prescriptions",className:"terms-section",children:[(0,Or.jsxs)("h2",{children:[(0,Or.jsx)("span",{className:"section-icon",children:"\ud83d\udc8a"}),"5. Prescription Requirements"]}),(0,Or.jsxs)("div",{className:"section-content",children:[(0,Or.jsxs)("div",{className:"warning-box",children:[(0,Or.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Or.jsx)("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),(0,Or.jsx)("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),(0,Or.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("strong",{children:"Important Medical Disclaimer:"})," We are not a medical provider. Always consult qualified healthcare practitioners for medical advice, diagnosis, or treatment."]})]}),(0,Or.jsx)("h4",{children:"Prescription Medicine Requirements:"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"Valid prescription from a licensed medical practitioner is required"}),(0,Or.jsx)("li",{children:"Prescriptions must be clear, legible, and contain all required information"}),(0,Or.jsx)("li",{children:"We reserve the right to verify prescriptions with the prescribing doctor"}),(0,Or.jsx)("li",{children:"Expired or invalid prescriptions will not be accepted"})]})]})]}),(0,Or.jsxs)("section",{id:"donations",className:"terms-section",children:[(0,Or.jsxs)("h2",{children:[(0,Or.jsx)("span",{className:"section-icon",children:"\u2764\ufe0f"}),"6. Medicine Donations"]}),(0,Or.jsxs)("div",{className:"section-content",children:[(0,Or.jsx)("p",{children:"Our medicine donation program allows users to donate unused medicines to help others in need."}),(0,Or.jsx)("h4",{children:"Donation Guidelines:"}),(0,Or.jsxs)("div",{className:"donation-guidelines",children:[(0,Or.jsxs)("div",{className:"guideline-item",children:[(0,Or.jsx)("span",{className:"guideline-number",children:"1"}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("h5",{children:"Medicine Condition"}),(0,Or.jsx)("p",{children:"Medicines must be unexpired and in good condition"})]})]}),(0,Or.jsxs)("div",{className:"guideline-item",children:[(0,Or.jsx)("span",{className:"guideline-number",children:"2"}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("h5",{children:"Original Packaging"}),(0,Or.jsx)("p",{children:"Medicines should be in original, unopened packaging when possible"})]})]}),(0,Or.jsxs)("div",{className:"guideline-item",children:[(0,Or.jsx)("span",{className:"guideline-number",children:"3"}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("h5",{children:"Quality Verification"}),(0,Or.jsx)("p",{children:"All donated medicines undergo quality verification before redistribution"})]})]})]})]})]}),(0,Or.jsxs)("section",{id:"privacy",className:"terms-section",children:[(0,Or.jsxs)("h2",{children:[(0,Or.jsx)("span",{className:"section-icon",children:"\ud83d\udd12"}),"7. Privacy & Data Protection"]}),(0,Or.jsxs)("div",{className:"section-content",children:[(0,Or.jsx)("p",{children:"Your privacy is important to us. Please review our Privacy Policy to understand how we collect, use, and protect your personal information."}),(0,Or.jsxs)("div",{className:"privacy-highlights",children:[(0,Or.jsxs)("div",{className:"privacy-item",children:[(0,Or.jsx)("div",{className:"privacy-icon",children:"\ud83d\udee1\ufe0f"}),(0,Or.jsx)("h4",{children:"Data Security"}),(0,Or.jsx)("p",{children:"We implement industry-standard security measures to protect your data."})]}),(0,Or.jsxs)("div",{className:"privacy-item",children:[(0,Or.jsx)("div",{className:"privacy-icon",children:"\ud83c\udfaf"}),(0,Or.jsx)("h4",{children:"Purpose Limitation"}),(0,Or.jsx)("p",{children:"We only use your data for the purposes stated in our Privacy Policy."})]}),(0,Or.jsxs)("div",{className:"privacy-item",children:[(0,Or.jsx)("div",{className:"privacy-icon",children:"\ud83d\udc65"}),(0,Or.jsx)("h4",{children:"No Unauthorized Sharing"}),(0,Or.jsx)("p",{children:"We do not sell or share your personal information with third parties without consent."})]})]})]})]}),(0,Or.jsxs)("section",{id:"payments",className:"terms-section",children:[(0,Or.jsxs)("h2",{children:[(0,Or.jsx)("span",{className:"section-icon",children:"\ud83d\udcb3"}),"8. Payments & Refunds"]}),(0,Or.jsxs)("div",{className:"section-content",children:[(0,Or.jsx)("h4",{children:"Payment Terms:"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"All prices are in Indian Rupees (INR) and include applicable taxes"}),(0,Or.jsx)("li",{children:"Payment must be completed before order processing"}),(0,Or.jsx)("li",{children:"We accept various payment methods including cards, UPI, and digital wallets"})]}),(0,Or.jsx)("h4",{children:"Refund Policy:"}),(0,Or.jsxs)("div",{className:"refund-policy",children:[(0,Or.jsxs)("div",{className:"refund-item",children:[(0,Or.jsx)("span",{className:"refund-icon",children:"\u2705"}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("strong",{children:"Eligible for Refund:"})," Damaged products, wrong items delivered, or cancelled orders before dispatch."]})]}),(0,Or.jsxs)("div",{className:"refund-item",children:[(0,Or.jsx)("span",{className:"refund-icon",children:"\u274c"}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("strong",{children:"Not Eligible:"})," Medicines that have been opened or used, or orders cancelled after dispatch."]})]})]})]})]}),(0,Or.jsxs)("section",{id:"liability",className:"terms-section",children:[(0,Or.jsxs)("h2",{children:[(0,Or.jsx)("span",{className:"section-icon",children:"\u2696\ufe0f"}),"9. Liability & Disclaimers"]}),(0,Or.jsxs)("div",{className:"section-content",children:[(0,Or.jsxs)("div",{className:"disclaimer-box",children:[(0,Or.jsx)("h4",{children:"Medical Disclaimer"}),(0,Or.jsx)("p",{children:"FlickXir India is a technology platform that facilitates the ordering and delivery of medicines. We are not a medical practice and do not provide medical advice, diagnosis, or treatment. Always consult with qualified healthcare professionals for medical concerns."})]}),(0,Or.jsx)("h4",{children:"Limitation of Liability:"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"We are not liable for any indirect, incidental, or consequential damages"}),(0,Or.jsx)("li",{children:"Our liability is limited to the amount paid for the specific service or product"}),(0,Or.jsx)("li",{children:"We are not responsible for delays caused by factors beyond our control"})]})]})]}),(0,Or.jsxs)("section",{id:"termination",className:"terms-section",children:[(0,Or.jsxs)("h2",{children:[(0,Or.jsx)("span",{className:"section-icon",children:"\ud83d\udeaa"}),"10. Account Termination"]}),(0,Or.jsxs)("div",{className:"section-content",children:[(0,Or.jsx)("p",{children:"Either party may terminate the account relationship:"}),(0,Or.jsxs)("div",{className:"termination-reasons",children:[(0,Or.jsxs)("div",{className:"termination-item",children:[(0,Or.jsx)("h4",{children:"User-Initiated Termination"}),(0,Or.jsx)("p",{children:"You may delete your account at any time through your account settings."})]}),(0,Or.jsxs)("div",{className:"termination-item",children:[(0,Or.jsx)("h4",{children:"Platform-Initiated Termination"}),(0,Or.jsx)("p",{children:"We may suspend or terminate accounts for violations of these Terms or illegal activities."})]})]})]})]}),(0,Or.jsxs)("section",{id:"governing-law",className:"terms-section",children:[(0,Or.jsxs)("h2",{children:[(0,Or.jsx)("span",{className:"section-icon",children:"\ud83c\udfdb\ufe0f"}),"11. Governing Law"]}),(0,Or.jsx)("div",{className:"section-content",children:(0,Or.jsx)("p",{children:"These Terms are governed by the laws of India. Any disputes arising from these Terms or your use of our services will be subject to the exclusive jurisdiction of the courts in New Delhi, India."})})]}),(0,Or.jsxs)("section",{id:"contact",className:"terms-section",children:[(0,Or.jsxs)("h2",{children:[(0,Or.jsx)("span",{className:"section-icon",children:"\ud83d\udcde"}),"12. Contact Information"]}),(0,Or.jsxs)("div",{className:"section-content",children:[(0,Or.jsx)("p",{children:"If you have any questions about these Terms, please contact us:"}),(0,Or.jsxs)("div",{className:"contact-grid",children:[(0,Or.jsxs)("div",{className:"contact-item",children:[(0,Or.jsx)("div",{className:"contact-icon",children:"\ud83d\udce7"}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("h4",{children:"Email"}),(0,Or.jsx)("p",{children:"legal@flickxir.com"})]})]}),(0,Or.jsxs)("div",{className:"contact-item",children:[(0,Or.jsx)("div",{className:"contact-icon",children:"\ud83d\udcde"}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("h4",{children:"Phone"}),(0,Or.jsx)("p",{children:"+91 1234 567 890"})]})]}),(0,Or.jsxs)("div",{className:"contact-item",children:[(0,Or.jsx)("div",{className:"contact-icon",children:"\ud83d\udccd"}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("h4",{children:"Address"}),(0,Or.jsxs)("p",{children:["FlickXir India Pvt. Ltd.",(0,Or.jsx)("br",{}),"Greater Noida, UP, India"]})]})]})]})]})]}),(0,Or.jsx)("div",{className:"terms-footer",children:(0,Or.jsxs)("div",{className:"footer-card",children:[(0,Or.jsx)("h3",{children:"Questions about our Terms?"}),(0,Or.jsx)("p",{children:"Our legal team is here to help clarify any questions you may have."}),(0,Or.jsxs)("div",{className:"footer-actions",children:[(0,Or.jsxs)("a",{href:"/help-center",className:"footer-button primary",children:[(0,Or.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Or.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,Or.jsx)("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),(0,Or.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),"Help Center"]}),(0,Or.jsxs)("a",{href:"mailto:legal@flickxir.com",className:"footer-button secondary",children:[(0,Or.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Or.jsx)("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),(0,Or.jsx)("polyline",{points:"22,6 12,13 2,6"})]}),"Contact Legal Team"]})]})]})})]})]})]})]})},Pn=()=>{const[e,s]=(0,t.useState)(""),[r,n]=(0,t.useState)(!1),[a,i]=(0,t.useState)(0);(0,t.useEffect)(()=>{window.scrollTo(0,0);const e=()=>{const e=document.querySelectorAll(".policy-section"),t=window.scrollY+100,r=document.documentElement.scrollHeight-window.innerHeight,a=window.scrollY/r*100;i(Math.min(a,100)),n(window.scrollY>300),e.forEach(e=>{const r=e.offsetTop,n=e.offsetHeight,a=e.getAttribute("id");t>=r&&t<r+n&&s(a)})};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);const o=e=>{const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})};return(0,Or.jsxs)("div",{className:"privacy-policy",children:[(0,Or.jsx)(Gr,{}),(0,Or.jsxs)("main",{className:"privacy-main",children:[(0,Or.jsx)("section",{className:"privacy-hero",children:(0,Or.jsx)("div",{className:"container",children:(0,Or.jsxs)("div",{className:"hero-content",children:[(0,Or.jsx)("h1",{children:"Privacy Policy"}),(0,Or.jsx)("p",{children:"Your privacy and data security are our top priorities. Learn how we collect, use, and protect your personal and medical information."}),(0,Or.jsx)("div",{className:"last-updated",children:(0,Or.jsx)("span",{children:"Last updated: December 2024"})})]})})}),(0,Or.jsx)("div",{className:"privacy-content",children:(0,Or.jsx)("div",{className:"container",children:(0,Or.jsxs)("div",{className:"content-wrapper",children:[(0,Or.jsx)("aside",{className:"toc-sidebar",children:(0,Or.jsxs)("div",{className:"toc-container",children:[(0,Or.jsx)("h3",{children:"Table of Contents"}),(0,Or.jsx)("nav",{className:"toc-nav",children:(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:(0,Or.jsx)("button",{className:"overview"===e?"active":"",onClick:()=>o("overview"),children:"1. Overview"})}),(0,Or.jsx)("li",{children:(0,Or.jsx)("button",{className:"information-we-collect"===e?"active":"",onClick:()=>o("information-we-collect"),children:"2. Information We Collect"})}),(0,Or.jsx)("li",{children:(0,Or.jsx)("button",{className:"how-we-use"===e?"active":"",onClick:()=>o("how-we-use"),children:"3. How We Use Your Information"})}),(0,Or.jsx)("li",{children:(0,Or.jsx)("button",{className:"information-sharing"===e?"active":"",onClick:()=>o("information-sharing"),children:"4. Information Sharing"})}),(0,Or.jsx)("li",{children:(0,Or.jsx)("button",{className:"data-security"===e?"active":"",onClick:()=>o("data-security"),children:"5. Data Security"})}),(0,Or.jsx)("li",{children:(0,Or.jsx)("button",{className:"your-rights"===e?"active":"",onClick:()=>o("your-rights"),children:"6. Your Rights"})}),(0,Or.jsx)("li",{children:(0,Or.jsx)("button",{className:"cookies"===e?"active":"",onClick:()=>o("cookies"),children:"7. Cookies & Tracking"})}),(0,Or.jsx)("li",{children:(0,Or.jsx)("button",{className:"third-party"===e?"active":"",onClick:()=>o("third-party"),children:"8. Third-Party Services"})}),(0,Or.jsx)("li",{children:(0,Or.jsx)("button",{className:"data-retention"===e?"active":"",onClick:()=>o("data-retention"),children:"9. Data Retention"})}),(0,Or.jsx)("li",{children:(0,Or.jsx)("button",{className:"international"===e?"active":"",onClick:()=>o("international"),children:"10. International Transfers"})}),(0,Or.jsx)("li",{children:(0,Or.jsx)("button",{className:"children"===e?"active":"",onClick:()=>o("children"),children:"11. Children's Privacy"})}),(0,Or.jsx)("li",{children:(0,Or.jsx)("button",{className:"changes"===e?"active":"",onClick:()=>o("changes"),children:"12. Policy Changes"})}),(0,Or.jsx)("li",{children:(0,Or.jsx)("button",{className:"contact"===e?"active":"",onClick:()=>o("contact"),children:"13. Contact Us"})})]})})]})}),(0,Or.jsxs)("div",{className:"policy-content",children:[(0,Or.jsxs)("section",{id:"overview",className:"policy-section",children:[(0,Or.jsx)("h2",{children:"1. Overview"}),(0,Or.jsxs)("div",{className:"section-content",children:[(0,Or.jsx)("p",{children:'FlickXir ("we," "our," or "us") is committed to protecting your privacy and ensuring the security of your personal and medical information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our healthcare platform and services.'}),(0,Or.jsxs)("div",{className:"highlight-box",children:[(0,Or.jsx)("h4",{children:"\ud83d\udd12 Our Commitment"}),(0,Or.jsx)("p",{children:"We adhere to the highest standards of data protection and comply with applicable healthcare privacy regulations, including HIPAA and other relevant data protection laws."})]}),(0,Or.jsx)("p",{children:"By using our services, you consent to the collection and use of your information as described in this policy. If you do not agree with our policies and practices, please do not use our services."})]})]}),(0,Or.jsxs)("section",{id:"information-we-collect",className:"policy-section",children:[(0,Or.jsx)("h2",{children:"2. Information We Collect"}),(0,Or.jsxs)("div",{className:"section-content",children:[(0,Or.jsx)("p",{children:"We collect several types of information to provide and improve our services:"}),(0,Or.jsxs)("div",{className:"info-category",children:[(0,Or.jsx)("h3",{children:"2.1 Personal Information"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsxs)("li",{children:[(0,Or.jsx)("strong",{children:"Account Information:"})," Name, email address, phone number, date of birth"]}),(0,Or.jsxs)("li",{children:[(0,Or.jsx)("strong",{children:"Contact Details:"})," Billing and shipping addresses"]}),(0,Or.jsxs)("li",{children:[(0,Or.jsx)("strong",{children:"Identity Verification:"})," Government-issued ID for prescription verification"]}),(0,Or.jsxs)("li",{children:[(0,Or.jsx)("strong",{children:"Profile Information:"})," Profile picture, preferences, and settings"]})]})]}),(0,Or.jsxs)("div",{className:"info-category",children:[(0,Or.jsx)("h3",{children:"2.2 Medical Information"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsxs)("li",{children:[(0,Or.jsx)("strong",{children:"Prescription Data:"})," Prescription details, dosage, and medical history"]}),(0,Or.jsxs)("li",{children:[(0,Or.jsx)("strong",{children:"Health Records:"})," Medical conditions, allergies, and treatment history"]}),(0,Or.jsxs)("li",{children:[(0,Or.jsx)("strong",{children:"Healthcare Provider Information:"})," Doctor details and medical facility information"]}),(0,Or.jsxs)("li",{children:[(0,Or.jsx)("strong",{children:"Insurance Information:"})," Health insurance details for claims processing"]})]})]}),(0,Or.jsxs)("div",{className:"info-category",children:[(0,Or.jsx)("h3",{children:"2.3 Transaction Information"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsxs)("li",{children:[(0,Or.jsx)("strong",{children:"Payment Data:"})," Credit card information, billing addresses (processed securely)"]}),(0,Or.jsxs)("li",{children:[(0,Or.jsx)("strong",{children:"Order History:"})," Purchase records, delivery information, and transaction details"]}),(0,Or.jsxs)("li",{children:[(0,Or.jsx)("strong",{children:"Financial Information:"})," Insurance claims and reimbursement data"]})]})]}),(0,Or.jsxs)("div",{className:"info-category",children:[(0,Or.jsx)("h3",{children:"2.4 Technical Information"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsxs)("li",{children:[(0,Or.jsx)("strong",{children:"Device Information:"})," IP address, browser type, operating system"]}),(0,Or.jsxs)("li",{children:[(0,Or.jsx)("strong",{children:"Usage Data:"})," Pages visited, time spent, click patterns"]}),(0,Or.jsxs)("li",{children:[(0,Or.jsx)("strong",{children:"Location Data:"})," Approximate location for delivery services"]}),(0,Or.jsxs)("li",{children:[(0,Or.jsx)("strong",{children:"Cookies and Tracking:"})," Website preferences and session information"]})]})]})]})]}),(0,Or.jsxs)("section",{id:"how-we-use",className:"policy-section",children:[(0,Or.jsx)("h2",{children:"3. How We Use Your Information"}),(0,Or.jsxs)("div",{className:"section-content",children:[(0,Or.jsx)("p",{children:"We use your information for the following purposes:"}),(0,Or.jsxs)("div",{className:"usage-grid",children:[(0,Or.jsxs)("div",{className:"usage-item",children:[(0,Or.jsx)("div",{className:"usage-icon",children:"\ud83c\udfe5"}),(0,Or.jsx)("h4",{children:"Healthcare Services"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"Process and fulfill prescription orders"}),(0,Or.jsx)("li",{children:"Verify prescriptions with healthcare providers"}),(0,Or.jsx)("li",{children:"Provide medication counseling and support"}),(0,Or.jsx)("li",{children:"Manage your health records and history"})]})]}),(0,Or.jsxs)("div",{className:"usage-item",children:[(0,Or.jsx)("div",{className:"usage-icon",children:"\ud83d\uded2"}),(0,Or.jsx)("h4",{children:"Order Management"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"Process payments and transactions"}),(0,Or.jsx)("li",{children:"Arrange delivery and shipping"}),(0,Or.jsx)("li",{children:"Handle returns and refunds"}),(0,Or.jsx)("li",{children:"Provide customer support"})]})]}),(0,Or.jsxs)("div",{className:"usage-item",children:[(0,Or.jsx)("div",{className:"usage-icon",children:"\ud83d\udcca"}),(0,Or.jsx)("h4",{children:"Service Improvement"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"Analyze usage patterns and preferences"}),(0,Or.jsx)("li",{children:"Improve our platform and services"}),(0,Or.jsx)("li",{children:"Develop new features and offerings"}),(0,Or.jsx)("li",{children:"Conduct research and analytics"})]})]}),(0,Or.jsxs)("div",{className:"usage-item",children:[(0,Or.jsx)("div",{className:"usage-icon",children:"\ud83d\udce2"}),(0,Or.jsx)("h4",{children:"Communication"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"Send order confirmations and updates"}),(0,Or.jsx)("li",{children:"Provide important health information"}),(0,Or.jsx)("li",{children:"Send promotional offers (with consent)"}),(0,Or.jsx)("li",{children:"Respond to inquiries and support requests"})]})]})]})]})]}),(0,Or.jsxs)("section",{id:"information-sharing",className:"policy-section",children:[(0,Or.jsx)("h2",{children:"4. Information Sharing"}),(0,Or.jsxs)("div",{className:"section-content",children:[(0,Or.jsx)("p",{children:"We may share your information in the following circumstances:"}),(0,Or.jsxs)("div",{className:"sharing-category",children:[(0,Or.jsx)("h3",{children:"4.1 Healthcare Partners"}),(0,Or.jsx)("p",{children:"We share medical information with:"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"Licensed pharmacies and healthcare providers"}),(0,Or.jsx)("li",{children:"Insurance companies for claims processing"}),(0,Or.jsx)("li",{children:"Medical professionals for consultation"}),(0,Or.jsx)("li",{children:"Regulatory authorities as required by law"})]})]}),(0,Or.jsxs)("div",{className:"sharing-category",children:[(0,Or.jsx)("h3",{children:"4.2 Service Providers"}),(0,Or.jsx)("p",{children:"We work with trusted third parties who help us operate our services:"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"Payment processors for secure transactions"}),(0,Or.jsx)("li",{children:"Delivery services for order fulfillment"}),(0,Or.jsx)("li",{children:"Cloud storage providers for data hosting"}),(0,Or.jsx)("li",{children:"Analytics services for platform improvement"})]})]}),(0,Or.jsxs)("div",{className:"sharing-category",children:[(0,Or.jsx)("h3",{children:"4.3 Legal Requirements"}),(0,Or.jsx)("p",{children:"We may disclose information when required by law or to:"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"Comply with legal processes and court orders"}),(0,Or.jsx)("li",{children:"Protect our rights and property"}),(0,Or.jsx)("li",{children:"Ensure user safety and prevent fraud"}),(0,Or.jsx)("li",{children:"Cooperate with law enforcement"})]})]}),(0,Or.jsxs)("div",{className:"important-note",children:[(0,Or.jsx)("h4",{children:"\u26a0\ufe0f Important Note"}),(0,Or.jsx)("p",{children:"We never sell your personal or medical information to third parties for marketing purposes. All sharing is done in accordance with healthcare privacy regulations and with appropriate safeguards."})]})]})]}),(0,Or.jsxs)("section",{id:"data-security",className:"policy-section",children:[(0,Or.jsx)("h2",{children:"5. Data Security"}),(0,Or.jsxs)("div",{className:"section-content",children:[(0,Or.jsx)("p",{children:"We implement comprehensive security measures to protect your information:"}),(0,Or.jsxs)("div",{className:"security-grid",children:[(0,Or.jsxs)("div",{className:"security-item",children:[(0,Or.jsx)("div",{className:"security-icon",children:"\ud83d\udd10"}),(0,Or.jsx)("h4",{children:"Encryption"}),(0,Or.jsx)("p",{children:"All data is encrypted in transit and at rest using industry-standard encryption protocols (AES-256, TLS 1.3)."})]}),(0,Or.jsxs)("div",{className:"security-item",children:[(0,Or.jsx)("div",{className:"security-icon",children:"\ud83d\udee1\ufe0f"}),(0,Or.jsx)("h4",{children:"Access Controls"}),(0,Or.jsx)("p",{children:"Strict access controls ensure only authorized personnel can access your information on a need-to-know basis."})]}),(0,Or.jsxs)("div",{className:"security-item",children:[(0,Or.jsx)("div",{className:"security-icon",children:"\ud83d\udd0d"}),(0,Or.jsx)("h4",{children:"Regular Audits"}),(0,Or.jsx)("p",{children:"We conduct regular security audits and vulnerability assessments to maintain the highest security standards."})]}),(0,Or.jsxs)("div",{className:"security-item",children:[(0,Or.jsx)("div",{className:"security-icon",children:"\ud83d\udcbe"}),(0,Or.jsx)("h4",{children:"Secure Storage"}),(0,Or.jsx)("p",{children:"Data is stored in secure, HIPAA-compliant data centers with multiple layers of physical and digital security."})]})]}),(0,Or.jsxs)("div",{className:"security-practices",children:[(0,Or.jsx)("h3",{children:"Additional Security Practices"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"Multi-factor authentication for account access"}),(0,Or.jsx)("li",{children:"Regular security training for all employees"}),(0,Or.jsx)("li",{children:"Incident response procedures for security breaches"}),(0,Or.jsx)("li",{children:"Compliance with healthcare security standards"}),(0,Or.jsx)("li",{children:"Regular backup and disaster recovery procedures"})]})]})]})]}),(0,Or.jsxs)("section",{id:"your-rights",className:"policy-section",children:[(0,Or.jsx)("h2",{children:"6. Your Rights"}),(0,Or.jsxs)("div",{className:"section-content",children:[(0,Or.jsx)("p",{children:"You have several rights regarding your personal information:"}),(0,Or.jsxs)("div",{className:"rights-grid",children:[(0,Or.jsxs)("div",{className:"right-item",children:[(0,Or.jsx)("h4",{children:"\ud83d\udc41\ufe0f Right to Access"}),(0,Or.jsx)("p",{children:"Request a copy of all personal information we hold about you, including medical records and transaction history."})]}),(0,Or.jsxs)("div",{className:"right-item",children:[(0,Or.jsx)("h4",{children:"\u270f\ufe0f Right to Rectification"}),(0,Or.jsx)("p",{children:"Request correction of inaccurate or incomplete personal information in your account or medical records."})]}),(0,Or.jsxs)("div",{className:"right-item",children:[(0,Or.jsx)("h4",{children:"\ud83d\uddd1\ufe0f Right to Erasure"}),(0,Or.jsx)("p",{children:"Request deletion of your personal information, subject to legal and regulatory requirements."})]}),(0,Or.jsxs)("div",{className:"right-item",children:[(0,Or.jsx)("h4",{children:"\u23f8\ufe0f Right to Restrict Processing"}),(0,Or.jsx)("p",{children:"Request limitation of how we process your information in certain circumstances."})]}),(0,Or.jsxs)("div",{className:"right-item",children:[(0,Or.jsx)("h4",{children:"\ud83d\udce4 Right to Data Portability"}),(0,Or.jsx)("p",{children:"Request transfer of your data to another service provider in a structured, machine-readable format."})]}),(0,Or.jsxs)("div",{className:"right-item",children:[(0,Or.jsx)("h4",{children:"\u274c Right to Object"}),(0,Or.jsx)("p",{children:"Object to processing of your information for marketing purposes or other legitimate interests."})]})]}),(0,Or.jsxs)("div",{className:"rights-exercise",children:[(0,Or.jsx)("h3",{children:"How to Exercise Your Rights"}),(0,Or.jsx)("p",{children:'To exercise any of these rights, please contact us using the information provided in the "Contact Us" section. We will respond to your request within 30 days and may require identity verification for security purposes.'})]})]})]}),(0,Or.jsxs)("section",{id:"cookies",className:"policy-section",children:[(0,Or.jsx)("h2",{children:"7. Cookies & Tracking Technologies"}),(0,Or.jsxs)("div",{className:"section-content",children:[(0,Or.jsx)("p",{children:"We use cookies and similar technologies to enhance your experience:"}),(0,Or.jsxs)("div",{className:"cookie-types",children:[(0,Or.jsxs)("div",{className:"cookie-type",children:[(0,Or.jsx)("h4",{children:"Essential Cookies"}),(0,Or.jsx)("p",{children:"Required for basic website functionality, including login sessions and security features."})]}),(0,Or.jsxs)("div",{className:"cookie-type",children:[(0,Or.jsx)("h4",{children:"Performance Cookies"}),(0,Or.jsx)("p",{children:"Help us understand how visitors interact with our website to improve performance and user experience."})]}),(0,Or.jsxs)("div",{className:"cookie-type",children:[(0,Or.jsx)("h4",{children:"Functional Cookies"}),(0,Or.jsx)("p",{children:"Remember your preferences and settings to provide a personalized experience."})]}),(0,Or.jsxs)("div",{className:"cookie-type",children:[(0,Or.jsx)("h4",{children:"Marketing Cookies"}),(0,Or.jsx)("p",{children:"Used to deliver relevant advertisements and track the effectiveness of marketing campaigns (with your consent)."})]})]}),(0,Or.jsxs)("div",{className:"cookie-control",children:[(0,Or.jsx)("h3",{children:"Cookie Management"}),(0,Or.jsx)("p",{children:"You can control cookies through your browser settings. However, disabling certain cookies may affect website functionality. You can also manage your cookie preferences through our cookie consent banner."})]})]})]}),(0,Or.jsxs)("section",{id:"third-party",className:"policy-section",children:[(0,Or.jsx)("h2",{children:"8. Third-Party Services"}),(0,Or.jsxs)("div",{className:"section-content",children:[(0,Or.jsx)("p",{children:"We work with trusted third-party services to provide our platform:"}),(0,Or.jsxs)("div",{className:"third-party-list",children:[(0,Or.jsxs)("div",{className:"service-category",children:[(0,Or.jsx)("h4",{children:"Payment Processing"}),(0,Or.jsx)("p",{children:"Secure payment processing through certified PCI-DSS compliant providers."})]}),(0,Or.jsxs)("div",{className:"service-category",children:[(0,Or.jsx)("h4",{children:"Analytics Services"}),(0,Or.jsx)("p",{children:"Website analytics to understand user behavior and improve our services."})]}),(0,Or.jsxs)("div",{className:"service-category",children:[(0,Or.jsx)("h4",{children:"Customer Support"}),(0,Or.jsx)("p",{children:"Chat and support services to provide timely assistance to our users."})]}),(0,Or.jsxs)("div",{className:"service-category",children:[(0,Or.jsx)("h4",{children:"Delivery Partners"}),(0,Or.jsx)("p",{children:"Logistics and delivery services for order fulfillment and tracking."})]})]}),(0,Or.jsx)("p",{children:"All third-party services are carefully vetted and required to maintain appropriate data protection standards. We have data processing agreements in place to ensure your information is handled securely."})]})]}),(0,Or.jsxs)("section",{id:"data-retention",className:"policy-section",children:[(0,Or.jsx)("h2",{children:"9. Data Retention"}),(0,Or.jsxs)("div",{className:"section-content",children:[(0,Or.jsx)("p",{children:"We retain your information for different periods based on the type of data and legal requirements:"}),(0,Or.jsxs)("div",{className:"retention-table",children:[(0,Or.jsxs)("div",{className:"retention-row",children:[(0,Or.jsx)("div",{className:"data-type",children:"Account Information"}),(0,Or.jsx)("div",{className:"retention-period",children:"Until account deletion or 7 years after last activity"})]}),(0,Or.jsxs)("div",{className:"retention-row",children:[(0,Or.jsx)("div",{className:"data-type",children:"Medical Records"}),(0,Or.jsx)("div",{className:"retention-period",children:"As required by healthcare regulations (typically 7-10 years)"})]}),(0,Or.jsxs)("div",{className:"retention-row",children:[(0,Or.jsx)("div",{className:"data-type",children:"Transaction Data"}),(0,Or.jsx)("div",{className:"retention-period",children:"7 years for tax and regulatory compliance"})]}),(0,Or.jsxs)("div",{className:"retention-row",children:[(0,Or.jsx)("div",{className:"data-type",children:"Marketing Data"}),(0,Or.jsx)("div",{className:"retention-period",children:"Until consent is withdrawn or 3 years of inactivity"})]}),(0,Or.jsxs)("div",{className:"retention-row",children:[(0,Or.jsx)("div",{className:"data-type",children:"Technical Logs"}),(0,Or.jsx)("div",{className:"retention-period",children:"90 days for security and troubleshooting"})]})]}),(0,Or.jsx)("p",{children:"When data is no longer needed, it is securely deleted or anonymized in accordance with our data retention policies and applicable regulations."})]})]}),(0,Or.jsxs)("section",{id:"international",className:"policy-section",children:[(0,Or.jsx)("h2",{children:"10. International Data Transfers"}),(0,Or.jsxs)("div",{className:"section-content",children:[(0,Or.jsx)("p",{children:"Your information may be transferred to and processed in countries other than your own. We ensure appropriate safeguards are in place:"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"Data processing agreements with international partners"}),(0,Or.jsx)("li",{children:"Compliance with applicable data protection frameworks"}),(0,Or.jsx)("li",{children:"Use of standard contractual clauses for data transfers"}),(0,Or.jsx)("li",{children:"Regular assessment of data protection standards in destination countries"})]}),(0,Or.jsx)("p",{children:"We only transfer data to countries that provide adequate protection or have appropriate safeguards in place to protect your information."})]})]}),(0,Or.jsxs)("section",{id:"children",className:"policy-section",children:[(0,Or.jsx)("h2",{children:"11. Children's Privacy"}),(0,Or.jsxs)("div",{className:"section-content",children:[(0,Or.jsx)("p",{children:"Our services are not intended for children under 13 years of age. We do not knowingly collect personal information from children under 13."}),(0,Or.jsxs)("div",{className:"children-policy",children:[(0,Or.jsx)("h4",{children:"For Minors (13-18 years)"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"Parental consent is required for account creation"}),(0,Or.jsx)("li",{children:"Parents can access and control their child's information"}),(0,Or.jsx)("li",{children:"Special protections apply to medical information"}),(0,Or.jsx)("li",{children:"Limited data collection and processing"})]})]}),(0,Or.jsx)("p",{children:"If you believe we have collected information from a child under 13, please contact us immediately so we can delete such information."})]})]}),(0,Or.jsxs)("section",{id:"changes",className:"policy-section",children:[(0,Or.jsx)("h2",{children:"12. Changes to This Policy"}),(0,Or.jsxs)("div",{className:"section-content",children:[(0,Or.jsx)("p",{children:"We may update this Privacy Policy from time to time to reflect changes in our practices or legal requirements."}),(0,Or.jsxs)("div",{className:"changes-process",children:[(0,Or.jsx)("h4",{children:"How We Handle Changes"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"Material changes will be communicated via email or platform notification"}),(0,Or.jsx)("li",{children:"The updated policy will be posted on our website with a new effective date"}),(0,Or.jsx)("li",{children:"Continued use of our services constitutes acceptance of the updated policy"}),(0,Or.jsx)("li",{children:"You can review the full history of changes upon request"})]})]}),(0,Or.jsx)("p",{children:"We encourage you to review this policy periodically to stay informed about how we protect your information."})]})]}),(0,Or.jsxs)("section",{id:"contact",className:"policy-section",children:[(0,Or.jsx)("h2",{children:"13. Contact Us"}),(0,Or.jsxs)("div",{className:"section-content",children:[(0,Or.jsx)("p",{children:"If you have questions about this Privacy Policy or our data practices, please contact us:"}),(0,Or.jsxs)("div",{className:"contact-info",children:[(0,Or.jsxs)("div",{className:"contact-method",children:[(0,Or.jsx)("h4",{children:"\ud83d\udce7 Email"}),(0,Or.jsx)("p",{children:"privacy@flickxir.com"})]}),(0,Or.jsxs)("div",{className:"contact-method",children:[(0,Or.jsx)("h4",{children:"\ud83d\udcde Phone"}),(0,Or.jsx)("p",{children:"+91-XXXX-XXXXXX (Privacy Hotline)"})]}),(0,Or.jsxs)("div",{className:"contact-method",children:[(0,Or.jsx)("h4",{children:"\ud83d\udccd Address"}),(0,Or.jsxs)("p",{children:["FlickXir Privacy Office",(0,Or.jsx)("br",{}),"[Your Address]",(0,Or.jsx)("br",{}),"Greater Noida, UP, India"]})]}),(0,Or.jsxs)("div",{className:"contact-method",children:[(0,Or.jsx)("h4",{children:"\u23f0 Response Time"}),(0,Or.jsx)("p",{children:"We aim to respond to all privacy inquiries within 48 hours."})]})]}),(0,Or.jsxs)("div",{className:"dpo-info",children:[(0,Or.jsx)("h4",{children:"Data Protection Officer"}),(0,Or.jsx)("p",{children:"For complex privacy matters, you can contact our Data Protection Officer directly at dpo@flickxir.com"})]})]})]})]})]})})})]}),(0,Or.jsx)("button",{className:"back-to-top ".concat(r?"visible":""),onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},"aria-label":"Back to top",children:"\u2191"}),(0,Or.jsx)("div",{className:"reading-progress ".concat(r?"visible":""),style:{"--progress":"".concat(a,"%")},title:"Reading progress: ".concat(Math.round(a),"%")})]})},Tn=()=>((0,t.useEffect)(()=>{window.scrollTo(0,0)},[]),(0,Or.jsxs)("div",{className:"disclaimer-page",children:[(0,Or.jsx)(Gr,{}),(0,Or.jsxs)("main",{className:"disclaimer-main",children:[(0,Or.jsx)("section",{className:"disclaimer-hero",children:(0,Or.jsx)("div",{className:"container",children:(0,Or.jsxs)("div",{className:"hero-content",children:[(0,Or.jsx)("div",{className:"hero-icon",children:"\u26a0\ufe0f"}),(0,Or.jsx)("h1",{children:"Important Disclaimer"}),(0,Or.jsx)("p",{children:"Please read this disclaimer carefully before using FlickXir services"})]})})}),(0,Or.jsx)("section",{className:"disclaimer-content",children:(0,Or.jsxs)("div",{className:"container",children:[(0,Or.jsxs)("div",{className:"content-grid",children:[(0,Or.jsxs)("div",{className:"disclaimer-card",children:[(0,Or.jsx)("div",{className:"card-icon",children:"\ud83d\udcda"}),(0,Or.jsx)("h2",{children:"Educational Purpose Only"}),(0,Or.jsxs)("div",{className:"card-content",children:[(0,Or.jsxs)("p",{children:["This website is created for ",(0,Or.jsx)("strong",{children:"educational and demonstration purposes only"}),". FlickXir is a portfolio project showcasing modern web development technologies and e-commerce functionality."]}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"This is not a real pharmacy or medical service"}),(0,Or.jsx)("li",{children:"No actual medicines are sold through this platform"}),(0,Or.jsx)("li",{children:"All product listings are for demonstration purposes"}),(0,Or.jsx)("li",{children:"No real transactions or payments are processed"})]})]})]}),(0,Or.jsxs)("div",{className:"disclaimer-card",children:[(0,Or.jsx)("div",{className:"card-icon",children:"\ud83d\udc68\u200d\u2695\ufe0f"}),(0,Or.jsx)("h2",{children:"Medical Advice Disclaimer"}),(0,Or.jsxs)("div",{className:"card-content",children:[(0,Or.jsxs)("p",{children:["The information provided on this website is ",(0,Or.jsx)("strong",{children:"not intended as medical advice"})," and should not be used as a substitute for professional medical consultation."]}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"Always consult a qualified healthcare professional for medical advice"}),(0,Or.jsx)("li",{children:"Never disregard professional medical advice based on information from this site"}),(0,Or.jsx)("li",{children:"Seek immediate medical attention for any medical emergencies"}),(0,Or.jsx)("li",{children:"This platform does not provide medical diagnoses or treatment recommendations"})]})]})]}),(0,Or.jsxs)("div",{className:"disclaimer-card",children:[(0,Or.jsx)("div",{className:"card-icon",children:"\ud83d\udc8a"}),(0,Or.jsx)("h2",{children:"Product Information"}),(0,Or.jsxs)("div",{className:"card-content",children:[(0,Or.jsxs)("p",{children:["All medicine names, images, descriptions, and pricing displayed on this website are ",(0,Or.jsx)("strong",{children:"for representational purposes only"}),"."]}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"Product information may not reflect actual medicine specifications"}),(0,Or.jsx)("li",{children:"Images are used for demonstration and may not represent actual products"}),(0,Or.jsx)("li",{children:"Pricing is fictional and for display purposes only"}),(0,Or.jsx)("li",{children:"Availability information is simulated for demonstration"})]})]})]}),(0,Or.jsxs)("div",{className:"disclaimer-card",children:[(0,Or.jsx)("div",{className:"card-icon",children:"\u2696\ufe0f"}),(0,Or.jsx)("h2",{children:"Legal Compliance"}),(0,Or.jsxs)("div",{className:"card-content",children:[(0,Or.jsxs)("p",{children:["This project acknowledges and respects all applicable laws and regulations regarding ",(0,Or.jsx)("strong",{children:"pharmaceutical services and online medicine sales"}),"."]}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"No actual pharmaceutical licenses are held or claimed"}),(0,Or.jsx)("li",{children:"This platform does not engage in real pharmaceutical commerce"}),(0,Or.jsx)("li",{children:"All regulatory requirements for actual pharmacy operations are acknowledged"}),(0,Or.jsx)("li",{children:"This is purely a technical demonstration project"})]})]})]}),(0,Or.jsxs)("div",{className:"disclaimer-card",children:[(0,Or.jsx)("div",{className:"card-icon",children:"\ud83d\udd12"}),(0,Or.jsx)("h2",{children:"Data and Privacy"}),(0,Or.jsxs)("div",{className:"card-content",children:[(0,Or.jsxs)("p",{children:["While this is a demonstration project, we take ",(0,Or.jsx)("strong",{children:"data privacy seriously"})," and follow best practices for user information handling."]}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"Any data entered is for demonstration purposes only"}),(0,Or.jsx)("li",{children:"No real personal or medical information should be submitted"}),(0,Or.jsx)("li",{children:"Use test data when exploring the platform features"}),(0,Or.jsx)("li",{children:"Data handling follows standard security practices"})]})]})]}),(0,Or.jsxs)("div",{className:"disclaimer-card",children:[(0,Or.jsx)("div",{className:"card-icon",children:"\ud83d\udcbb"}),(0,Or.jsx)("h2",{children:"Technology Demonstration"}),(0,Or.jsxs)("div",{className:"card-content",children:[(0,Or.jsxs)("p",{children:["This project demonstrates various ",(0,Or.jsx)("strong",{children:"modern web technologies"})," and development practices in the context of a healthcare e-commerce platform."]}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"React.js for frontend development"}),(0,Or.jsx)("li",{children:"Supabase for backend services and database"}),(0,Or.jsx)("li",{children:"Modern UI/UX design principles"}),(0,Or.jsx)("li",{children:"Responsive web design and accessibility features"})]})]})]})]}),(0,Or.jsxs)("div",{className:"important-notice",children:[(0,Or.jsx)("div",{className:"notice-icon",children:"\ud83d\udea8"}),(0,Or.jsxs)("div",{className:"notice-content",children:[(0,Or.jsx)("h3",{children:"Important Notice"}),(0,Or.jsx)("p",{children:"If you are looking for actual medical services or need to purchase medicines, please consult with licensed healthcare providers and use authorized pharmacy services in your area. This website cannot and should not be used for any real medical or pharmaceutical needs."})]})]}),(0,Or.jsxs)("div",{className:"disclaimer-footer",children:[(0,Or.jsx)("h3",{children:"Questions About This Disclaimer?"}),(0,Or.jsxs)("p",{children:["If you have any questions about this disclaimer or the educational nature of this project, please feel free to contact us through our ",(0,Or.jsx)("a",{href:"/help-center",children:"Help Center"}),"."]}),(0,Or.jsx)("p",{className:"last-updated",children:"Last updated: December 2024"})]})]})})]})]})),On=()=>{const[e,s]=(0,t.useState)({name:"",email:"",severity:"medium",category:"other",title:"",description:"",stepsToReproduce:"",impact:"",attachments:null}),[r,n]=(0,t.useState)(!1),[a,i]=(0,t.useState)(!1);(0,t.useEffect)(()=>{window.scrollTo(0,0)},[]);const o=(e,t)=>{s(s=>Fr(Fr({},s),{},{[e]:t}))};return(0,Or.jsxs)("div",{className:"vulnerability-page",children:[(0,Or.jsx)(Gr,{}),(0,Or.jsxs)("main",{className:"vulnerability-main",children:[(0,Or.jsx)("section",{className:"vulnerability-hero",children:(0,Or.jsx)("div",{className:"container",children:(0,Or.jsxs)("div",{className:"hero-content",children:[(0,Or.jsx)("div",{className:"hero-icon",children:"\ud83d\udee1\ufe0f"}),(0,Or.jsx)("h1",{children:"Report a Security Vulnerability"}),(0,Or.jsx)("p",{children:"Help us keep FlickXir secure by reporting potential security issues"}),(0,Or.jsxs)("div",{className:"hero-badges",children:[(0,Or.jsx)("span",{className:"badge",children:"Responsible Disclosure"}),(0,Or.jsx)("span",{className:"badge",children:"24/7 Security Team"}),(0,Or.jsx)("span",{className:"badge",children:"Fast Response"})]})]})})}),a&&(0,Or.jsx)("div",{className:"success-banner",children:(0,Or.jsx)("div",{className:"container",children:(0,Or.jsxs)("div",{className:"success-content",children:[(0,Or.jsx)("span",{className:"success-icon",children:"\u2705"}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("h3",{children:"Report Submitted Successfully!"}),(0,Or.jsx)("p",{children:"Thank you for helping us improve security. Our team will review your report and respond within 24-48 hours."})]})]})})}),(0,Or.jsx)("section",{className:"vulnerability-content",children:(0,Or.jsx)("div",{className:"container",children:(0,Or.jsxs)("div",{className:"content-layout",children:[(0,Or.jsxs)("div",{className:"report-form-section",children:[(0,Or.jsxs)("div",{className:"form-header",children:[(0,Or.jsx)("h2",{children:"Submit Vulnerability Report"}),(0,Or.jsx)("p",{children:"Please provide as much detail as possible to help us understand and address the issue quickly."})]}),(0,Or.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),n(!0),setTimeout(()=>{n(!1),i(!0),s({name:"",email:"",severity:"medium",category:"other",title:"",description:"",stepsToReproduce:"",impact:"",attachments:null}),setTimeout(()=>i(!1),5e3)},2e3)},className:"vulnerability-form",children:[(0,Or.jsxs)("div",{className:"form-section",children:[(0,Or.jsx)("h3",{children:"Contact Information"}),(0,Or.jsxs)("div",{className:"form-row",children:[(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"name",children:"Full Name *"}),(0,Or.jsx)("input",{type:"text",id:"name",value:e.name,onChange:e=>o("name",e.target.value),placeholder:"Enter your full name",required:!0})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"email",children:"Email Address *"}),(0,Or.jsx)("input",{type:"email",id:"email",value:e.email,onChange:e=>o("email",e.target.value),placeholder:"your.email@example.com",required:!0})]})]})]}),(0,Or.jsxs)("div",{className:"form-section",children:[(0,Or.jsx)("h3",{children:"Vulnerability Details"}),(0,Or.jsxs)("div",{className:"form-row",children:[(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"severity",children:"Severity Level *"}),(0,Or.jsxs)("select",{id:"severity",value:e.severity,onChange:e=>o("severity",e.target.value),required:!0,children:[(0,Or.jsx)("option",{value:"low",children:"Low - Minor security concern"}),(0,Or.jsx)("option",{value:"medium",children:"Medium - Moderate security risk"}),(0,Or.jsx)("option",{value:"high",children:"High - Significant security risk"}),(0,Or.jsx)("option",{value:"critical",children:"Critical - Immediate security threat"})]})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"category",children:"Category *"}),(0,Or.jsxs)("select",{id:"category",value:e.category,onChange:e=>o("category",e.target.value),required:!0,children:[(0,Or.jsx)("option",{value:"xss",children:"Cross-Site Scripting (XSS)"}),(0,Or.jsx)("option",{value:"sql-injection",children:"SQL Injection"}),(0,Or.jsx)("option",{value:"csrf",children:"Cross-Site Request Forgery (CSRF)"}),(0,Or.jsx)("option",{value:"authentication",children:"Authentication Issues"}),(0,Or.jsx)("option",{value:"authorization",children:"Authorization Problems"}),(0,Or.jsx)("option",{value:"data-exposure",children:"Data Exposure"}),(0,Or.jsx)("option",{value:"dos",children:"Denial of Service"}),(0,Or.jsx)("option",{value:"other",children:"Other Security Issue"})]})]})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"title",children:"Vulnerability Title *"}),(0,Or.jsx)("input",{type:"text",id:"title",value:e.title,onChange:e=>o("title",e.target.value),placeholder:"Brief, descriptive title of the vulnerability",required:!0})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"description",children:"Detailed Description *"}),(0,Or.jsx)("textarea",{id:"description",value:e.description,onChange:e=>o("description",e.target.value),placeholder:"Provide a detailed description of the vulnerability, including technical details...",rows:"5",required:!0})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"stepsToReproduce",children:"Steps to Reproduce *"}),(0,Or.jsx)("textarea",{id:"stepsToReproduce",value:e.stepsToReproduce,onChange:e=>o("stepsToReproduce",e.target.value),placeholder:"1. Go to [URL]\n2. Click on [button/link]\n3. Enter [specific input]\n4. Observe [unexpected behavior]",rows:"4",required:!0})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"impact",children:"Potential Impact *"}),(0,Or.jsx)("textarea",{id:"impact",value:e.impact,onChange:e=>o("impact",e.target.value),placeholder:"Describe the potential impact of this vulnerability (data breach, unauthorized access, etc.)",rows:"3",required:!0})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"attachments",children:"Supporting Files (Optional)"}),(0,Or.jsx)("input",{type:"file",id:"attachments",onChange:e=>{s(t=>Fr(Fr({},t),{},{attachments:e.target.files}))},multiple:!0,accept:".jpg,.jpeg,.png,.gif,.pdf,.txt,.zip",className:"file-input"}),(0,Or.jsx)("div",{className:"file-help",children:"Screenshots, proof-of-concept files, or other supporting documentation (Max 10MB per file)"})]})]}),(0,Or.jsx)("div",{className:"form-actions",children:(0,Or.jsx)("button",{type:"submit",className:"submit-btn",disabled:r,children:r?(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsx)("span",{className:"spinner"}),"Submitting Report..."]}):"Submit Vulnerability Report"})})]})]}),(0,Or.jsxs)("div",{className:"sidebar",children:[(0,Or.jsxs)("div",{className:"info-card",children:[(0,Or.jsx)("div",{className:"card-icon",children:"\ud83d\udccb"}),(0,Or.jsx)("h3",{children:"Security Policy"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"We follow responsible disclosure practices"}),(0,Or.jsx)("li",{children:"Reports are reviewed within 24-48 hours"}),(0,Or.jsx)("li",{children:"We provide regular updates on progress"}),(0,Or.jsx)("li",{children:"Credit is given for valid reports (if desired)"})]})]}),(0,Or.jsxs)("div",{className:"info-card",children:[(0,Or.jsx)("div",{className:"card-icon",children:"\u23f1\ufe0f"}),(0,Or.jsx)("h3",{children:"Response Timeline"}),(0,Or.jsxs)("div",{className:"timeline",children:[(0,Or.jsxs)("div",{className:"timeline-item",children:[(0,Or.jsx)("span",{className:"time",children:"24-48h"}),(0,Or.jsx)("span",{className:"action",children:"Initial Response"})]}),(0,Or.jsxs)("div",{className:"timeline-item",children:[(0,Or.jsx)("span",{className:"time",children:"1-7 days"}),(0,Or.jsx)("span",{className:"action",children:"Investigation"})]}),(0,Or.jsxs)("div",{className:"timeline-item",children:[(0,Or.jsx)("span",{className:"time",children:"7-30 days"}),(0,Or.jsx)("span",{className:"action",children:"Resolution"})]})]})]}),(0,Or.jsxs)("div",{className:"info-card",children:[(0,Or.jsx)("div",{className:"card-icon",children:"\ud83c\udfaf"}),(0,Or.jsx)("h3",{children:"Severity Guidelines"}),(0,Or.jsxs)("div",{className:"severity-guide",children:[(0,Or.jsxs)("div",{className:"severity-item critical",children:[(0,Or.jsx)("span",{className:"severity-label",children:"Critical"}),(0,Or.jsx)("span",{className:"severity-desc",children:"Remote code execution, data breach"})]}),(0,Or.jsxs)("div",{className:"severity-item high",children:[(0,Or.jsx)("span",{className:"severity-label",children:"High"}),(0,Or.jsx)("span",{className:"severity-desc",children:"Privilege escalation, authentication bypass"})]}),(0,Or.jsxs)("div",{className:"severity-item medium",children:[(0,Or.jsx)("span",{className:"severity-label",children:"Medium"}),(0,Or.jsx)("span",{className:"severity-desc",children:"XSS, CSRF, information disclosure"})]}),(0,Or.jsxs)("div",{className:"severity-item low",children:[(0,Or.jsx)("span",{className:"severity-label",children:"Low"}),(0,Or.jsx)("span",{className:"severity-desc",children:"Minor information leaks, UI issues"})]})]})]}),(0,Or.jsxs)("div",{className:"info-card",children:[(0,Or.jsx)("div",{className:"card-icon",children:"\ud83d\udce7"}),(0,Or.jsx)("h3",{children:"Alternative Contact"}),(0,Or.jsx)("p",{children:"For urgent security issues, you can also reach us at:"}),(0,Or.jsx)("a",{href:"mailto:security@flickxir.com",className:"contact-email",children:"security@flickxir.com"}),(0,Or.jsx)("p",{className:"contact-note",children:"Please use this form for non-urgent reports to ensure proper tracking."})]})]})]})})})]})]})};class Rn{static async uploadPrescription(e,t){try{var s;const r="prescriptions/".concat(Date.now(),"_").concat(t.name),{data:n,error:a}=await Cr.storage.from("prescriptions").upload(r,t);if(a)throw new Error("File upload failed: ".concat(a.message));const{data:{publicUrl:i}}=Cr.storage.from("prescriptions").getPublicUrl(r),o=Fr(Fr({},e),{},{file_url:i,file_name:r,status:"pending",user_id:null===(s=(await Cr.auth.getUser()).data.user)||void 0===s?void 0:s.id,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}),{data:l,error:c}=await Cr.from("prescriptions").insert([o]).select("*").single();if(c)throw await Cr.storage.from("prescriptions").remove([r]),c;return{data:l,error:null}}catch(r){return console.error("Prescription upload error:",r),{data:null,error:r}}}static async getUserPrescriptions(e){try{const{data:t,error:s}=await Cr.from("prescriptions").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(s)throw s;return{data:t,error:null}}catch(t){return console.error("Get user prescriptions error:",t),{data:null,error:t}}}static async getPrescriptionById(e){try{const{data:t,error:s}=await Cr.from("prescriptions").select("*").eq("id",e).single();if(s)throw s;return{data:t,error:null}}catch(t){return console.error("Get prescription error:",t),{data:null,error:t}}}static async updatePrescriptionStatus(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const r={status:t,updated_at:(new Date).toISOString()};s&&(r.admin_notes=s);const{data:n,error:a}=await Cr.from("prescriptions").update(r).eq("id",e).select("*").single();if(a)throw a;return{data:n,error:null}}catch(r){return console.error("Update prescription status error:",r),{data:null,error:r}}}static async getAllPrescriptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{let t=Cr.from("prescriptions").select("*").order("created_at",{ascending:!1});e&&(t=t.eq("status",e));const{data:s,error:r}=await t;if(r)throw r;return{data:s,error:null}}catch(t){return console.error("Get all prescriptions error:",t),{data:null,error:t}}}static async deletePrescription(e){try{const{data:t,error:s}=await this.getPrescriptionById(e);if(s)throw s;if(t.file_name){const{error:e}=await Cr.storage.from("prescriptions").remove([t.file_name]);e&&console.warn("Failed to delete file:",e)}const{error:r}=await Cr.from("prescriptions").delete().eq("id",e);if(r)throw r;return{error:null}}catch(t){return console.error("Delete prescription error:",t),{error:t}}}}var In=s(257),An=s.n(In);class qn{static async extractTextFromImage(e){try{if(!e)throw new Error("No image file provided");if(!e.type.startsWith("image/"))throw new Error("File must be an image");const t=URL.createObjectURL(e),s=await An().recognize(t,"eng",{logger:e=>{e.status}});return URL.revokeObjectURL(t),{text:s.data.text,confidence:s.data.confidence,error:null}}catch(t){return console.error("\u274c OCRService: Text extraction failed:",t),{text:"",confidence:0,error:t}}}static extractMedicineNames(e){try{if(!e||"string"!==typeof e)return[];const t=["paracetamol","amoxicillin","ibuprofen","vitamin","calcium","metformin","omeprazole","pantoprazole","azithromycin","ceftriaxone","diclofenac","acetaminophen","aspirin","cetirizine","loratadine","ranitidine","famotidine","cimetidine","lansoprazole","rabeprazole","esomeprazole","dexlansoprazole","clopidogrel","atorvastatin","simvastatin","rosuvastatin","pravastatin","fluvastatin","amlodipine","losartan","valsartan","irbesartan","candesartan","olmesartan","telmisartan","enalapril","lisinopril","ramipril","quinapril","perindopril","trandolapril","fosinopril","benazepril","moexipril","spirapril","zofenopril","captopril","imipenem","meropenem","ertapenem","doripenem","imipenem","cilastatin","vancomycin","teicoplanin","daptomycin","linezolid","tedizolid","ceftazidime","cefepime","ceftriaxone","cefotaxime","cefuroxime","cefazolin","cefoxitin","cefotetan","cefmetazole","cefotetan","cefmetazole","cefoxitin","cefazolin","cefuroxime","cefotaxime","ceftriaxone","cefepime","ceftazidime","cefoperazone","cefpirome","cefquinome","cefoselis","cefpirome","cefquinome","cefoselis"],s=["tablet","capsule","syrup","injection","cream","ointment","drops","mg","mcg","ml","g","kg","units","iu","mcg/ml","mg/ml"],r=e.split("\n").filter(e=>e.trim().length>0),n=e.split(/\s+/).filter(e=>e.trim().length>0),a=new Set;n.forEach(e=>{const r=e.replace(/[^\w\-\.]/g,"").toLowerCase().trim();r.length>2&&(t.includes(r)&&a.add(r),s.some(e=>r.includes(e))&&a.add(r))}),r.forEach(e=>{const r=e.trim();if(s.some(e=>r.toLowerCase().includes(e.toLowerCase()))&&r.length>3){r.split(/\s+/).forEach(e=>{const s=e.replace(/[^\w\-\.]/g,"").toLowerCase().trim();s.length>2&&t.includes(s)&&a.add(s)})}});[/(?:medicine|rx|drug|med)[:\s]+([^\n\r]+)/gi,/([a-zA-Z]+(?:\s+\d+[mgmcgml])?)/g].forEach(s=>{const r=e.match(s);r&&r.forEach(e=>{const s=e.replace(/[^\w\s\-\.]/g," ").trim().toLowerCase();if(s.length>2){s.split(/\s+/).forEach(e=>{(t.includes(e)||e.length>3)&&a.add(e)})}})});return Array.from(a)}catch(t){return console.error("\u274c OCRService: Medicine name extraction failed:",t),[]}}static extractPatientInfo(e){try{if(!e||"string"!==typeof e)return{};const t=e.split("\n").filter(e=>e.trim().length>0),s={};return t.forEach(e=>{const t=e.trim().toLowerCase();if(t.includes("patient")||t.includes("name")){const t=e.match(/(?:patient|name)[:\s]+([^\n\r]+)/i);t&&t[1]&&(s.patientName=t[1].trim())}if(t.includes("doctor")||t.includes("dr.")||t.includes("dr ")){const t=e.match(/(?:doctor|dr\.?)[:\s]+([^\n\r]+)/i);t&&t[1]&&(s.doctorName=t[1].trim())}if(t.includes("date")||/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(e)){const t=e.match(/(?:date)[:\s]+([^\n\r]+)/i)||e.match(/(\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4})/);t&&t[1]&&(s.prescriptionDate=t[1].trim())}}),s}catch(t){return console.error("\u274c OCRService: Patient info extraction failed:",t),{}}}static async processPrescriptionImage(e){try{const{text:t,confidence:s,error:r}=await this.extractTextFromImage(e);if(r)throw r;if(!t||0===t.trim().length)throw new Error("No text could be extracted from the image");const n=this.extractMedicineNames(t),a=this.extractPatientInfo(t);return{data:{rawText:t,confidence:s,medicineNames:n,patientInfo:a,extractedAt:(new Date).toISOString()},error:null}}catch(t){return console.error("\u274c OCRService: Prescription processing failed:",t),{data:null,error:t}}}}class Dn{static async processOCRResults(e){try{if(!e||!e.medicineNames||0===e.medicineNames.length)throw new Error("No medicine names found in OCR data");const t=Date.now(),s=e.medicineNames.filter(e=>Kr.isValidMedicineName(e)).map(e=>Kr.normalizeMedicineName(e)).filter(e=>e.length>2);if(0===s.length)throw new Error("No valid medicine names could be extracted from the prescription");const{data:r,error:n}=await Qr.batchSearch(s);if(n)throw new Error("Product search failed: ".concat(n.message));const a=this.processSearchResults(r,e),i=Date.now()-t;return a.processingTime=i,{data:a,error:null}}catch(t){return console.error("\u274c PrescriptionMatchingService: Processing failed:",t),{data:null,error:t}}}static processSearchResults(e,t){const s=[],r=[],n=[];e.forEach(e=>{const{searchTerm:t,matches:a,error:i}=e;if(i||!a||0===a.length)r.push({originalName:t,cleanedName:Kr.normalizeMedicineName(t),reason:i?"search_error":"not_found",error:i||null,suggestedAlternatives:[]});else{const e=a[0],r=a.slice(1,4),{name:i,dosage:o}=Kr.extractDosageInfo(t),l={originalName:t,cleanedName:i,dosage:o,bestMatch:{id:e.id,name:e.name,genericName:e.generic_name,manufacturer:e.manufacturer,price:e.price,mrp:e.mrp,discountPercentage:e.discount_percentage,inStock:e.in_stock,stockQuantity:e.stock_quantity,dosageForm:e.dosage_form,strength:e.strength,packSize:e.pack_size,requiresPrescription:e.requires_prescription,imageUrls:e.image_urls,relevanceScore:e.relevanceScore||0},alternatives:r.map(e=>({id:e.id,name:e.name,genericName:e.generic_name,price:e.price,inStock:e.in_stock,relevanceScore:e.relevanceScore||0})),confidence:this.calculateMatchConfidence(t,e),matchType:this.determineMatchType(t,e)};s.push(l),n.push(...a)}});const a=this.calculateSummary(s,r,n);return{matchedMedicines:s,unmatchedMedicines:r,summary:a,originalOCRData:t,confidence:this.calculateOverallConfidence(t,s,r),timestamp:(new Date).toISOString(),prescriptionId:this.generatePrescriptionId()}}static calculateMatchConfidence(e,t){if(!t)return 0;let s=t.relevanceScore||0;const r=e.toLowerCase(),n=(t.name||"").toLowerCase();return n===r?s=Math.max(s,95):n.includes(r)&&(s=Math.max(s,85)),e.length<4&&(s*=.8),t.generic_name&&t.manufacturer&&(s+=5),Math.min(100,Math.round(s))}static determineMatchType(e,t){if(!t)return"none";const s=e.toLowerCase().trim(),r=(t.name||"").toLowerCase().trim(),n=(t.generic_name||"").toLowerCase().trim();return r===s||n===s?"exact":r.startsWith(s)||n.startsWith(s)?"prefix":r.includes(s)||n.includes(s)?"partial":n&&r!==n?"generic":"fuzzy"}static calculateSummary(e,t,s){const r=e.length+t.length,n=e.length,a=r>0?Math.round(n/r*100):0,i=e.filter(e=>e.bestMatch.inStock).length,o=n>0?Math.round(i/n*100):0,l=e.reduce((e,t)=>e+(t.bestMatch.inStock&&t.bestMatch.price||0),0),c=e.reduce((e,t)=>t.bestMatch.inStock&&t.bestMatch.mrp&&t.bestMatch.price?e+(t.bestMatch.mrp-t.bestMatch.price):e,0);return{totalMedicines:r,matchedCount:n,unmatchedCount:t.length,matchRate:a,availability:{inStock:i,outOfStock:n-i,availabilityRate:o},estimatedCost:{total:Math.round(100*l)/100,currency:"INR",potentialSavings:Math.round(100*c)/100},averageConfidence:n>0?Math.round(e.reduce((e,t)=>e+t.confidence,0)/n):0}}static calculateOverallConfidence(e,t,s){const r=e.confidence||50,n=t.length+s.length;if(0===n)return 0;let a=.3*r;if(a+=40*(t.length/n),t.length>0){a+=.3*(t.reduce((e,t)=>e+t.confidence,0)/t.length)}return Math.min(100,Math.round(a))}static generatePrescriptionId(){const e=Date.now().toString(36),t=Math.random().toString(36).substr(2,5);return"rx_".concat(e,"_").concat(t)}static async findAlternativesForUnmatched(e){const t=[];for(const r of e)try{const{data:e,error:s}=await Qr.findAlternatives(r.originalName);t.push(Fr(Fr({},r),{},{suggestedAlternatives:e||[],alternativesFound:e&&e.length>0}))}catch(s){console.warn('\u26a0\ufe0f Failed to find alternatives for "'.concat(r.originalName,'":'),s),t.push(Fr(Fr({},r),{},{suggestedAlternatives:[],alternativesFound:!1}))}return t}static validateResults(e){const t=[],s=[],r=e.matchedMedicines.filter(e=>e.confidence<60);r.length>0&&s.push("".concat(r.length," medicines have low confidence matches"));const n=e.unmatchedMedicines.length/(e.matchedMedicines.length+e.unmatchedMedicines.length)*100;n>50?t.push("More than 50% of medicines could not be matched"):n>25&&s.push("More than 25% of medicines could not be matched");const a=e.matchedMedicines.filter(e=>e.bestMatch.requiresPrescription);return a.length>0&&s.push("".concat(a.length," medicines require prescription verification")),{isValid:0===t.length,issues:t,warnings:s,requiresReview:t.length>0||s.length>0}}}class Mn{static async addPrescriptionItemsToCart(e,t){try{if(!e||0===e.length)throw new Error("No prescription items provided");const{data:{user:r},error:n}=await Cr.auth.getUser();if(n||!r)throw new Error("User not authenticated");const a={success:[],errors:[],prescriptionId:t,totalItems:e.length};for(const i of e)try{const e=this.validatePrescriptionItem(i);if(!e.isValid){a.errors.push({item:i.name||i.originalName,error:e.error});continue}const{data:s,error:n}=await Cr.from("cart_items").select("*").eq("user_id",r.id).eq("product_id",i.id).single();if(n&&"PGRST116"!==n.code)throw n;let o;if(s){const e=s.quantity+(i.quantity||1);o=await Cr.from("cart_items").update({quantity:e,prescription_context:{prescriptionId:t,originalName:i.originalName,dosageInstructions:i.dosage||i.dosageInstructions,matchScore:i.matchScore,confidence:i.confidence,addedAt:(new Date).toISOString()},updated_at:(new Date).toISOString()}).eq("id",s.id).select().single()}else o=await Cr.from("cart_items").insert({user_id:r.id,product_id:i.id,quantity:i.quantity||1,prescription_context:{prescriptionId:t,originalName:i.originalName,dosageInstructions:i.dosage||i.dosageInstructions,matchScore:i.matchScore,confidence:i.confidence,addedAt:(new Date).toISOString()},is_prescription_item:!0,requires_prescription_verification:i.requiresPrescription||!1}).select().single();if(o.error)throw o.error;a.success.push({item:i.name||i.originalName,cartItemId:o.data.id,quantity:o.data.quantity,action:s?"updated":"added"})}catch(s){console.error('\u274c Failed to add item "'.concat(i.name||i.originalName,'" to cart:'),s),a.errors.push({item:i.name||i.originalName,error:s.message||"Failed to add to cart"})}return await this.logPrescriptionCartActivity(r.id,t,a),{data:a,error:null}}catch(r){return console.error("\u274c PrescriptionCartService: Failed to add items to cart:",r),{data:null,error:r}}}static validatePrescriptionItem(e){return e?e.id?e.name||e.originalName?e.quantity&&(e.quantity<1||e.quantity>10)?{isValid:!1,error:"Quantity must be between 1 and 10"}:{isValid:!0}:{isValid:!1,error:"Product name is required"}:{isValid:!1,error:"Product ID is required"}:{isValid:!1,error:"Item is required"}}static async markItemsAsPrescriptionBased(e,t){try{const{data:s,error:r}=await Cr.from("cart_items").update({is_prescription_item:!0,prescription_context:{prescriptionId:t,markedAt:(new Date).toISOString()}}).in("id",e).select();if(r)throw r;return{data:s,error:null}}catch(s){return console.error("\u274c Failed to mark items as prescription-based:",s),{data:null,error:s}}}static validatePrescriptionRequirements(e){const t=[],s=[],r=[];return e.forEach(e=>{e.requires_prescription_verification?t.push(e):e.is_prescription_item&&s.push(e)}),t.length>0&&r.push({type:"prescription_required",message:"".concat(t.length," items require prescription verification"),items:t.map(e=>e.product_name||e.id)}),{isValid:0===r.length,prescriptionRequired:t.length,prescriptionOptional:s.length,issues:r,requiresPharmacyReview:t.length>0}}static async getPrescriptionCartItems(e,t){try{const{data:s,error:r}=await Cr.from("cart_items").select("\n          *,\n          products (\n            name,\n            price,\n            mrp,\n            manufacturer,\n            requires_prescription,\n            in_stock\n          )\n        ").eq("user_id",e).eq("prescription_context->prescriptionId",t);if(r)throw r;return{data:s||[],error:null}}catch(s){return console.error("\u274c Failed to get prescription cart items:",s),{data:null,error:s}}}static async removePrescriptionItems(e,t){try{const{data:s,error:r}=await Cr.from("cart_items").delete().eq("user_id",e).eq("prescription_context->prescriptionId",t).select();if(r)throw r;return{data:{removedCount:(null===s||void 0===s?void 0:s.length)||0,removedItems:s||[]},error:null}}catch(s){return console.error("\u274c Failed to remove prescription items:",s),{data:null,error:s}}}static async updatePrescriptionItemQuantity(e,t){try{if(t<1||t>10)throw new Error("Quantity must be between 1 and 10");const{data:s,error:r}=await Cr.from("cart_items").update({quantity:t,updated_at:(new Date).toISOString()}).eq("id",e).eq("is_prescription_item",!0).select().single();if(r)throw r;return{data:s,error:null}}catch(s){return console.error("\u274c Failed to update prescription item quantity:",s),{data:null,error:s}}}static async getPrescriptionCartSummary(e,t){try{const{data:s,error:r}=await this.getPrescriptionCartItems(e,t);if(r)throw r;return{data:{totalItems:s.length,totalQuantity:s.reduce((e,t)=>e+t.quantity,0),totalAmount:s.reduce((e,t)=>{var s;return e+((null===(s=t.products)||void 0===s?void 0:s.price)||0)*t.quantity},0),prescriptionRequired:s.filter(e=>e.requires_prescription_verification).length,inStockItems:s.filter(e=>{var t;return null===(t=e.products)||void 0===t?void 0:t.in_stock}).length,outOfStockItems:s.filter(e=>{var t;return!(null!==(t=e.products)&&void 0!==t&&t.in_stock)}).length},error:null}}catch(s){return console.error("\u274c Failed to get prescription cart summary:",s),{data:null,error:s}}}static async logPrescriptionCartActivity(e,t,s){try{await Cr.from("prescription_cart_logs").insert({user_id:e,prescription_id:t,activity_type:"add_to_cart",activity_data:s,timestamp:(new Date).toISOString()})}catch(r){console.warn("\u26a0\ufe0f Failed to log prescription cart activity:",r)}}static handleCartError(e){const t={userMessage:"Failed to add item to cart",technicalMessage:e.message,retryable:!0,suggestions:[]};return e.message.includes("authentication")||e.message.includes("user")?(t.userMessage="Please sign in to add items to cart",t.retryable=!1,t.suggestions.push("Sign in to your account")):e.message.includes("product")||e.message.includes("not found")?(t.userMessage="This product is no longer available",t.retryable=!1,t.suggestions.push("Try searching for similar products")):e.message.includes("quantity")?(t.userMessage="Invalid quantity specified",t.suggestions.push("Quantity must be between 1 and 10")):(e.message.includes("network")||e.message.includes("connection"))&&(t.userMessage="Network error occurred",t.suggestions.push("Check your internet connection and try again")),t}}class Ln{static handleOCRError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s={type:this.ERROR_TYPES.OCR_ERROR,userMessage:"Failed to process prescription image",technicalMessage:e.message,retryable:!0,suggestions:[],context:t};return e.message.includes("file")||e.message.includes("upload")?(s.userMessage="Invalid file or upload failed",s.suggestions=["Ensure the file is a valid image (JPEG, PNG) or PDF","Check that the file size is under 10MB","Try uploading the file again"]):e.message.includes("text")||e.message.includes("extract")?(s.userMessage="Could not read text from the prescription",s.suggestions=["Ensure the prescription image is clear and well-lit","Try taking a new photo with better lighting","Make sure all text is visible and not cut off","Avoid shadows or glare on the prescription"]):e.message.includes("quality")||e.message.includes("blur")?(s.userMessage="Prescription image quality is too low",s.suggestions=["Take a clearer photo of the prescription","Ensure the camera is focused properly","Use good lighting when taking the photo","Hold the camera steady to avoid blur"]):(e.message.includes("medicine")||e.message.includes("names"))&&(s.userMessage="No medicine names could be detected",s.suggestions=["Ensure the prescription contains medicine names","Check that the medicine names are clearly visible","Try uploading a different section of the prescription","Contact support if the prescription is handwritten"]),s}static handleMatchingError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s={type:this.ERROR_TYPES.MATCHING_ERROR,userMessage:"Failed to find matching medicines",technicalMessage:e.message,retryable:!0,suggestions:[],context:t};return e.message.includes("database")||e.message.includes("connection")?(s.userMessage="Database connection error",s.suggestions=["Check your internet connection","Try again in a few moments","Contact support if the problem persists"]):e.message.includes("search")||e.message.includes("query")?(s.userMessage="Search service temporarily unavailable",s.suggestions=["Try searching again","Check your internet connection","Contact support if the issue continues"]):e.message.includes("timeout")?(s.userMessage="Search took too long to complete",s.suggestions=["Try again with a simpler prescription","Check your internet connection","Contact support if timeouts persist"]):(e.message.includes("no matches")||e.message.includes("not found"))&&(s.userMessage="No matching medicines found in our database",s.retryable=!1,s.suggestions=["Try searching for individual medicine names manually","Contact our pharmacy team for assistance","Check if the medicine names are spelled correctly"]),s}static handleCartError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s={type:this.ERROR_TYPES.CART_ERROR,userMessage:"Failed to add item to cart",technicalMessage:e.message,retryable:!0,suggestions:[],context:t};return e.message.includes("authentication")||e.message.includes("login")?(s.type=this.ERROR_TYPES.AUTHENTICATION_ERROR,s.userMessage="Please sign in to add items to cart",s.retryable=!1,s.suggestions=["Sign in to your account","Create an account if you don't have one"]):e.message.includes("product")||e.message.includes("not available")?(s.userMessage="This product is no longer available",s.retryable=!1,s.suggestions=["Try searching for similar products","Contact our pharmacy team for alternatives"]):e.message.includes("quantity")?(s.userMessage="Invalid quantity specified",s.suggestions=["Quantity must be between 1 and 10","Adjust the quantity and try again"]):(e.message.includes("stock")||e.message.includes("inventory"))&&(s.userMessage="Product is currently out of stock",s.retryable=!1,s.suggestions=["Try again later when stock is replenished","Look for alternative products","Contact us to check availability"]),s}static handleGeneralError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s={type:this.ERROR_TYPES.GENERAL_ERROR,userMessage:"An unexpected error occurred",technicalMessage:e.message,retryable:!0,suggestions:["Try refreshing the page","Check your internet connection","Contact support if the problem persists"],context:t};return e.message.includes("network")||e.message.includes("fetch")?(s.type=this.ERROR_TYPES.NETWORK_ERROR,s.userMessage="Network connection error",s.suggestions=["Check your internet connection","Try again in a few moments","Switch to a different network if available"]):(e.message.includes("validation")||e.message.includes("invalid"))&&(s.type=this.ERROR_TYPES.VALIDATION_ERROR,s.userMessage="Invalid data provided",s.suggestions=["Check that all required fields are filled","Ensure data is in the correct format","Try uploading a different file"]),s}static logError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s={timestamp:(new Date).toISOString(),type:e.type,userMessage:e.userMessage,technicalMessage:e.technicalMessage,retryable:e.retryable,context:Fr(Fr({},e.context),t),userAgent:navigator.userAgent,url:window.location.href};console.error("\ud83d\udea8 Error logged:",s);try{const e=JSON.parse(localStorage.getItem("errorLogs")||"[]");e.push(s),e.length>50&&e.splice(0,e.length-50),localStorage.setItem("errorLogs",JSON.stringify(e))}catch(r){console.warn("Failed to store error log:",r)}}static getErrorMessageProps(e){return{title:this.getErrorTitle(e.type),message:e.userMessage,suggestions:e.suggestions,retryable:e.retryable,technicalDetails:e.technicalMessage,type:"error"}}static getErrorTitle(e){return{[this.ERROR_TYPES.OCR_ERROR]:"Prescription Processing Failed",[this.ERROR_TYPES.MATCHING_ERROR]:"Medicine Matching Failed",[this.ERROR_TYPES.CART_ERROR]:"Cart Operation Failed",[this.ERROR_TYPES.NETWORK_ERROR]:"Connection Error",[this.ERROR_TYPES.VALIDATION_ERROR]:"Invalid Input",[this.ERROR_TYPES.AUTHENTICATION_ERROR]:"Authentication Required",[this.ERROR_TYPES.GENERAL_ERROR]:"Unexpected Error"}[e]||"Error Occurred"}static createRetryFunction(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;return async()=>{if(r>=s)throw new Error("Maximum retry attempts (".concat(s,") exceeded"));r++;try{return await e(...t)}catch(n){if(r<s){const e=1e3*Math.pow(2,r);throw await new Promise(t=>setTimeout(t,e)),n}throw n}}}static handleBatchErrors(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||0===e.length)return null;const s={},r=new Set;let n=!1;e.forEach(e=>{const a=this.handleGeneralError(e,t);s[a.type]||(s[a.type]=[]),s[a.type].push(a),a.retryable&&(n=!0),a.suggestions.forEach(e=>r.add(e))});Object.keys(s)[0];const a=e.length;return{type:"batch_error",userMessage:"".concat(a," error").concat(a>1?"s":""," occurred during processing"),technicalMessage:"Multiple errors: ".concat(e.map(e=>e.message).join("; ")),retryable:n,suggestions:Array.from(r),errorsByType:s,context:Fr(Fr({},t),{},{errorCount:a})}}static isRecoverableError(e){return[/network/i,/connection/i,/timeout/i,/temporary/i,/retry/i,/rate limit/i].some(t=>t.test(e.message))}static getRecoverySuggestions(e){const t=[];return this.isRecoverableError(e)?(t.push("Try the operation again"),(e.message.includes("network")||e.message.includes("connection"))&&(t.push("Check your internet connection"),t.push("Switch to a different network if available")),e.message.includes("timeout")&&(t.push("Wait a moment before trying again"),t.push("Try with a smaller file or simpler request"))):(t.push("Contact support for assistance"),t.push("Try a different approach to complete your task")),t}}Ln.ERROR_TYPES={OCR_ERROR:"ocr_error",MATCHING_ERROR:"matching_error",CART_ERROR:"cart_error",NETWORK_ERROR:"network_error",VALIDATION_ERROR:"validation_error",AUTHENTICATION_ERROR:"auth_error",GENERAL_ERROR:"general_error"};const Fn=e=>{let{type:s,title:r,message:n,suggestions:a=[],onRetry:i,onDismiss:o,technicalDetails:l,autoHide:c=!1,children:d}=e;const[u,h]=(0,t.useState)(!0),[m,p]=(0,t.useState)(!1);if((0,t.useEffect)(()=>{if(c){const e=setTimeout(()=>{h(!1),o&&o()},5e3);return()=>clearTimeout(e)}},[c,o]),!u)return null;return(0,Or.jsxs)("div",{className:"user-feedback-message ".concat(s),children:[(0,Or.jsxs)("div",{className:"message-header",children:[(0,Or.jsx)("div",{className:"message-icon",children:(()=>{switch(s){case"success":return"\u2705";case"error":return"\u274c";case"warning":return"\u26a0\ufe0f";case"info":return"\u2139\ufe0f";default:return"\ud83d\udce2"}})()}),(0,Or.jsxs)("div",{className:"message-content",children:[r&&(0,Or.jsx)("h4",{className:"message-title",children:r}),(0,Or.jsx)("p",{className:"message-text",children:n})]}),(0,Or.jsx)("button",{className:"dismiss-button",onClick:()=>{h(!1),o&&o()},"aria-label":"Dismiss message",children:"\xd7"})]}),a.length>0&&(0,Or.jsxs)("div",{className:"message-suggestions",children:[(0,Or.jsx)("p",{className:"suggestions-title",children:"Suggestions:"}),(0,Or.jsx)("ul",{children:a.map((e,t)=>(0,Or.jsx)("li",{children:e},t))})]}),i&&(0,Or.jsx)("div",{className:"message-actions",children:(0,Or.jsx)("button",{className:"retry-button",onClick:i,children:"\ud83d\udd04 Try Again"})}),l&&(0,Or.jsxs)("div",{className:"technical-details",children:[(0,Or.jsxs)("button",{className:"toggle-details-button",onClick:()=>p(!m),children:[m?"\u25bc":"\u25b6"," Technical Details"]}),m&&(0,Or.jsx)("div",{className:"technical-details-content",children:(0,Or.jsx)("code",{children:l})})]}),d]})},Un=e=>(0,Or.jsx)(Fn,Fr({type:"success"},e)),zn=e=>(0,Or.jsx)(Fn,Fr({type:"error"},e)),Bn=e=>(0,Or.jsx)(Fn,Fr({type:"warning"},e));class Wn extends t.Component{constructor(e){super(e),this.handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:null})},this.handleReload=()=>{window.location.reload()},this.state={hasError:!1,error:null,errorInfo:null,errorId:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorId:Date.now().toString(36)+Math.random().toString(36).substr(2)}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({errorInfo:t});const s=Ln.handleGeneralError(e,{componentStack:t.componentStack,errorBoundary:!0,errorId:this.state.errorId});Ln.logError(s,{component:"ErrorBoundary",props:this.props,errorInfo:t})}render(){var e,t;return this.state.hasError?this.props.fallback?this.props.fallback(this.state.error,this.handleRetry):(0,Or.jsxs)("div",{className:"error-boundary-container",children:[(0,Or.jsx)(zn,{title:"Something went wrong",message:"An unexpected error occurred while loading this section. This has been automatically reported to our team.",suggestions:["Try refreshing the page","Clear your browser cache and cookies","Try again in a few minutes","Contact support if the problem persists"],onRetry:this.handleRetry,technicalDetails:this.props.showTechnicalDetails?"".concat(null===(e=this.state.error)||void 0===e?void 0:e.message,"\n\nError ID: ").concat(this.state.errorId,"\n\nComponent Stack: ").concat(null===(t=this.state.errorInfo)||void 0===t?void 0:t.componentStack):"Error ID: ".concat(this.state.errorId)}),(0,Or.jsxs)("div",{className:"error-boundary-actions",children:[(0,Or.jsx)("button",{className:"reload-button",onClick:this.handleReload,children:"\ud83d\udd04 Reload Page"}),this.props.onError&&(0,Or.jsx)("button",{className:"report-button",onClick:()=>this.props.onError(this.state.error,this.state.errorInfo),children:"\ud83d\udce7 Report Issue"})]})]}):this.props.children}}const Hn=Wn,Vn=()=>{const e=ee(),{user:s,isAuthenticated:r}=Ir(),n=(0,t.useRef)(null),[a,i]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(null),[m,p]=(0,t.useState)(null),[f,g]=(0,t.useState)(""),[v,x]=(0,t.useState)({}),[y,j]=(0,t.useState)(0),[b,w]=(0,t.useState)(!1),[N,k]=(0,t.useState)([]),[_,S]=(0,t.useState)({}),[C,E]=(0,t.useState)(new Set),[P,T]=(0,t.useState)([]);(0,t.useEffect)(()=>{r||e("/signin")},[r,e]),(0,t.useEffect)(()=>{window.scrollTo(0,0)},[]);const O=e=>{const t=e.target.files[0];if(t){if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(t.type))return void x(e=>Fr(Fr({},e),{},{prescriptionFile:"Please upload a valid file (JPEG, PNG, or PDF)"}));if(t.size>10485760)return void x(e=>Fr(Fr({},e),{},{prescriptionFile:"File size must be less than 10MB"}));i(t),x(e=>{const t=Fr({},e);return delete t.prescriptionFile,t}),d(null),h(null),p(null)}},R=async()=>{if(a){l(!0),x({}),j(0);try{var e,t,s,r,n,i,o,c,u;const{data:l,error:m}=await qn.processPrescriptionImage(a);if(m)throw new Error("OCR processing failed: ".concat(m.message));if(!l||!l.medicineNames||0===l.medicineNames.length)throw new Error("No medicine names could be extracted from the prescription. Please ensure the image is clear and contains readable text.");w(!0);const{data:f,error:g}=await Dn.processOCRResults(l);if(g)throw new Error("Medicine matching failed: ".concat(g.message));if(!f)throw new Error("No matching data returned from prescription matching service");h(f);const v={medicines:(f.matchedMedicines||[]).map(e=>{var t,s,r,n,a,i,o,l,c,d,u;return{id:(null===(t=e.bestMatch)||void 0===t?void 0:t.id)||"unknown",name:(null===(s=e.bestMatch)||void 0===s?void 0:s.name)||e.originalName||"Unknown Medicine",originalName:e.originalName||"Unknown",dosage:e.dosage||(null===(r=e.bestMatch)||void 0===r?void 0:r.dosageForm)||"As prescribed",quantity:1,inStock:(null===(n=e.bestMatch)||void 0===n?void 0:n.inStock)||!1,price:(null===(a=e.bestMatch)||void 0===a?void 0:a.price)||0,mrp:(null===(i=e.bestMatch)||void 0===i?void 0:i.mrp)||0,discount:(null===(o=e.bestMatch)||void 0===o?void 0:o.discountPercentage)||0,manufacturer:(null===(l=e.bestMatch)||void 0===l?void 0:l.manufacturer)||"Unknown",genericName:(null===(c=e.bestMatch)||void 0===c?void 0:c.genericName)||"",requiresPrescription:(null===(d=e.bestMatch)||void 0===d?void 0:d.requiresPrescription)||!1,matchScore:(null===(u=e.bestMatch)||void 0===u?void 0:u.relevanceScore)||0,confidence:e.confidence||0}}),unmatchedMedicines:(f.unmatchedMedicines||[]).map(e=>Fr(Fr({},e),{},{suggestions:e.suggestions||[],suggestedAlternatives:e.suggestedAlternatives||[]})),patientName:(null===(e=f.originalOCRData)||void 0===e||null===(t=e.patientInfo)||void 0===t?void 0:t.patientName)||"Not detected",doctorName:(null===(s=f.originalOCRData)||void 0===s||null===(r=s.patientInfo)||void 0===r?void 0:r.doctorName)||"Not detected",prescriptionDate:(null===(n=f.originalOCRData)||void 0===n||null===(i=n.patientInfo)||void 0===i?void 0:i.prescriptionDate)||"Not detected",rawText:(null===(o=f.originalOCRData)||void 0===o?void 0:o.rawText)||"",confidence:f.confidence||0,summary:f.summary||{totalMedicines:0,matchedCount:0,matchRate:0,availability:{inStock:0,outOfStock:0,availabilityRate:0},estimatedCost:{total:0,currency:"INR"}},totalAmount:(null===(c=f.summary)||void 0===c||null===(u=c.estimatedCost)||void 0===u?void 0:u.total)||0};d(v);const x=100===f.summary.availability.availabilityRate;p(x?"available":"partial")}catch(m){let e;console.error("\u274c Prescription processing error:",m),e=m.message.includes("OCR")||m.message.includes("text extraction")?Ln.handleOCRError(m,{prescriptionFile:a.name}):m.message.includes("matching")||m.message.includes("search")?Ln.handleMatchingError(m,{ocrData:ocrData}):Ln.handleGeneralError(m,{step:"prescription_processing"}),T(t=>[...t,Fr(Fr({id:Date.now(),type:"error"},Ln.getErrorMessageProps(e)),{},{onRetry:e.retryable?()=>R():null})]),x(t=>Fr(Fr({},t),{},{processing:e.userMessage}))}finally{l(!1),w(!1),j(0)}}else x(e=>Fr(Fr({},e),{},{prescriptionFile:"Please upload a prescription first"}))},I=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const s=e.id;S(e=>Fr(Fr({},e),{},{[s]:"adding"}));try{const r={id:e.id,name:e.name,originalName:e.originalName,price:e.price,quantity:t,dosage:e.dosage,requiresPrescription:e.requiresPrescription,matchScore:e.matchScore,confidence:e.confidence},{data:n,error:a}=await Mn.addPrescriptionItemsToCart([r],null===u||void 0===u?void 0:u.prescriptionId);if(a)throw new Error(a.message);if(n.errors&&n.errors.length>0)throw new Error(n.errors[0].error);S(e=>Fr(Fr({},e),{},{[s]:"success"})),T(t=>[...t,{id:Date.now(),type:"success",title:"Added to Cart",message:"".concat(e.name," has been added to your cart successfully."),autoHide:!0}]),setTimeout(()=>{S(e=>{const t=Fr({},e);return delete t[s],t})},2e3)}catch(r){console.error("\u274c Failed to add medicine to cart:",r),S(e=>Fr(Fr({},e),{},{[s]:"error"}));const n=Ln.handleCartError(r,{medicine:e.name,quantity:t});T(s=>[...s,Fr(Fr({id:Date.now(),type:"error"},Ln.getErrorMessageProps(n)),{},{onRetry:n.retryable?()=>I(e,t):null})]),setTimeout(()=>{S(e=>{const t=Fr({},e);return delete t[s],t})},3e3)}},A=(e,t)=>{t<1||t>10||d(s=>Fr(Fr({},s),{},{medicines:(s.medicines||[]).map(s=>s.id===e?Fr(Fr({},s),{},{quantity:t}):s)}))};return r?(0,Or.jsx)(Hn,{children:(0,Or.jsxs)("div",{className:"prescription-upload-container",children:[(0,Or.jsx)(Gr,{}),(0,Or.jsxs)("div",{className:"prescription-upload-content",children:[P.length>0&&(0,Or.jsxs)("div",{className:"feedback-messages",children:[P.map(e=>{const t="success"===e.type?Un:"warning"===e.type?Bn:zn;return(0,Or.jsx)(t,{title:e.title,message:e.message,suggestions:e.suggestions,onRetry:e.onRetry,onDismiss:()=>{return t=e.id,void T(e=>e.filter(e=>e.id!==t));var t},technicalDetails:e.technicalDetails,autoHide:e.autoHide},e.id)}),P.length>1&&(0,Or.jsx)("button",{className:"clear-all-messages",onClick:()=>{T([])},children:"Clear All Messages"})]}),(0,Or.jsxs)("div",{className:"upload-hero",children:[(0,Or.jsx)("h1",{children:"AI-Powered Prescription Processing"}),(0,Or.jsx)("p",{children:"Just upload your prescription and our AI will handle the rest!"})]}),(0,Or.jsxs)("div",{className:"upload-section",children:[(0,Or.jsxs)("div",{className:"upload-info-card",children:[(0,Or.jsx)("h2",{children:"How It Works"}),(0,Or.jsxs)("div",{className:"info-steps",children:[(0,Or.jsxs)("div",{className:"step",children:[(0,Or.jsx)("div",{className:"step-number",children:"1"}),(0,Or.jsx)("h3",{children:"Upload Prescription"}),(0,Or.jsx)("p",{children:"Take a photo or scan your prescription"})]}),(0,Or.jsxs)("div",{className:"step",children:[(0,Or.jsx)("div",{className:"step-number",children:"2"}),(0,Or.jsx)("h3",{children:"AI Processing"}),(0,Or.jsx)("p",{children:"Our ML model extracts medicine details"})]}),(0,Or.jsxs)("div",{className:"step",children:[(0,Or.jsx)("div",{className:"step-number",children:"3"}),(0,Or.jsx)("h3",{children:"Stock Check"}),(0,Or.jsx)("p",{children:"Automatically verify availability & pricing"})]}),(0,Or.jsxs)("div",{className:"step",children:[(0,Or.jsx)("div",{className:"step-number",children:"4"}),(0,Or.jsx)("h3",{children:"Order Confirmation"}),(0,Or.jsx)("p",{children:"Review and confirm your order"})]})]})]}),(0,Or.jsxs)("div",{className:"upload-form-card",children:[(0,Or.jsx)("h2",{children:"Upload Your Prescription"}),"success"===f&&(0,Or.jsxs)("div",{className:"success-message",children:[(0,Or.jsx)("h3",{children:"\ud83c\udf89 Prescription Submitted Successfully!"}),(0,Or.jsx)("p",{children:"Your prescription has been processed and submitted. Our team will review the AI extraction and contact you within 1 hour to confirm your order."}),(0,Or.jsx)("button",{className:"upload-another-btn",onClick:()=>g(""),children:"Upload Another Prescription"})]}),"error"===f&&(0,Or.jsxs)("div",{className:"error-message",children:[(0,Or.jsx)("h3",{children:"\u274c Submission Failed"}),(0,Or.jsx)("p",{children:"There was an error submitting your prescription. Please try again or contact support."}),(0,Or.jsx)("button",{className:"try-again-btn",onClick:()=>g(""),children:"Try Again"})]}),!f&&(0,Or.jsxs)("div",{className:"prescription-form",children:[(0,Or.jsxs)("div",{className:"form-section",children:[(0,Or.jsx)("h3",{children:"Prescription File"}),(0,Or.jsxs)("div",{className:"file-upload-area",onDragOver:e=>{e.preventDefault()},onDrop:e=>{e.preventDefault();const t=e.dataTransfer.files;if(t.length>0){const e=t[0];O({target:{files:[e]}})}},onClick:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.click()},children:[(0,Or.jsx)("input",{ref:n,type:"file",accept:".jpg,.jpeg,.png,.pdf",onChange:O,style:{display:"none"}}),(0,Or.jsx)("div",{className:"upload-icon",children:"\ud83d\udcc4"}),(0,Or.jsx)("p",{className:"upload-text",children:a?a.name:"Click to upload or drag & drop"}),(0,Or.jsx)("p",{className:"upload-hint",children:"Supported formats: JPEG, PNG, PDF (Max 10MB)"})]}),v.prescriptionFile&&(0,Or.jsx)("span",{className:"error-message",children:v.prescriptionFile}),a&&(0,Or.jsx)("button",{type:"button",className:"process-prescription-btn",onClick:R,disabled:o,children:o?"Processing...":"\ud83d\udd0d Process with AI"}),b&&(0,Or.jsxs)("div",{className:"processing-indicator",children:[(0,Or.jsx)("div",{className:"spinner"}),(0,Or.jsx)("span",{children:"Processing prescription and matching medicines..."})]}),(0,Or.jsx)("button",{type:"button",className:"test-search-btn",onClick:async()=>{try{const{data:e,error:t}=await Qr.fuzzySearch("metformin"),{data:s,error:r}=await Qr.fuzzySearch("paracetamol"),{data:n,error:a}=await Qr.searchProductsByName("metformin"),{data:i,error:o}=await Cr.from("products").select("id, name, price, in_stock").limit(5)}catch(e){console.error("\u274c Test failed:",e)}},style:{marginTop:"1rem",padding:"0.5rem 1rem",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"6px",fontSize:"0.9rem",cursor:"pointer"},children:"\ud83e\uddea Test Product Search"})]}),c&&(0,Or.jsxs)("div",{className:"form-section",children:[(0,Or.jsx)("h3",{children:"AI Extracted Information"}),(0,Or.jsxs)("div",{className:"extracted-info",children:[(0,Or.jsxs)("div",{className:"patient-info",children:[(0,Or.jsxs)("p",{children:[(0,Or.jsx)("strong",{children:"Patient:"})," ",c.patientName||"Not detected"]}),(0,Or.jsxs)("p",{children:[(0,Or.jsx)("strong",{children:"Doctor:"})," ",c.doctorName||"Not detected"]}),(0,Or.jsxs)("p",{children:[(0,Or.jsx)("strong",{children:"Date:"})," ",c.prescriptionDate||"Not detected"]}),(0,Or.jsxs)("p",{children:[(0,Or.jsx)("strong",{children:"Processing Confidence:"})," ",c.confidence||0,"%"]})]}),c.summary&&(0,Or.jsxs)("div",{className:"matching-summary",children:[(0,Or.jsx)("h4",{children:"Matching Summary"}),(0,Or.jsxs)("div",{className:"summary-stats",children:[(0,Or.jsxs)("div",{className:"stat-item",children:[(0,Or.jsx)("span",{className:"stat-label",children:"Medicines Found:"}),(0,Or.jsxs)("span",{className:"stat-value",children:[c.summary.matchedCount," of ",c.summary.totalMedicines]})]}),(0,Or.jsxs)("div",{className:"stat-item",children:[(0,Or.jsx)("span",{className:"stat-label",children:"Match Rate:"}),(0,Or.jsxs)("span",{className:"stat-value",children:[c.summary.matchRate,"%"]})]}),(0,Or.jsxs)("div",{className:"stat-item",children:[(0,Or.jsx)("span",{className:"stat-label",children:"Available in Stock:"}),(0,Or.jsxs)("span",{className:"stat-value",children:[c.summary.availability.inStock," of ",c.summary.matchedCount]})]})]})]}),c.medicines&&c.medicines.length>0&&(0,Or.jsxs)("div",{className:"medicines-list",children:[(0,Or.jsxs)("h4",{children:["\u2705 Available Medicines (",c.medicines.length,")"]}),c.medicines.map((e,t)=>(0,Or.jsxs)("div",{className:"medicine-item ".concat(e.inStock?"in-stock":"out-of-stock"),children:[(0,Or.jsxs)("div",{className:"medicine-details",children:[(0,Or.jsx)("h5",{children:e.name}),e.originalName!==e.name&&(0,Or.jsxs)("p",{className:"original-name",children:['Originally: "',e.originalName,'"']}),(0,Or.jsx)("p",{className:"dosage",children:e.dosage}),(0,Or.jsxs)("p",{className:"manufacturer",children:["By ",e.manufacturer]}),e.genericName&&(0,Or.jsxs)("p",{className:"generic-name",children:["Generic: ",e.genericName]}),(0,Or.jsxs)("div",{className:"match-info",children:[(0,Or.jsxs)("span",{className:"match-score",children:["Match: ",e.matchScore,"%"]}),(0,Or.jsxs)("span",{className:"confidence",children:["Confidence: ",e.confidence,"%"]})]})]}),(0,Or.jsxs)("div",{className:"medicine-status",children:[(0,Or.jsx)("span",{className:"stock-badge ".concat(e.inStock?"available":"unavailable"),children:e.inStock?"\u2705 In Stock":"\u274c Out of Stock"}),(0,Or.jsxs)("div",{className:"price-info",children:[(0,Or.jsxs)("p",{className:"price",children:["\u20b9",e.price]}),e.mrp&&e.mrp>e.price&&(0,Or.jsxs)("p",{className:"mrp",children:["MRP: \u20b9",e.mrp]}),e.discount>0&&(0,Or.jsxs)("p",{className:"discount",children:[e.discount,"% OFF"]})]}),e.requiresPrescription&&(0,Or.jsx)("span",{className:"prescription-required",children:"\ud83d\udccb Prescription Required"})]}),(0,Or.jsxs)("div",{className:"medicine-actions",children:[(0,Or.jsxs)("div",{className:"quantity-selector",children:[(0,Or.jsx)("label",{children:"Qty:"}),(0,Or.jsx)("button",{type:"button",onClick:()=>A(e.id,e.quantity-1),disabled:e.quantity<=1,className:"qty-btn",children:"-"}),(0,Or.jsx)("span",{className:"quantity",children:e.quantity}),(0,Or.jsx)("button",{type:"button",onClick:()=>A(e.id,e.quantity+1),disabled:e.quantity>=10,className:"qty-btn",children:"+"})]}),(0,Or.jsxs)("button",{type:"button",className:"add-to-cart-btn ".concat(_[e.id]||""),onClick:()=>I(e,e.quantity),disabled:!e.inStock||"adding"===_[e.id],children:["adding"===_[e.id]&&"\u23f3 Adding...","success"===_[e.id]&&"\u2705 Added!","error"===_[e.id]&&"\u274c Error",!_[e.id]&&(e.inStock?"\ud83d\uded2 Add to Cart":"\u274c Out of Stock")]})]})]},t)),c.medicines.filter(e=>e.inStock).length>0&&(0,Or.jsx)("div",{className:"bulk-actions",children:(0,Or.jsxs)("button",{type:"button",className:"add-all-to-cart-btn ".concat(_.all||""),onClick:async()=>{if(c&&c.medicines&&c.medicines.length){S(e=>Fr(Fr({},e),{},{all:"adding"}));try{const e=(c.medicines||[]).filter(e=>e.inStock).map(e=>({id:e.id,name:e.name,originalName:e.originalName,price:e.price,quantity:1,dosage:e.dosage,requiresPrescription:e.requiresPrescription,matchScore:e.matchScore,confidence:e.confidence}));if(0===e.length)throw new Error("No in-stock medicines to add to cart");const{data:t,error:s}=await Mn.addPrescriptionItemsToCart(e,null===u||void 0===u?void 0:u.prescriptionId);if(s)throw new Error(s.message);S(e=>Fr(Fr({},e),{},{all:"success"})),setTimeout(()=>{S(e=>{const t=Fr({},e);return delete t.all,t})},3e3)}catch(e){console.error("\u274c Failed to add medicines to cart:",e),S(e=>Fr(Fr({},e),{},{all:"error"})),setTimeout(()=>{S(e=>{const t=Fr({},e);return delete t.all,t})},3e3)}}},disabled:"adding"===_.all,children:["adding"===_.all&&"\u23f3 Adding All...","success"===_.all&&"\u2705 All Added to Cart!","error"===_.all&&"\u274c Error Adding Items",!_.all&&"\ud83d\uded2 Add All Available to Cart"]})})]}),c.unmatchedMedicines&&c.unmatchedMedicines.length>0&&(0,Or.jsxs)("div",{className:"unmatched-medicines",children:[(0,Or.jsxs)("h4",{children:["\u274c Sorry, we don't have these products (",c.unmatchedMedicines.length,")"]}),c.unmatchedMedicines.map((e,t)=>(0,Or.jsxs)("div",{className:"unmatched-item",children:[(0,Or.jsxs)("div",{className:"unmatched-details",children:[(0,Or.jsxs)("h5",{children:['"',e.originalName,'"']}),e.normalizedName!==e.originalName&&(0,Or.jsxs)("p",{className:"normalized-name",children:['Processed as: "',e.normalizedName,'"']}),(0,Or.jsxs)("p",{className:"reason",children:["not_found"===e.reason&&"No matching products found in our database","search_error"===e.reason&&"Search error occurred","processing_error"===e.reason&&"Processing error occurred"]}),e.errorMessage&&(0,Or.jsxs)("p",{className:"error-details",children:["Details: ",e.errorMessage]})]}),e.suggestions&&e.suggestions.length>0&&(0,Or.jsxs)("div",{className:"suggestions",children:[(0,Or.jsx)("h6",{children:"Suggestions:"}),(0,Or.jsx)("ul",{children:e.suggestions.map((e,t)=>(0,Or.jsx)("li",{children:e},t))})]})]},t))]}),(0,Or.jsxs)("div",{className:"order-summary",children:[(0,Or.jsx)("h4",{children:"Order Summary"}),(0,Or.jsxs)("div",{className:"summary-row",children:[(0,Or.jsx)("span",{children:"Available Medicines:"}),(0,Or.jsx)("span",{className:"available-count",children:c.medicines.length})]}),c.unmatchedMedicines&&c.unmatchedMedicines.length>0&&(0,Or.jsxs)("div",{className:"summary-row",children:[(0,Or.jsx)("span",{children:"Unavailable Medicines:"}),(0,Or.jsx)("span",{className:"unavailable-count",children:c.unmatchedMedicines.length})]}),(0,Or.jsxs)("div",{className:"summary-row",children:[(0,Or.jsx)("span",{children:"Total Amount (Available):"}),(0,Or.jsxs)("span",{className:"total-amount",children:["\u20b9",c.totalAmount]})]}),(0,Or.jsxs)("div",{className:"stock-status",children:[(0,Or.jsx)("span",{children:"Stock Status:"}),(0,Or.jsx)("span",{className:"status-badge ".concat(m),children:"available"===m?"\u2705 All Available":"\u26a0\ufe0f Partial Availability"})]})]})]})]}),v.processing&&(0,Or.jsx)("div",{className:"error-message",children:v.processing}),c&&(0,Or.jsx)("div",{className:"form-actions",children:(0,Or.jsx)("button",{type:"button",className:"submit-prescription-btn",onClick:async e=>{if(e.preventDefault(),c){l(!0),g("");try{const{error:e}=await Rn.uploadPrescription({extractedData:c,stockStatus:m,totalAmount:c.totalAmount},a);if(e)throw new Error(e.message||"Failed to submit prescription");g("success"),i(null),d(null),h(null),p(null),k([]),n.current&&(n.current.value="")}catch(t){g("error"),console.error("Prescription submission error:",t)}finally{l(!1)}}else x(e=>Fr(Fr({},e),{},{submit:"Please process the prescription first"}))},disabled:o,children:o?"Submitting...":"\ud83d\udccb Submit Prescription Order"})})]})]})]})]}),(0,Or.jsx)(Yr,{})]})}):null},Gn=t.memo(e=>{let{item:s,index:r,onUpdateQuantity:n,onRemove:a}=e;const i=(0,t.useCallback)(()=>{n(s.id,s.quantity-1)},[s.id,s.quantity,n]),o=(0,t.useCallback)(()=>{n(s.id,s.quantity+1)},[s.id,s.quantity,n]),l=(0,t.useCallback)(()=>{a(s.id)},[s.id,a]),c=(0,t.useCallback)(e=>{e.target.src="/placeholder-image.jpg"},[]),d=(0,t.useMemo)(()=>s.price*s.quantity,[s.price,s.quantity]);return(0,Or.jsxs)("div",{className:"cart-item",children:[(0,Or.jsxs)("div",{className:"cart-item-image",children:[(0,Or.jsx)("img",{src:s.image_urls&&s.image_urls.length>0?s.image_urls[0]:"/placeholder-image.jpg",alt:s.name,onError:c}),(0,Or.jsx)("div",{className:"item-number",children:r+1})]}),(0,Or.jsxs)("div",{className:"cart-item-details",children:[(0,Or.jsxs)("div",{className:"item-main-info",children:[(0,Or.jsx)("h3",{className:"cart-item-name",children:s.name}),(0,Or.jsxs)("div",{className:"item-tags",children:[(0,Or.jsx)("span",{className:"tag",children:"Healthcare"}),(0,Or.jsx)("span",{className:"tag",children:"Quality Assured"})]})]}),(0,Or.jsxs)("div",{className:"item-pricing",children:[(0,Or.jsxs)("div",{className:"price-info",children:[(0,Or.jsxs)("span",{className:"current-price",children:["\u20b9",s.price]}),s.mrp&&s.mrp>s.price&&(0,Or.jsxs)("span",{className:"mrp-price",children:["\u20b9",s.mrp]})]}),(0,Or.jsxs)("div",{className:"cart-item-quantity",children:[(0,Or.jsx)("label",{children:"Quantity:"}),(0,Or.jsxs)("div",{className:"quantity-controls",style:{position:"relative"},children:[(0,Or.jsx)("button",{onClick:i,className:"quantity-btn",children:(0,Or.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Or.jsx)("path",{d:"M5 12h14"})})}),(0,Or.jsx)("span",{className:"quantity-display",children:s.quantity}),(0,Or.jsx)("button",{onClick:o,className:"quantity-btn",children:(0,Or.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Or.jsx)("path",{d:"M12 5v14M5 12h14"})})})]})]})]}),(0,Or.jsxs)("div",{className:"cart-item-subtotal",children:[(0,Or.jsx)("span",{className:"subtotal-label",children:"Subtotal:"}),(0,Or.jsxs)("span",{className:"subtotal-amount",children:["\u20b9",d]})]})]}),(0,Or.jsx)("div",{className:"cart-item-actions",children:(0,Or.jsx)("button",{onClick:l,className:"remove-item-btn",title:"Remove item",children:(0,Or.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Or.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})})})})]})});Gn.displayName="CartItem";const Yn=t.memo(e=>{let{items:s,cartTotal:r,onCheckout:n}=e;const a=(0,t.useMemo)(()=>r>500?0:50,[r]),i=(0,t.useMemo)(()=>r+a,[r,a]),o=(0,t.useMemo)(()=>Math.max(0,500-r),[r]);return(0,Or.jsxs)("div",{className:"cart-summary",children:[(0,Or.jsxs)("div",{className:"cart-summary-card",children:[(0,Or.jsxs)("div",{className:"summary-header",children:[(0,Or.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Or.jsx)("path",{d:"M9 12l2 2 4-4M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9 9 4.03 9 9z"})}),(0,Or.jsx)("h3",{children:"Order Summary"})]}),(0,Or.jsxs)("div",{className:"summary-details",children:[(0,Or.jsxs)("div",{className:"summary-row",children:[(0,Or.jsxs)("span",{children:["Items (",s.length,"):"]}),(0,Or.jsxs)("span",{children:["\u20b9",r]})]}),(0,Or.jsxs)("div",{className:"summary-row",children:[(0,Or.jsx)("span",{children:"Shipping:"}),(0,Or.jsx)("span",{className:0===a?"free-shipping":"",children:0===a?"Free":"\u20b9".concat(a)})]}),a>0&&(0,Or.jsxs)("div",{className:"free-shipping-notice",children:[(0,Or.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Or.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),"Add \u20b9",o," more for free shipping!"]}),(0,Or.jsxs)("div",{className:"summary-row total",children:[(0,Or.jsx)("span",{children:"Total:"}),(0,Or.jsxs)("span",{children:["\u20b9",i]})]})]}),(0,Or.jsxs)("button",{className:"checkout-btn",onClick:n,children:[(0,Or.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Or.jsx)("path",{d:"M5 12h14M12 5l7 7-7 7"})}),"Proceed to Checkout"]}),(0,Or.jsxs)(Ce,{to:"/",className:"continue-shopping-link",children:[(0,Or.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Or.jsx)("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),"Continue Shopping"]})]}),(0,Or.jsxs)("div",{className:"cart-benefits",children:[(0,Or.jsxs)("div",{className:"benefit-item",children:[(0,Or.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Or.jsx)("path",{d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),(0,Or.jsx)("span",{children:"Free shipping on orders above \u20b9500"})]}),(0,Or.jsxs)("div",{className:"benefit-item",children:[(0,Or.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Or.jsx)("path",{d:"M9 12l2 2 4-4M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9 9 4.03 9 9z"})}),(0,Or.jsx)("span",{children:"100% genuine products"})]}),(0,Or.jsxs)("div",{className:"benefit-item",children:[(0,Or.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Or.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),(0,Or.jsx)("span",{children:"Secure checkout"})]})]})]})});Yn.displayName="CartSummary";const Kn=()=>{const{items:e,isLoading:s,isInitialized:r,isStable:n,removeFromCart:a,updateQuantity:i,clearCart:o,cartTotal:l}=Wr(),c=ee(),d=(0,t.useCallback)((e,t)=>{t<=0?a(e):i(e,t)},[i,a]),u=(0,t.useCallback)(async e=>{await a(e)},[a]),h=(0,t.useCallback)(async()=>{await o()},[o]),m=(0,t.useCallback)(()=>{c("/checkout")},[c]),p=(0,t.useMemo)(()=>e.length,[e.length]),f=(0,t.useMemo)(()=>1===p?"item":"items",[p]);return!r||s&&!n?(0,Or.jsx)(an,{}):0===p?(0,Or.jsx)("div",{className:"cart-empty",children:(0,Or.jsxs)("div",{className:"cart-empty-content",children:[(0,Or.jsx)("div",{className:"cart-empty-icon",children:(0,Or.jsxs)("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Or.jsx)("path",{d:"M9 22a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"}),(0,Or.jsx)("path",{d:"M20 22a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"}),(0,Or.jsx)("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]})}),(0,Or.jsx)("h2",{children:"Your cart is empty"}),(0,Or.jsx)("p",{children:"Looks like you haven't added any items to your cart yet."}),(0,Or.jsxs)(Ce,{to:"/",className:"continue-shopping-btn",children:[(0,Or.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Or.jsx)("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),"Continue Shopping"]})]})}):(0,Or.jsx)("div",{className:"cart-page",children:(0,Or.jsxs)("div",{className:"cart-container",children:[(0,Or.jsxs)("div",{className:"cart-header",children:[(0,Or.jsxs)("div",{className:"cart-header-left",children:[(0,Or.jsx)("div",{className:"cart-header-icon",children:(0,Or.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Or.jsx)("path",{d:"M9 22a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"}),(0,Or.jsx)("path",{d:"M20 22a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"}),(0,Or.jsx)("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]})}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("h1",{children:"Shopping Cart"}),(0,Or.jsxs)("p",{className:"cart-subtitle",children:[p," ",f," in your cart"]})]})]}),(0,Or.jsxs)("button",{onClick:h,className:"clear-cart-btn",children:[(0,Or.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Or.jsx)("path",{d:"M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})}),"Clear Cart"]})]}),(0,Or.jsxs)("div",{className:"cart-content",children:[(0,Or.jsxs)("div",{className:"cart-items",children:[(0,Or.jsxs)("div",{className:"cart-items-header",children:[(0,Or.jsx)("h3",{children:"Cart Items"}),(0,Or.jsxs)("span",{className:"items-count",children:[p," items"]})]}),e.map((e,t)=>(0,Or.jsx)(Gn,{item:e,index:t,onUpdateQuantity:d,onRemove:u},e.id))]}),(0,Or.jsx)(Yn,{items:e,cartTotal:l,onCheckout:m})]})]})})},Qn=()=>{const e=ee(),[s,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(!0),[i,o]=(0,t.useState)(null);(0,t.useEffect)(()=>{l()},[]);const l=async()=>{try{a(!0);const{data:e,error:t}=await en.getProducts({category:"medicines",limit:50});if(t)throw t;r(e||[])}catch(e){o(e.message||"Failed to fetch medicines")}finally{a(!1)}};return n?(0,Or.jsx)("div",{className:"medicines-page",children:(0,Or.jsx)("div",{className:"medicines-container",children:(0,Or.jsxs)("div",{className:"loading-state",children:[(0,Or.jsx)("div",{className:"loading-spinner"}),(0,Or.jsx)("p",{children:"Loading medicines..."})]})})}):i?(0,Or.jsx)("div",{className:"medicines-page",children:(0,Or.jsx)("div",{className:"medicines-container",children:(0,Or.jsxs)("div",{className:"error-state",children:[(0,Or.jsxs)("p",{children:["Error: ",i]}),(0,Or.jsx)("button",{onClick:l,className:"retry-btn",children:"Try Again"})]})})}):(0,Or.jsx)("div",{className:"medicines-page",children:(0,Or.jsxs)("div",{className:"medicines-container",children:[(0,Or.jsxs)("div",{className:"medicines-header",children:[(0,Or.jsx)("h1",{children:"Our Medicines"}),(0,Or.jsx)("p",{children:"Browse our comprehensive collection of medicines and healthcare products"})]}),0===s.length?(0,Or.jsx)("div",{className:"no-medicines",children:(0,Or.jsx)("p",{children:"No medicines available at the moment."})}):(0,Or.jsx)("div",{className:"medicines-grid",children:s.map(t=>(0,Or.jsxs)("div",{className:"medicine-card",onClick:()=>e("/product/".concat(t.id)),style:{cursor:"pointer"},children:[(0,Or.jsx)("div",{className:"medicine-image",children:(0,Or.jsx)("img",{src:t.image_url,alt:t.name,onError:e=>{e.target.src="https://images.unsplash.com/photo-1584308666744-24d5b474b2f0?w=400&h=300&fit=crop&crop=center"}})}),(0,Or.jsxs)("div",{className:"medicine-content",children:[(0,Or.jsx)("h3",{className:"medicine-name",children:t.name}),(0,Or.jsx)("p",{className:"medicine-description",children:t.description}),t.dosage_limit&&(0,Or.jsxs)("div",{className:"medicine-dosage",children:[(0,Or.jsx)("strong",{children:"Dosage:"})," ",t.dosage_limit]}),(0,Or.jsxs)("div",{className:"medicine-price",children:["\u20b9",t.price]}),(0,Or.jsx)("button",{onClick:s=>{s.stopPropagation(),e("/product/".concat(t.id))},className:"view-details-btn",children:"View Details"})]})]},t.id))})]})})},$n=()=>{const[e,s]=(0,t.useState)([]),[r,n]=(0,t.useState)([]),[a,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)("all"),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(null),[m,p]=(0,t.useState)([]),[f,g]=(0,t.useState)([]),[v,x]=(0,t.useState)("name"),[y,j]=(0,t.useState)("grid"),[b,w]=(0,t.useState)([0,1e3]),[N,k]=(0,t.useState)(!1),{isAuthenticated:_,user:S}=Ir(),{addToCart:C,refreshCart:E}=Wr(),P=ee(),[T]=Te();(0,t.useEffect)(()=>{const e=T.get("category"),t=T.get("disease"),r=T.get("categoryIds"),o=T.get("keywords"),c=T.get("search");e&&l("medicines"===e?"Medicine":"healthcare"===e?"Healthcare":e),t&&h(t),r&&p(r.split(",")),o&&g(o.split(",")),c&&d(c);const u=setTimeout(()=>{a&&i(!1)},1e4);return(async()=>{try{const{data:e,error:t}=await Cr.from("categories").select("*");n(t?[]:e||[])}catch(e){n([])}})(),(async()=>{try{const{data:e,error:t}=await Cr.from("products").select("\n            *,\n            categories(name, description)\n          ");s(t?[]:e||[])}catch(e){s([])}finally{i(!1),clearTimeout(u)}})(),()=>{clearTimeout(u)}},[_]);const O=e=>{var t;return(null===(t=e.categories)||void 0===t?void 0:t.name)||"Uncategorized"},R=e=>e.image_url||"",I=e.filter(e=>{let t=!0;t="all"===o||("Medicine"===o||O(e)===o);const s=e.name.toLowerCase().includes(c.toLowerCase())||e.description.toLowerCase().includes(c.toLowerCase());let r=!0;if((u||m.length>0||f.length>0)&&(m.length>0&&(r=m.includes(e.category_id)),f.length>0&&r)){const t="".concat(e.name," ").concat(e.description).toLowerCase();r=f.some(e=>t.includes(e.toLowerCase()))}return t&&s&&r}),A=()=>{h(null),p([]),g([]);const e=new URLSearchParams(T);e.delete("disease"),e.delete("categoryIds"),e.delete("keywords"),P("/products?".concat(e.toString()))};return(0,t.useEffect)(()=>{window.scrollTo(0,0)},[]),a?(0,Or.jsxs)("div",{className:"products-loading",children:[(0,Or.jsx)("div",{className:"loading-spinner"}),(0,Or.jsx)("p",{children:"Loading products..."})]}):(0,Or.jsxs)("div",{className:"products-page",children:[(0,Or.jsx)("div",{className:"products-hero",children:(0,Or.jsxs)("div",{className:"hero-content",children:[(0,Or.jsx)("h1",{children:"Our Products"}),(0,Or.jsx)("p",{children:"Discover our comprehensive range of healthcare products and medicines"}),(0,Or.jsxs)("div",{className:"hero-stats",children:[(0,Or.jsxs)("div",{className:"stat",children:[(0,Or.jsx)("span",{className:"stat-number",children:e.length}),(0,Or.jsx)("span",{className:"stat-label",children:"Products"})]}),(0,Or.jsxs)("div",{className:"stat",children:[(0,Or.jsx)("span",{className:"stat-number",children:r.length}),(0,Or.jsx)("span",{className:"stat-label",children:"Categories"})]}),(0,Or.jsxs)("div",{className:"stat",children:[(0,Or.jsx)("span",{className:"stat-number",children:e.filter(e=>e.in_stock).length}),(0,Or.jsx)("span",{className:"stat-label",children:"In Stock"})]})]})]})}),(0,Or.jsxs)("div",{className:"products-container",children:[(0,Or.jsxs)("div",{className:"products-controls",children:[(0,Or.jsx)("div",{className:"search-section",children:(0,Or.jsxs)("div",{className:"search-bar",children:[(0,Or.jsx)("span",{className:"search-icon",children:"\ud83d\udd0d"}),(0,Or.jsx)("input",{type:"text",placeholder:"Search products, medicines, or brands...",value:c,onChange:e=>d(e.target.value)}),c&&(0,Or.jsx)("button",{className:"clear-search",onClick:()=>d(""),children:"\xd7"})]})}),(0,Or.jsxs)("div",{className:"controls-row",children:[(0,Or.jsxs)("button",{className:"filter-toggle",onClick:()=>k(!N),children:[(0,Or.jsx)("span",{children:"\ud83d\udd27"})," Filters"]}),_&&(0,Or.jsx)("button",{className:"refresh-cart-btn",onClick:()=>{E()},style:{background:"#0891b2",color:"white",border:"none",padding:"8px 16px",borderRadius:"8px",cursor:"pointer",fontSize:"0.8rem"},children:"\ud83d\udd04 Refresh Cart"}),(0,Or.jsxs)("div",{className:"view-controls",children:[(0,Or.jsx)("button",{className:"view-btn ".concat("grid"===y?"active":""),onClick:()=>j("grid"),children:"\u229e"}),(0,Or.jsx)("button",{className:"view-btn ".concat("list"===y?"active":""),onClick:()=>j("list"),children:"\u2630"})]}),(0,Or.jsxs)("select",{className:"sort-select",value:v,onChange:e=>x(e.target.value),children:[(0,Or.jsx)("option",{value:"name",children:"Sort by Name"}),(0,Or.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,Or.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,Or.jsx)("option",{value:"newest",children:"Newest First"})]})]})]}),(0,Or.jsxs)("div",{className:"products-filters ".concat(N?"show":""),children:[(0,Or.jsxs)("div",{className:"filter-section",children:[(0,Or.jsx)("h3",{children:"Categories"}),(0,Or.jsxs)("div",{className:"category-filters",children:[(0,Or.jsxs)("button",{className:"category-btn ".concat("all"===o?"active":""),onClick:()=>l("all"),children:["All Products (",e.length,")"]}),r.map(t=>{const s=e.filter(e=>O(e)===t.name).length;return(0,Or.jsxs)("button",{className:"category-btn ".concat(o===t.name?"active":""),onClick:()=>l(t.name),children:[t.name," (",s,")"]},t.id)})]})]}),(0,Or.jsxs)("div",{className:"filter-section",children:[(0,Or.jsx)("h3",{children:"Price Range"}),(0,Or.jsxs)("div",{className:"price-filter",children:[(0,Or.jsx)("input",{type:"range",min:"0",max:"1000",value:b[1],onChange:e=>w([0,parseInt(e.target.value)]),className:"price-slider"}),(0,Or.jsxs)("div",{className:"price-display",children:["\u20b90 - \u20b9",b[1]]})]})]}),(0,Or.jsxs)("div",{className:"filter-section",children:[(0,Or.jsx)("h3",{children:"Availability"}),(0,Or.jsxs)("div",{className:"availability-filters",children:[(0,Or.jsxs)("label",{className:"filter-checkbox",children:[(0,Or.jsx)("input",{type:"checkbox"})," In Stock Only"]}),(0,Or.jsxs)("label",{className:"filter-checkbox",children:[(0,Or.jsx)("input",{type:"checkbox"})," On Sale"]})]})]})]}),(u||m.length>0||f.length>0)&&(0,Or.jsxs)("div",{className:"filter-summary",children:[(0,Or.jsxs)("div",{className:"active-filters",children:[u&&(0,Or.jsxs)("span",{className:"filter-tag",children:["Disease: ",u,(0,Or.jsx)("button",{onClick:A,className:"clear-filter-btn",children:"\xd7"})]}),m.length>0&&(0,Or.jsxs)("span",{className:"filter-tag",children:["Categories: ",m.length," selected",(0,Or.jsx)("button",{onClick:A,className:"clear-filter-btn",children:"\xd7"})]}),f.length>0&&(0,Or.jsxs)("span",{className:"filter-tag",children:["Keywords: ",f.join(", "),(0,Or.jsx)("button",{onClick:A,className:"clear-filter-btn",children:"\xd7"})]})]}),(0,Or.jsx)("button",{onClick:A,className:"clear-all-filters-btn",children:"Clear All Filters"})]}),(0,Or.jsx)("div",{className:"results-summary",children:(0,Or.jsxs)("span",{className:"results-count",children:["Showing ",I.length," of ",e.length," products"]})}),(0,Or.jsx)("div",{className:"products-grid ".concat(y),children:0===I.length?(0,Or.jsxs)("div",{className:"no-products",children:[(0,Or.jsx)("div",{className:"no-products-icon",children:"\ud83d\udd0d"}),(0,Or.jsx)("h3",{children:"No products found"}),(0,Or.jsx)("p",{children:"Try adjusting your search criteria or filters"}),(0,Or.jsx)("button",{className:"clear-filters-btn",onClick:()=>{d(""),l("all"),A()},children:"Clear All Filters"})]}):I.sort((e,t)=>{switch(v){case"price-low":return e.price-t.price;case"price-high":return t.price-e.price;case"newest":return new Date(t.created_at)-new Date(e.created_at);default:return e.name.localeCompare(t.name)}}).filter(e=>e.price<=b[1]).map(e=>(0,Or.jsxs)("div",{className:"product-card",onClick:()=>P("/product/".concat(e.id)),children:[(0,Or.jsxs)("div",{className:"product-image",children:[R(e)?(0,Or.jsx)("img",{src:R(e),alt:e.name,onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.display="flex"},onLoad:()=>{}}):null,(0,Or.jsx)("div",{className:"placeholder-image",style:{display:R(e)?"none":"flex"},children:(0,Or.jsx)("span",{children:"\ud83d\udc8a"})}),(0,Or.jsxs)("div",{className:"product-badges",children:[(0,Or.jsx)("span",{className:"category-badge",children:O(e)}),!e.in_stock&&(0,Or.jsx)("span",{className:"stock-badge out-of-stock",children:"Out of Stock"}),e.prescription_required&&(0,Or.jsx)("span",{className:"prescription-badge",children:"Rx"})]}),(0,Or.jsx)("div",{className:"product-actions-overlay",children:(0,Or.jsx)("button",{className:"quick-view-btn",onClick:t=>{t.stopPropagation(),P("/product/".concat(e.id))},children:"\ud83d\udc41\ufe0f Quick View"})})]}),(0,Or.jsxs)("div",{className:"product-info",children:[(0,Or.jsx)("h3",{className:"product-name",children:e.name}),(0,Or.jsx)("p",{className:"product-description",children:e.description}),e.manufacturer&&(0,Or.jsxs)("div",{className:"product-manufacturer",children:["by ",e.manufacturer]}),(0,Or.jsxs)("div",{className:"product-rating",children:[(0,Or.jsx)("div",{className:"stars",children:"\u2605".repeat(5)}),(0,Or.jsx)("span",{className:"rating-text",children:"(4.5) 120 reviews"})]}),(0,Or.jsxs)("div",{className:"product-meta",children:[(0,Or.jsxs)("div",{className:"price-section",children:[(0,Or.jsxs)("span",{className:"product-price",children:["\u20b9",e.price]}),e.original_price&&e.original_price>e.price&&(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsxs)("span",{className:"original-price",children:["\u20b9",e.original_price]}),(0,Or.jsxs)("span",{className:"discount-badge",children:[Math.round((e.original_price-e.price)/e.original_price*100),"% OFF"]})]})]}),(0,Or.jsx)("div",{className:"stock-info",children:e.in_stock?(0,Or.jsx)("span",{className:"in-stock",children:"\u2705 In Stock"}):(0,Or.jsx)("span",{className:"out-of-stock",children:"\u274c Out of Stock"})})]}),(0,Or.jsxs)("div",{className:"product-buttons",children:[(0,Or.jsx)("button",{className:"add-to-cart-btn ".concat(e.in_stock?"":"disabled"),onClick:t=>{t.stopPropagation(),(async e=>{if(_)try{await C(e),alert("Product added to cart!")}catch(t){alert("Failed to add product to cart")}else P("/signup")})(e)},disabled:!e.in_stock,children:e.in_stock?"\ud83d\uded2 Add to Cart":"Out of Stock"}),(0,Or.jsx)("button",{className:"wishlist-btn",onClick:e=>{e.stopPropagation()},children:"\u2764\ufe0f"})]})]})]},e.id))})]})]})},Jn=()=>{var e,s,r;const{productId:n}=function(){let{matches:e}=t.useContext(Q),s=e[e.length-1];return s?s.params:{}}(),a=ee(),{addToCart:i,updateQuantity:o,removeFromCart:l,items:c,operationLoading:d}=Wr(),{isAuthenticated:u}=Ir(),[h,m]=(0,t.useState)(null),[p,f]=(0,t.useState)(!0),[g,v]=(0,t.useState)(null),[x,y]=(0,t.useState)(1),[j,b]=(0,t.useState)(0),[w,N]=(0,t.useState)([]),[k,_]=(0,t.useState)("description"),[S,C]=(0,t.useState)([]),[E,P]=(0,t.useState)(!1),[T,O]=(0,t.useState)(!1),[R,I]=(0,t.useState)([]),[A,q]=(0,t.useState)(0),D=(0,t.useCallback)(e=>c.find(t=>t.product_id===e),[c]),M=(0,t.useCallback)(e=>{const t=D(e);return t?t.quantity:0},[D]),L=(0,t.useCallback)((e,t)=>{const s=D(e);s&&(t<=0?l(s.id):o(s.id,t))},[D,o,l]),F=(0,t.useCallback)(e=>{if(!u)return void a("/signup");const t=e||(h?Fr(Fr({},h),{},{quantity:x}):null);t&&(i(t),O(!0),setTimeout(()=>O(!1),3e3))},[i,u,a,h,x]),U=e=>{let{product:t,quantity:s,isLoading:r}=e;return(0,Or.jsxs)("div",{className:"horizontal-quantity-controls",children:[(0,Or.jsx)("button",{className:"quantity-btn-horizontal decrease",onClick:e=>{e.stopPropagation(),L(t.id,s-1)},disabled:r||s<=1,"aria-label":"Decrease quantity",children:(0,Or.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Or.jsx)("path",{d:"M5 12h14"})})}),(0,Or.jsx)("div",{className:"quantity-display-horizontal",children:(0,Or.jsx)("span",{className:"quantity-number-horizontal",children:s})}),(0,Or.jsx)("button",{className:"quantity-btn-horizontal increase",onClick:e=>{e.stopPropagation(),L(t.id,s+1)},disabled:r,"aria-label":"Increase quantity",children:(0,Or.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Or.jsx)("path",{d:"M12 5v14M5 12h14"})})})]})};(0,t.useEffect)(()=>{n&&(z(),B(),W(),H())},[n]);const z=async()=>{try{f(!0);const{data:e,error:t}=await Cr.from("products").select("\n          *,\n          categories (*)\n        ").eq("id",n).eq("is_active",!0).single();if(t){if("PGRST116"!==t.code)throw t;v("Product not found")}else m(e)}catch(e){console.error("Error fetching product:",e),v("Failed to load product")}finally{f(!1)}},B=(0,t.useCallback)(async()=>{if(null!==h&&void 0!==h&&h.category_id)try{const{data:e,error:t}=await Cr.from("products").select("*").eq("category_id",h.category_id).eq("is_active",!0).eq("in_stock",!0).neq("id",n).limit(4);!t&&e&&N(e)}catch(e){console.error("Error fetching related products:",e)}},[null===h||void 0===h?void 0:h.category_id,n]),W=async()=>{try{const{data:e,error:t}=await Cr.from("products").select("*").eq("is_active",!0).eq("in_stock",!0).neq("id",n).order("created_at",{ascending:!1}).limit(6);!t&&e&&I(e)}catch(e){console.error("Error fetching recommended products:",e)}},H=async()=>{try{const e=Math.floor(1e3*Math.random())+100;q(e)}catch(e){console.error("Error incrementing view count:",e)}},V=e=>{e>=1&&e<=((null===h||void 0===h?void 0:h.stock_quantity)||10)&&y(e)};if((0,t.useEffect)(()=>{(async()=>{setTimeout(()=>{C([{id:1,user:"John D.",rating:5,date:"2024-01-15",comment:"Excellent product! Fast delivery and great quality. The medicine worked exactly as prescribed and arrived in perfect condition.",verified:!0,helpful:12},{id:2,user:"Sarah M.",rating:4,date:"2024-01-10",comment:"Good medicine, works as expected. Packaging could be better but the product quality is solid.",verified:!0,helpful:8},{id:3,user:"Mike R.",rating:5,date:"2024-01-05",comment:"Very effective and reasonably priced. Will order again. Customer service was also very helpful.",verified:!1,helpful:5},{id:4,user:"Priya S.",rating:4,date:"2024-01-02",comment:"Fast delivery and authentic product. Exactly what I needed for my prescription.",verified:!0,helpful:15}])},500)})()},[]),p)return(0,Or.jsx)("div",{className:"product-detail-page",children:(0,Or.jsxs)("div",{className:"loading-container",children:[(0,Or.jsx)("div",{className:"loading-spinner"}),(0,Or.jsx)("p",{children:"Loading product..."})]})});if(g||!h)return(0,Or.jsx)("div",{className:"product-detail-page",children:(0,Or.jsxs)("div",{className:"error-container",children:[(0,Or.jsx)("h2",{children:"Product Not Found"}),(0,Or.jsx)("p",{children:g||"The product you are looking for does not exist."}),(0,Or.jsx)("button",{onClick:()=>a("/"),className:"back-home-btn",children:"Back to Home"})]})});const G=h.image_urls&&Array.isArray(h.image_urls)?h.image_urls:[h.image_url];return(0,Or.jsx)("div",{className:"product-detail-page",children:(0,Or.jsx)("main",{className:"product-detail-main",children:(0,Or.jsxs)("div",{className:"container",children:[(0,Or.jsxs)("nav",{className:"breadcrumb",children:[(0,Or.jsx)("span",{onClick:()=>a("/"),className:"breadcrumb-link",children:"Home"}),(0,Or.jsx)("span",{className:"breadcrumb-separator",children:"/"}),(0,Or.jsx)("span",{onClick:()=>{var e,t;return a("/category/".concat(null===(e=h.categories)||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toLowerCase().replace(/\s+/g,"-")))},className:"breadcrumb-link",children:(null===(e=h.categories)||void 0===e?void 0:e.name)||"Uncategorized"}),(0,Or.jsx)("span",{className:"breadcrumb-separator",children:"/"}),(0,Or.jsx)("span",{className:"breadcrumb-current",children:h.name})]}),(0,Or.jsxs)("div",{className:"product-detail-container",children:[(0,Or.jsxs)("div",{className:"product-images",children:[(0,Or.jsxs)("div",{className:"main-image",onClick:()=>{P(!0)},children:[(0,Or.jsx)("img",{src:G[j],alt:h.name,onError:e=>{e.target.src="https://images.unsplash.com/photo-1584308666744-24d5b474b2f0?w=500&h=500&fit=crop&crop=center"}}),(0,Or.jsx)("div",{className:"zoom-indicator",children:"\ud83d\udd0d"})]}),G.length>1&&(0,Or.jsx)("div",{className:"thumbnail-images",children:G.map((e,t)=>(0,Or.jsx)("img",{src:e,alt:"".concat(h.name," ").concat(t+1),className:"thumbnail ".concat(j===t?"active":""),onClick:()=>(e=>{b(e)})(t),onError:e=>{e.target.src="https://images.unsplash.com/photo-1584308666744-24d5b474b2f0?w=100&h=100&fit=crop&crop=center"}},t))})]}),(0,Or.jsxs)("div",{className:"product-info",children:[(0,Or.jsx)("h1",{className:"product-title",children:h.name}),(0,Or.jsxs)("div",{className:"product-meta",children:[(0,Or.jsx)("div",{className:"product-category",children:(0,Or.jsx)("span",{className:"category-tag",children:(null===(s=h.categories)||void 0===s?void 0:s.name)||"Uncategorized"})}),(0,Or.jsxs)("div",{className:"product-stats",children:[(0,Or.jsxs)("span",{className:"view-count",children:["\ud83d\udc41\ufe0f ",A," views"]}),(0,Or.jsx)("span",{className:"rating-summary",children:"\u2b50 4.7 (24 reviews)"})]})]}),(0,Or.jsxs)("div",{className:"product-price-section",children:[(0,Or.jsxs)("span",{className:"current-price",children:["\u20b9",h.price]}),h.original_price&&h.original_price>h.price&&(0,Or.jsxs)("span",{className:"original-price",children:["\u20b9",h.original_price]}),h.original_price&&h.original_price>h.price&&(0,Or.jsxs)("span",{className:"discount",children:[Math.round((h.original_price-h.price)/h.original_price*100),"% OFF"]})]}),(0,Or.jsx)("div",{className:"product-description",children:(0,Or.jsx)("p",{children:h.description})}),(0,Or.jsxs)("div",{className:"product-specs",children:[h.strength&&(0,Or.jsxs)("div",{className:"spec-item",children:[(0,Or.jsx)("span",{className:"spec-label",children:"Strength:"}),(0,Or.jsx)("span",{className:"spec-value",children:h.strength})]}),h.dosage_form&&(0,Or.jsxs)("div",{className:"spec-item",children:[(0,Or.jsx)("span",{className:"spec-label",children:"Dosage Form:"}),(0,Or.jsx)("span",{className:"spec-value",children:h.dosage_form})]}),h.manufacturer&&(0,Or.jsxs)("div",{className:"spec-item",children:[(0,Or.jsx)("span",{className:"spec-label",children:"Manufacturer:"}),(0,Or.jsx)("span",{className:"spec-value",children:h.manufacturer})]}),h.sku&&(0,Or.jsxs)("div",{className:"spec-item",children:[(0,Or.jsx)("span",{className:"spec-label",children:"SKU:"}),(0,Or.jsx)("span",{className:"spec-value",children:h.sku})]})]}),h.big_description&&(0,Or.jsxs)("div",{className:"product-big-description",children:[(0,Or.jsx)("h3",{children:"Product Details"}),(0,Or.jsx)("div",{className:"big-description-content",children:h.big_description.split("\n").map((e,t)=>(0,Or.jsx)("p",{className:"description-paragraph",children:e},t))})]}),(0,Or.jsxs)("div",{className:"stock-status",children:[h.in_stock?(0,Or.jsx)("span",{className:"in-stock",children:"\u2705 In Stock"}):(0,Or.jsx)("span",{className:"out-of-stock",children:"\u274c Out of Stock"}),h.stock_quantity>0&&(0,Or.jsxs)("span",{className:"stock-quantity",children:["(",h.stock_quantity," available)"]})]}),h.prescription_required&&(0,Or.jsxs)("div",{className:"prescription-notice",children:[(0,Or.jsx)("span",{className:"prescription-icon",children:"\ud83d\udccb"}),(0,Or.jsx)("span",{children:"Prescription Required"})]}),(0,Or.jsxs)("div",{className:"add-to-cart-section",children:[(0,Or.jsxs)("div",{className:"quantity-selector",children:[(0,Or.jsx)("label",{htmlFor:"quantity",children:"Quantity:"}),(0,Or.jsxs)("div",{className:"quantity-controls",children:[(0,Or.jsx)("button",{onClick:()=>V(x-1),disabled:x<=1,className:"quantity-btn",children:"-"}),(0,Or.jsx)("input",{type:"number",id:"quantity",value:x,onChange:e=>V(parseInt(e.target.value)||1),min:"1",max:h.stock_quantity||10,className:"quantity-input"}),(0,Or.jsx)("button",{onClick:()=>V(x+1),disabled:x>=(h.stock_quantity||10),className:"quantity-btn",children:"+"})]})]}),(0,Or.jsx)("button",{onClick:F,disabled:!h.in_stock,className:"add-to-cart-btn",children:h.in_stock?"Add to Cart":"Out of Stock"})]})]})]}),T&&(0,Or.jsxs)("div",{className:"success-message",children:[(0,Or.jsx)("span",{className:"success-icon",children:"\u2705"}),(0,Or.jsx)("span",{children:"Product added to cart successfully!"})]}),(0,Or.jsxs)("section",{className:"product-tabs",children:[(0,Or.jsxs)("div",{className:"tab-navigation",children:[(0,Or.jsx)("button",{className:"tab-btn ".concat("description"===k?"active":""),onClick:()=>_("description"),children:"Description"}),(0,Or.jsx)("button",{className:"tab-btn ".concat("specifications"===k?"active":""),onClick:()=>_("specifications"),children:"Specifications"}),(0,Or.jsxs)("button",{className:"tab-btn ".concat("reviews"===k?"active":""),onClick:()=>_("reviews"),children:["Reviews (",S.length,")"]}),(0,Or.jsx)("button",{className:"tab-btn ".concat("shipping"===k?"active":""),onClick:()=>_("shipping"),children:"Shipping & Returns"})]}),(0,Or.jsxs)("div",{className:"tab-content",children:["description"===k&&(0,Or.jsxs)("div",{className:"tab-panel",children:[(0,Or.jsx)("h3",{children:"Product Description"}),(0,Or.jsx)("p",{children:h.description}),h.big_description&&(0,Or.jsx)("div",{className:"detailed-description",children:h.big_description.split("\n").map((e,t)=>(0,Or.jsx)("p",{children:e},t))})]}),"specifications"===k&&(0,Or.jsxs)("div",{className:"tab-panel",children:[(0,Or.jsx)("h3",{children:"Product Specifications"}),(0,Or.jsxs)("div",{className:"specifications-table",children:[h.strength&&(0,Or.jsxs)("div",{className:"spec-row",children:[(0,Or.jsx)("span",{className:"spec-label",children:"Strength"}),(0,Or.jsx)("span",{className:"spec-value",children:h.strength})]}),h.dosage_form&&(0,Or.jsxs)("div",{className:"spec-row",children:[(0,Or.jsx)("span",{className:"spec-label",children:"Dosage Form"}),(0,Or.jsx)("span",{className:"spec-value",children:h.dosage_form})]}),h.manufacturer&&(0,Or.jsxs)("div",{className:"spec-row",children:[(0,Or.jsx)("span",{className:"spec-label",children:"Manufacturer"}),(0,Or.jsx)("span",{className:"spec-value",children:h.manufacturer})]}),h.sku&&(0,Or.jsxs)("div",{className:"spec-row",children:[(0,Or.jsx)("span",{className:"spec-label",children:"SKU"}),(0,Or.jsx)("span",{className:"spec-value",children:h.sku})]}),(0,Or.jsxs)("div",{className:"spec-row",children:[(0,Or.jsx)("span",{className:"spec-label",children:"Category"}),(0,Or.jsx)("span",{className:"spec-value",children:(null===(r=h.categories)||void 0===r?void 0:r.name)||"Uncategorized"})]}),(0,Or.jsxs)("div",{className:"spec-row",children:[(0,Or.jsx)("span",{className:"spec-label",children:"Prescription Required"}),(0,Or.jsx)("span",{className:"spec-value",children:h.prescription_required?"Yes":"No"})]})]})]}),"reviews"===k&&(0,Or.jsxs)("div",{className:"tab-panel",children:[(0,Or.jsx)("h3",{children:"Customer Reviews"}),(0,Or.jsx)("div",{className:"reviews-summary",children:(0,Or.jsxs)("div",{className:"average-rating",children:[(0,Or.jsx)("span",{className:"rating-number",children:"4.7"}),(0,Or.jsx)("div",{className:"stars",children:"\u2605".repeat(5)}),(0,Or.jsxs)("span",{className:"total-reviews",children:["Based on ",S.length," reviews"]})]})}),(0,Or.jsx)("div",{className:"reviews-list",children:S.map(e=>(0,Or.jsxs)("div",{className:"review-item",children:[(0,Or.jsxs)("div",{className:"review-header",children:[(0,Or.jsxs)("div",{className:"reviewer-info",children:[(0,Or.jsx)("span",{className:"reviewer-name",children:e.user}),(0,Or.jsxs)("div",{className:"review-rating",children:["\u2605".repeat(e.rating),"\u2606".repeat(5-e.rating)]})]}),(0,Or.jsxs)("div",{className:"review-meta",children:[(0,Or.jsx)("span",{className:"review-date",children:new Date(e.date).toLocaleDateString()}),e.verified&&(0,Or.jsx)("span",{className:"verified-badge",children:"\u2713 Verified Purchase"})]})]}),(0,Or.jsx)("p",{className:"review-comment",children:e.comment}),(0,Or.jsxs)("div",{className:"review-actions",children:[(0,Or.jsxs)("button",{className:"helpful-btn",children:["\ud83d\udc4d Helpful (",e.helpful||0,")"]}),(0,Or.jsx)("button",{className:"report-btn",children:"\ud83d\udea9 Report"})]})]},e.id))}),(0,Or.jsxs)("div",{className:"write-review-section",children:[(0,Or.jsx)("h4",{children:"Write a Review"}),(0,Or.jsx)("p",{children:"Share your experience with this product"}),(0,Or.jsx)("button",{className:"write-review-btn",children:"\u270d\ufe0f Write Review"})]})]}),"shipping"===k&&(0,Or.jsxs)("div",{className:"tab-panel",children:[(0,Or.jsx)("h3",{children:"Shipping & Returns"}),(0,Or.jsxs)("div",{className:"shipping-info",children:[(0,Or.jsxs)("div",{className:"shipping-section",children:[(0,Or.jsx)("h4",{children:"\ud83d\ude9a Shipping Information"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"Free shipping on orders above \u20b9500"}),(0,Or.jsx)("li",{children:"Standard delivery: 2-5 business days"}),(0,Or.jsx)("li",{children:"Express delivery: 1-2 business days (additional charges apply)"}),(0,Or.jsx)("li",{children:"Same-day delivery available in select cities"})]})]}),(0,Or.jsxs)("div",{className:"shipping-section",children:[(0,Or.jsx)("h4",{children:"\ud83d\udce6 Return Policy"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"30-day return policy for unopened medicines"}),(0,Or.jsx)("li",{children:"Prescription medicines cannot be returned"}),(0,Or.jsx)("li",{children:"Original packaging and receipt required"}),(0,Or.jsx)("li",{children:"Refund processed within 5-7 business days"})]})]})]})]})]})]}),(0,Or.jsxs)("div",{className:"product-recommendations",children:[w.length>0&&(0,Or.jsxs)("section",{className:"related-products",children:[(0,Or.jsx)("h2",{children:"Related Products"}),(0,Or.jsx)("div",{className:"products-carousel",children:(0,Or.jsx)("div",{className:"related-products-grid",children:w.map(e=>(0,Or.jsxs)("div",{className:"related-product-card",onClick:()=>a("/product/".concat(e.id)),children:[(0,Or.jsxs)("div",{className:"product-image-container",children:[(0,Or.jsx)("img",{src:e.image_url,alt:e.name,onError:e=>{e.target.src="https://images.unsplash.com/photo-1584308666744-24d5b474b2f0?w=200&h=200&fit=crop&crop=center"}}),(0,Or.jsx)("div",{className:"quick-add-overlay",children:(0,Or.jsx)("button",{className:"quick-add-btn",children:"Quick Add"})})]}),(0,Or.jsxs)("div",{className:"product-card-info",children:[(0,Or.jsx)("h3",{children:e.name}),(0,Or.jsxs)("div",{className:"product-card-rating",children:[(0,Or.jsx)("span",{className:"stars",children:"\u2605\u2605\u2605\u2605\u2606"}),(0,Or.jsx)("span",{className:"rating-count",children:"(12)"})]}),(0,Or.jsxs)("p",{className:"related-product-price",children:["\u20b9",e.price]})]})]},e.id))})})]}),R.length>0&&(0,Or.jsxs)("section",{className:"recommended-products",children:[(0,Or.jsxs)("div",{className:"section-header",children:[(0,Or.jsxs)("div",{className:"section-title-container",children:[(0,Or.jsx)("h2",{children:"You Might Also Like"}),(0,Or.jsx)("p",{className:"section-subtitle",children:"Handpicked recommendations based on your interests"})]}),(0,Or.jsx)("button",{className:"view-all-btn",onClick:()=>a("/products"),children:"View All Products \u2192"})]}),(0,Or.jsx)("div",{className:"products-carousel",children:(0,Or.jsx)("div",{className:"recommended-products-grid",children:R.slice(0,6).map((e,t)=>{var s;const r=M(e.id),n=r>0,i=d.add||d.update||d.remove;return(0,Or.jsxs)("div",{className:"recommended-product-card",style:{animationDelay:"".concat(.1*t,"s")},children:[(0,Or.jsxs)("div",{className:"product-badge-container",children:[0===t&&(0,Or.jsx)("span",{className:"trending-badge",children:"\ud83d\udd25 Trending"}),1===t&&(0,Or.jsx)("span",{className:"bestseller-badge",children:"\u2b50 Best Seller"}),2===t&&(0,Or.jsx)("span",{className:"new-badge",children:"\u2728 New"})]}),(0,Or.jsxs)("div",{className:"product-image-container",children:[(0,Or.jsx)("img",{src:e.image_url,alt:e.name,onError:e=>{e.target.src="https://images.unsplash.com/photo-1584308666744-24d5b474b2f0?w=300&h=300&fit=crop&crop=center"}}),(0,Or.jsx)("div",{className:"product-actions-overlay",children:(0,Or.jsxs)("div",{className:"action-buttons",children:[(0,Or.jsxs)("button",{className:"action-btn quick-view-btn",onClick:t=>{t.stopPropagation(),a("/product/".concat(e.id))},title:"Quick View",children:[(0,Or.jsx)("span",{className:"btn-icon",children:"\ud83d\udc41\ufe0f"}),(0,Or.jsx)("span",{className:"btn-text",children:"Quick View"})]}),n?(0,Or.jsx)("div",{className:"action-btn quantity-control-wrapper",children:(0,Or.jsx)(U,{product:e,quantity:r,isLoading:i})}):(0,Or.jsxs)("button",{className:"action-btn quick-add-btn",onClick:t=>{t.stopPropagation(),F(Fr(Fr({},e),{},{quantity:1}))},disabled:i,title:"Add to Cart",children:[(0,Or.jsx)("span",{className:"btn-icon",children:"\ud83d\uded2"}),(0,Or.jsx)("span",{className:"btn-text",children:i?"Adding...":"Add to Cart"})]})]})})]}),(0,Or.jsxs)("div",{className:"product-card-info",children:[(0,Or.jsx)("div",{className:"product-category-tag",children:(null===(s=e.categories)||void 0===s?void 0:s.name)||"Medicine"}),(0,Or.jsx)("h3",{className:"product-name",onClick:()=>a("/product/".concat(e.id)),children:e.name}),(0,Or.jsxs)("div",{className:"product-card-rating",children:[(0,Or.jsxs)("div",{className:"stars-container",children:[(0,Or.jsx)("span",{className:"stars",children:"\u2605\u2605\u2605\u2605\u2605"}),(0,Or.jsx)("span",{className:"rating-number",children:"4.8"})]}),(0,Or.jsx)("span",{className:"rating-count",children:"(127 reviews)"})]}),(0,Or.jsxs)("div",{className:"price-container",children:[(0,Or.jsxs)("span",{className:"current-price",children:["\u20b9",e.price]}),e.original_price&&e.original_price>e.price&&(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsxs)("span",{className:"original-price",children:["\u20b9",e.original_price]}),(0,Or.jsxs)("span",{className:"discount-badge",children:[Math.round((e.original_price-e.price)/e.original_price*100),"% OFF"]})]})]}),(0,Or.jsxs)("div",{className:"product-features",children:[(0,Or.jsx)("span",{className:"feature-tag",children:"\u2705 In Stock"}),(0,Or.jsx)("span",{className:"feature-tag",children:"\ud83d\ude9a Fast Delivery"})]})]})]},e.id)})})}),(0,Or.jsx)("div",{className:"recommendations-footer",children:(0,Or.jsx)("p",{className:"recommendations-note",children:"\ud83d\udca1 These recommendations are based on similar products and customer preferences"})})]})]}),E&&(0,Or.jsx)("div",{className:"image-modal",onClick:()=>P(!1),children:(0,Or.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Or.jsx)("button",{className:"modal-close",onClick:()=>P(!1),children:"\xd7"}),(0,Or.jsx)("img",{src:G[j],alt:h.name,className:"modal-image"})]})})]})})})},Xn={async getUserAddresses(e){try{const{data:t,error:s}=await Cr.from("addresses").select("*").eq("user_id",e).order("is_default",{ascending:!1}).order("created_at",{ascending:!1});if(s)throw s;return t||[]}catch(t){throw console.error("Error fetching addresses:",t),t}},async getDefaultAddress(e){try{const{data:t,error:s}=await Cr.from("addresses").select("*").eq("user_id",e).eq("is_default",!0).single();if(s&&"PGRST116"!==s.code)throw s;return t}catch(t){return console.error("Error fetching default address:",t),null}},async addAddress(e){try{const{data:t,error:s}=await Cr.from("addresses").insert([e]).select().single();if(s)throw s;return t}catch(t){throw console.error("Error adding address:",t),t}},async updateAddress(e,t){try{const{data:s,error:r}=await Cr.from("addresses").update(t).eq("id",e).select().single();if(r)throw r;return s}catch(s){throw console.error("Error updating address:",s),s}},async deleteAddress(e){try{const{error:t}=await Cr.from("addresses").delete().eq("id",e);if(t)throw t;return!0}catch(t){throw console.error("Error deleting address:",t),t}},async setDefaultAddress(e,t){try{await Cr.from("addresses").update({is_default:!1}).eq("user_id",e);const{data:s,error:r}=await Cr.from("addresses").update({is_default:!0}).eq("id",t).select().single();if(r)throw r;return s}catch(s){throw console.error("Error setting default address:",s),s}}},Zn=()=>{const{user:e}=Ir(),s=ee(),[r,n]=(0,t.useState)([]),[a,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)({name:"",phone:"",address_line1:"",address_line2:"",city:"",state:"",pincode:"",is_default:!1});(0,t.useEffect)(()=>{e&&u()},[e]);const u=async()=>{try{i(!0);const t=await Xn.getUserAddresses(e.id);n(t)}catch(t){console.error("Error fetching addresses:",t)}finally{i(!1)}},h=e=>{const{name:t,value:s,type:r,checked:n}=e.target;d(e=>Fr(Fr({},e),{},{[t]:"checkbox"===r?n:s}))};return e?(0,Or.jsxs)("div",{className:"addresses-page",children:[(0,Or.jsx)(Gr,{}),(0,Or.jsx)("main",{className:"addresses-main",children:(0,Or.jsxs)("div",{className:"addresses-container",children:[(0,Or.jsxs)("div",{className:"addresses-header",children:[(0,Or.jsx)("h1",{children:"My Addresses"}),(0,Or.jsx)("button",{className:"add-address-btn",onClick:()=>l(!o),children:o?"Cancel":"+ Add New Address"})]}),o&&(0,Or.jsxs)("div",{className:"add-address-form",children:[(0,Or.jsx)("h3",{children:"Add New Address"}),(0,Or.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{await Xn.addAddress(Fr({user_id:e.id},c)),d({name:"",phone:"",address_line1:"",address_line2:"",city:"",state:"",pincode:"",is_default:!1}),l(!1),u()}catch(s){console.error("Error adding address:",s),alert("Failed to add address. Please try again.")}},children:[(0,Or.jsxs)("div",{className:"form-row",children:[(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"name",children:"Full Name *"}),(0,Or.jsx)("input",{type:"text",id:"name",name:"name",value:c.name,onChange:h,required:!0,placeholder:"Enter your full name"})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"phone",children:"Phone Number *"}),(0,Or.jsx)("input",{type:"tel",id:"phone",name:"phone",value:c.phone,onChange:h,required:!0,placeholder:"Enter phone number"})]})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"address_line1",children:"Address Line 1 *"}),(0,Or.jsx)("input",{type:"text",id:"address_line1",name:"address_line1",value:c.address_line1,onChange:h,required:!0,placeholder:"House/Flat number, Street name"})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"address_line2",children:"Address Line 2 (Optional)"}),(0,Or.jsx)("input",{type:"text",id:"address_line2",name:"address_line2",value:c.address_line2,onChange:h,placeholder:"Apartment, suite, etc."})]}),(0,Or.jsxs)("div",{className:"form-row",children:[(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"city",children:"City *"}),(0,Or.jsx)("input",{type:"text",id:"city",name:"city",value:c.city,onChange:h,required:!0,placeholder:"Enter city name"})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"state",children:"State *"}),(0,Or.jsx)("input",{type:"text",id:"state",name:"state",value:c.state,onChange:h,required:!0,placeholder:"Enter state name"})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"pincode",children:"Pincode *"}),(0,Or.jsx)("input",{type:"text",id:"pincode",name:"pincode",value:c.pincode,onChange:h,required:!0,placeholder:"Enter pincode"})]})]}),(0,Or.jsx)("div",{className:"form-group checkbox-group",children:(0,Or.jsxs)("label",{className:"checkbox-label",children:[(0,Or.jsx)("input",{type:"checkbox",name:"is_default",checked:c.is_default,onChange:h}),(0,Or.jsx)("span",{className:"checkmark"}),"Set as default address"]})}),(0,Or.jsx)("div",{className:"form-actions",children:(0,Or.jsx)("button",{type:"submit",className:"save-address-btn",children:"Save Address"})})]})]}),a?(0,Or.jsx)("div",{className:"loading",children:"Loading addresses..."}):0===r.length?(0,Or.jsxs)("div",{className:"no-addresses",children:[(0,Or.jsx)("p",{children:"No saved addresses found."}),(0,Or.jsx)("p",{children:"Add your first address to get started!"})]}):(0,Or.jsx)("div",{className:"addresses-list",children:r.map(t=>(0,Or.jsxs)("div",{className:"address-card ".concat(t.is_default?"default":""),children:[t.is_default&&(0,Or.jsx)("div",{className:"default-badge",children:"Default"}),(0,Or.jsxs)("div",{className:"address-info",children:[(0,Or.jsx)("h3",{children:t.name}),(0,Or.jsx)("p",{className:"phone",children:t.phone}),(0,Or.jsxs)("p",{className:"address",children:[t.address_line1,t.address_line2&&(0,Or.jsx)("br",{}),t.address_line2,(0,Or.jsx)("br",{}),t.city,", ",t.state," ",t.pincode]})]}),(0,Or.jsxs)("div",{className:"address-actions",children:[!t.is_default&&(0,Or.jsx)("button",{className:"set-default-btn",onClick:()=>(async t=>{try{await Xn.setDefaultAddress(e.id,t),u()}catch(s){console.error("Error setting default address:",s)}})(t.id),children:"Set as Default"}),(0,Or.jsx)("button",{className:"delete-btn",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this address?"))try{await Xn.deleteAddress(e),u()}catch(t){console.error("Error deleting address:",t)}})(t.id),children:"Delete"})]})]},t.id))})]})})]}):(s("/signin"),null)},ea=()=>{const{user:e}=Ir(),{items:s,cartTotal:r,clearCart:n}=Wr(),a=ee(),[i,o]=(X(),(0,t.useState)([])),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(!0),[h,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)({name:"",phone:"",address_line1:"",address_line2:"",city:"",state:"",pincode:"",is_default:!1}),g=r>500?0:50,v=r+g;(0,t.useEffect)(()=>{e?0!==s.length?x():a("/cart"):a("/signin")},[e,s,a]);const x=async()=>{try{u(!0);const t=await Xn.getUserAddresses(e.id);o(t);const s=t.find(e=>e.is_default);s?c(s):t.length>0&&c(t[0])}catch(t){console.error("Error fetching addresses:",t)}finally{u(!1)}},y=e=>{const{name:t,value:s,type:r,checked:n}=e.target;f(e=>Fr(Fr({},e),{},{[t]:"checkbox"===r?n:s}))};return d?(0,Or.jsx)("div",{className:"checkout-page",children:(0,Or.jsx)("div",{className:"checkout-container",children:(0,Or.jsxs)("div",{className:"loading-state",children:[(0,Or.jsx)("div",{className:"loading-spinner"}),(0,Or.jsx)("p",{children:"Loading checkout..."})]})})}):(0,Or.jsx)("div",{className:"checkout-page",children:(0,Or.jsxs)("div",{className:"checkout-container",children:[(0,Or.jsxs)("div",{className:"checkout-header",children:[(0,Or.jsx)("h1",{children:"Checkout"}),(0,Or.jsx)("p",{children:"Complete your order by providing delivery details"})]}),(0,Or.jsxs)("div",{className:"checkout-content",children:[(0,Or.jsxs)("div",{className:"checkout-section",children:[(0,Or.jsxs)("div",{className:"section-header",children:[(0,Or.jsx)("h2",{children:"Delivery Address"}),i.length>0&&(0,Or.jsx)("button",{className:"add-new-address-btn",onClick:()=>m(!h),children:h?"Cancel":"+ Add New Address"})]}),i.length>0&&!h&&(0,Or.jsx)("div",{className:"addresses-grid",children:i.map(e=>(0,Or.jsxs)("div",{className:"address-card ".concat((null===l||void 0===l?void 0:l.id)===e.id?"selected":""),onClick:()=>c(e),children:[(0,Or.jsxs)("div",{className:"address-header",children:[(0,Or.jsx)("h3",{children:e.name}),e.is_default&&(0,Or.jsx)("span",{className:"default-badge",children:"Default"})]}),(0,Or.jsx)("p",{className:"address-phone",children:e.phone}),(0,Or.jsx)("p",{className:"address-line",children:e.address_line1}),e.address_line2&&(0,Or.jsx)("p",{className:"address-line",children:e.address_line2}),(0,Or.jsxs)("p",{className:"address-city",children:[e.city,", ",e.state," ",e.pincode]}),(0,Or.jsx)("div",{className:"address-actions",children:(0,Or.jsx)("button",{className:"select-address-btn",onClick:t=>{t.stopPropagation(),c(e)},children:(null===l||void 0===l?void 0:l.id)===e.id?"\u2713 Selected":"Select"})})]},e.id))}),h&&(0,Or.jsxs)("div",{className:"add-address-form",children:[(0,Or.jsx)("h3",{children:"Add New Address"}),(0,Or.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=Fr({user_id:e.id},p);await Xn.addAddress(t),f({name:"",phone:"",address_line1:"",address_line2:"",city:"",state:"",pincode:"",is_default:!1}),m(!1),await x();const s=await Xn.getUserAddresses(e.id),r=s[s.length-1];c(r)}catch(s){console.error("Error adding address:",s),alert("Failed to add address. Please try again.")}},children:[(0,Or.jsxs)("div",{className:"form-row",children:[(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"name",children:"Full Name *"}),(0,Or.jsx)("input",{type:"text",id:"name",name:"name",value:p.name,onChange:y,required:!0,placeholder:"Enter your full name"})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"phone",children:"Phone Number *"}),(0,Or.jsx)("input",{type:"tel",id:"phone",name:"phone",value:p.phone,onChange:y,required:!0,placeholder:"Enter your phone number"})]})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"address_line1",children:"Address Line 1 *"}),(0,Or.jsx)("input",{type:"text",id:"address_line1",name:"address_line1",value:p.address_line1,onChange:y,required:!0,placeholder:"Street address, apartment, suite, etc."})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"address_line2",children:"Address Line 2"}),(0,Or.jsx)("input",{type:"text",id:"address_line2",name:"address_line2",value:p.address_line2,onChange:y,placeholder:"Apartment, suite, unit, etc. (optional)"})]}),(0,Or.jsxs)("div",{className:"form-row",children:[(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"city",children:"City *"}),(0,Or.jsx)("input",{type:"text",id:"city",name:"city",value:p.city,onChange:y,required:!0,placeholder:"Enter city name"})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"state",children:"State *"}),(0,Or.jsx)("input",{type:"text",id:"state",name:"state",value:p.state,onChange:y,required:!0,placeholder:"Enter state name"})]}),(0,Or.jsxs)("div",{className:"form-group",children:[(0,Or.jsx)("label",{htmlFor:"pincode",children:"Pincode *"}),(0,Or.jsx)("input",{type:"text",id:"pincode",name:"pincode",value:p.pincode,onChange:y,required:!0,placeholder:"Enter pincode"})]})]}),(0,Or.jsx)("div",{className:"form-group checkbox-group",children:(0,Or.jsxs)("label",{className:"checkbox-label",children:[(0,Or.jsx)("input",{type:"checkbox",name:"is_default",checked:p.is_default,onChange:y}),(0,Or.jsx)("span",{className:"checkmark"}),"Set as default address"]})}),(0,Or.jsxs)("div",{className:"form-actions",children:[(0,Or.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>m(!1),children:"Cancel"}),(0,Or.jsx)("button",{type:"submit",className:"btn-primary",children:"Save Address"})]})]})]}),0===i.length&&!h&&(0,Or.jsxs)("div",{className:"no-addresses",children:[(0,Or.jsx)("div",{className:"no-addresses-icon",children:"\ud83d\udccd"}),(0,Or.jsx)("h3",{children:"No addresses found"}),(0,Or.jsx)("p",{children:"Please add a delivery address to continue with your order."}),(0,Or.jsx)("button",{className:"btn-primary",onClick:()=>m(!0),children:"+ Add Your First Address"})]})]}),(0,Or.jsxs)("div",{className:"checkout-section",children:[(0,Or.jsx)("h2",{children:"Order Summary"}),(0,Or.jsxs)("div",{className:"order-summary",children:[(0,Or.jsx)("div",{className:"summary-items",children:s.map(e=>(0,Or.jsxs)("div",{className:"summary-item",children:[(0,Or.jsxs)("div",{className:"item-info",children:[(0,Or.jsx)("span",{className:"item-name",children:e.name}),(0,Or.jsxs)("span",{className:"item-quantity",children:["x",e.quantity]})]}),(0,Or.jsxs)("span",{className:"item-price",children:["\u20b9",e.price*e.quantity]})]},e.id))}),(0,Or.jsxs)("div",{className:"summary-totals",children:[(0,Or.jsxs)("div",{className:"summary-row",children:[(0,Or.jsx)("span",{children:"Subtotal:"}),(0,Or.jsxs)("span",{children:["\u20b9",r]})]}),(0,Or.jsxs)("div",{className:"summary-row",children:[(0,Or.jsx)("span",{children:"Shipping:"}),(0,Or.jsx)("span",{className:0===g?"free-shipping":"",children:0===g?"Free":"\u20b9".concat(g)})]}),(0,Or.jsxs)("div",{className:"summary-row total",children:[(0,Or.jsx)("span",{children:"Total:"}),(0,Or.jsxs)("span",{children:["\u20b9",v]})]})]})]})]}),(0,Or.jsxs)("div",{className:"checkout-actions",children:[(0,Or.jsx)("button",{className:"btn-secondary",onClick:()=>a("/cart"),children:"\u2190 Back to Cart"}),(0,Or.jsx)("button",{className:"btn-primary checkout-btn",onClick:async()=>{if(l)try{if(!window.Razorpay)return void alert("Razorpay is not loaded. Please check your internet connection.");const t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENVIRONMENT:"development",REACT_APP_SITE_URL:"http://localhost:3000",REACT_APP_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1qc3hnc3JpdWZzY3VyYnBma3dwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUxMTIzNTAsImV4cCI6MjA3MDY4ODM1MH0.etAGieUS0qMKIE02tTu26XN25x_Q5zxjg8aYwu2i8QE",REACT_APP_SUPABASE_URL:"https://mjsxgsriufscurbpfkwp.supabase.co"}.REACT_APP_RAZORPAY_KEY_ID;if(!t||"rzp_test_your_actual_key_id_here"===t)return void alert("Please configure your Razorpay key in the .env file");const r={amount:v,currency:"INR",items:s,address:l,user:e},i={key:t,amount:100*v,currency:"INR",name:"FlickXir",description:"Medicine Order",handler:async function(t){try{const s={order_number:"ORD-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),total_amount:v,discount_amount:0,final_amount:v,shipping_address:l,billing_address:l,payment_status:"paid",payment_method:"Razorpay",status:"confirmed",notes:"Payment ID: ".concat(t.razorpay_payment_id,", Order ID: ").concat(t.razorpay_order_id)},{data:i,error:o}=await wn.createOrderFromPayment(e.id,s);o&&console.error("Error saving order:",o);const c={razorpay_payment_id:t.razorpay_payment_id,razorpay_order_id:t.razorpay_order_id,razorpay_signature:t.razorpay_signature,orderDetails:r,savedOrder:i};a("/order-success",{state:{paymentDetails:c},replace:!0}),setTimeout(()=>{n()},500)}catch(s){console.error("Error processing payment success:",s);const e={razorpay_payment_id:t.razorpay_payment_id,razorpay_order_id:t.razorpay_order_id,razorpay_signature:t.razorpay_signature,orderDetails:r};a("/order-success",{state:{paymentDetails:e},replace:!0}),setTimeout(()=>{n()},500)}},prefill:{name:l.name,contact:l.phone,email:e.email},notes:{address:"".concat(l.address_line1,", ").concat(l.city,", ").concat(l.state," ").concat(l.pincode)},theme:{color:"#3399cc"},modal:{ondismiss:function(){}}};new window.Razorpay(i).open()}catch(t){console.error("Payment error:",t),alert("Payment failed. Please try again.")}else alert("Please select or create an address to continue.")},disabled:!l,children:l?"Proceed to Payment":"Select Address to Continue"})]})]})]})})},ta=()=>{var e,s;const{user:r}=Ir(),n=ee(),a=X(),[i,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(!0);(0,t.useEffect)(()=>{var e,t;const s=(null===(e=a.state)||void 0===e?void 0:e.orderDetails)||(null===(t=a.state)||void 0===t?void 0:t.paymentDetails);if(s)o(s);else{const e=new URLSearchParams(window.location.search),t=e.get("payment_id"),s=e.get("order_id");if(!t||!s)return void n("/");o({razorpay_payment_id:t,razorpay_order_id:s,orderDetails:{amount:0,items:[]}})}c(!1)},[a,n]);return l?(0,Or.jsxs)("div",{className:"order-success-page",children:[(0,Or.jsx)(Gr,{}),(0,Or.jsx)("div",{className:"order-success-container",children:(0,Or.jsxs)("div",{className:"loading-state",children:[(0,Or.jsx)("div",{className:"loading-spinner"}),(0,Or.jsx)("p",{children:"Loading order details..."})]})}),(0,Or.jsx)(Yr,{})]}):(0,Or.jsxs)("div",{className:"order-success-page",children:[(0,Or.jsx)(Gr,{}),(0,Or.jsx)("div",{className:"order-success-container",children:(0,Or.jsxs)("div",{className:"success-card",children:[(0,Or.jsx)("div",{className:"success-icon",children:(0,Or.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Or.jsx)("path",{d:"M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,Or.jsxs)("div",{className:"success-message",children:[(0,Or.jsx)("h1",{children:"Order Placed Successfully!"}),(0,Or.jsx)("p",{children:"Thank you for your order. We've received your payment and will process your order soon."})]}),i&&(0,Or.jsxs)("div",{className:"order-details",children:[(0,Or.jsx)("h2",{children:"Order Details"}),i.razorpay_payment_id&&(0,Or.jsxs)("div",{className:"detail-section",children:[(0,Or.jsx)("h3",{children:"Payment Information"}),(0,Or.jsxs)("div",{className:"detail-grid",children:[(0,Or.jsxs)("div",{className:"detail-item",children:[(0,Or.jsx)("span",{className:"label",children:"Payment ID:"}),(0,Or.jsx)("span",{className:"value",children:i.razorpay_payment_id})]}),(0,Or.jsxs)("div",{className:"detail-item",children:[(0,Or.jsx)("span",{className:"label",children:"Order ID:"}),(0,Or.jsx)("span",{className:"value",children:i.razorpay_order_id})]})]})]}),i.orderDetails&&(0,Or.jsxs)("div",{className:"detail-section",children:[(0,Or.jsx)("h3",{children:"Order Summary"}),(0,Or.jsxs)("div",{className:"detail-grid",children:[(0,Or.jsxs)("div",{className:"detail-item",children:[(0,Or.jsx)("span",{className:"label",children:"Total Amount:"}),(0,Or.jsx)("span",{className:"value",children:(d=i.orderDetails.amount,new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(d))})]}),(0,Or.jsxs)("div",{className:"detail-item",children:[(0,Or.jsx)("span",{className:"label",children:"Items:"}),(0,Or.jsxs)("span",{className:"value",children:[(null===(e=i.orderDetails.items)||void 0===e?void 0:e.length)||0," items"]})]})]})]}),(null===(s=i.orderDetails)||void 0===s?void 0:s.address)&&(0,Or.jsxs)("div",{className:"detail-section",children:[(0,Or.jsx)("h3",{children:"Delivery Address"}),(0,Or.jsxs)("div",{className:"address-details",children:[(0,Or.jsx)("p",{children:(0,Or.jsx)("strong",{children:i.orderDetails.address.name})}),(0,Or.jsx)("p",{children:i.orderDetails.address.phone}),(0,Or.jsx)("p",{children:i.orderDetails.address.address_line1}),i.orderDetails.address.address_line2&&(0,Or.jsx)("p",{children:i.orderDetails.address.address_line2}),(0,Or.jsxs)("p",{children:[i.orderDetails.address.city,", ",i.orderDetails.address.state," ",i.orderDetails.address.pincode]})]})]})]}),(0,Or.jsxs)("div",{className:"next-steps",children:[(0,Or.jsx)("h3",{children:"What's Next?"}),(0,Or.jsxs)("ul",{children:[(0,Or.jsx)("li",{children:"You'll receive an order confirmation email shortly"}),(0,Or.jsx)("li",{children:"We'll process your order and ship it within 24-48 hours"}),(0,Or.jsx)("li",{children:"You can track your order status in your profile"}),(0,Or.jsx)("li",{children:"For any questions, contact our customer support"})]})]}),(0,Or.jsxs)("div",{className:"action-buttons",children:[(0,Or.jsx)("button",{className:"btn-primary",onClick:()=>{n("/")},children:"Continue Shopping"}),(0,Or.jsx)("button",{className:"btn-secondary",onClick:()=>{n("/my-orders")},children:"View My Orders"})]})]})}),(0,Or.jsx)(Yr,{})]});var d},sa=()=>{const{user:e}=Ir(),s=ee(),[r,n]=(0,t.useState)([]),[a,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)(null);(0,t.useEffect)(()=>{e?c():s("/signin")},[e,s]);const c=async()=>{try{i(!0),l(null);const t=await wn.getUserOrders(e.id);n(t)}catch(t){console.error("Error fetching orders:",t),l("Failed to load orders. Please try again.")}finally{i(!1)}},d=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e),u=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"confirmed":case"processing":return"processing";case"shipped":case"out_for_delivery":return"shipped";case"delivered":return"delivered";case"cancelled":case"refunded":return"cancelled";default:return"pending"}},h=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"confirmed":case"processing":return"\u2699\ufe0f";case"shipped":case"out_for_delivery":return"\ud83d\ude9a";case"delivered":return"\u2705";case"cancelled":case"refunded":return"\u274c";default:return"\u23f3"}};return a?(0,Or.jsxs)("div",{className:"my-orders-page",children:[(0,Or.jsx)(Gr,{}),(0,Or.jsx)("div",{className:"my-orders-container",children:(0,Or.jsxs)("div",{className:"loading-state",children:[(0,Or.jsx)("div",{className:"loading-spinner"}),(0,Or.jsx)("p",{children:"Loading your orders..."})]})})]}):(0,Or.jsxs)("div",{className:"my-orders-page",children:[(0,Or.jsx)(Gr,{}),(0,Or.jsxs)("div",{className:"my-orders-container",children:[(0,Or.jsx)("div",{className:"my-orders-header",children:(0,Or.jsxs)("div",{className:"header-content",children:[(0,Or.jsx)("div",{className:"header-icon",children:(0,Or.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Or.jsx)("path",{d:"M9 12l2 2 4-4M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9 9 4.03 9 9z"})})}),(0,Or.jsxs)("div",{children:[(0,Or.jsx)("h1",{children:"My Orders"}),(0,Or.jsx)("p",{children:"Track and manage all your orders"})]})]})}),o&&(0,Or.jsxs)("div",{className:"error-message",children:[(0,Or.jsx)("div",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,Or.jsx)("p",{children:o}),(0,Or.jsx)("button",{onClick:c,className:"retry-btn",children:"Try Again"})]}),!o&&0===r.length&&(0,Or.jsxs)("div",{className:"no-orders",children:[(0,Or.jsx)("div",{className:"no-orders-icon",children:(0,Or.jsx)("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Or.jsx)("path",{d:"M9 12l2 2 4-4M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9 9 4.03 9 9z"})})}),(0,Or.jsx)("h2",{children:"No orders yet"}),(0,Or.jsx)("p",{children:"You haven't placed any orders yet. Start shopping to see your orders here!"}),(0,Or.jsx)("button",{onClick:()=>s("/"),className:"start-shopping-btn",children:"Start Shopping"})]}),!o&&r.length>0&&(0,Or.jsx)("div",{className:"orders-list",children:r.map(e=>{return(0,Or.jsxs)("div",{className:"order-card",children:[(0,Or.jsxs)("div",{className:"order-header",children:[(0,Or.jsxs)("div",{className:"order-info",children:[(0,Or.jsxs)("div",{className:"order-number",children:[(0,Or.jsx)("span",{className:"label",children:"Order #"}),(0,Or.jsx)("span",{className:"value",children:e.order_number})]}),(0,Or.jsxs)("div",{className:"order-date",children:[(0,Or.jsx)("span",{className:"label",children:"Placed on"}),(0,Or.jsx)("span",{className:"value",children:(t=e.created_at,new Date(t).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]})]}),(0,Or.jsx)("div",{className:"order-status",children:(0,Or.jsxs)("span",{className:"status-badge ".concat(u(e.status)),children:[h(e.status)," ",e.status||"Pending"]})})]}),(0,Or.jsxs)("div",{className:"order-details",children:[(0,Or.jsxs)("div",{className:"order-summary",children:[(0,Or.jsxs)("div",{className:"amount-info",children:[(0,Or.jsx)("span",{className:"label",children:"Total Amount"}),(0,Or.jsx)("span",{className:"amount",children:d(e.total_amount)})]}),e.discount_amount>0&&(0,Or.jsxs)("div",{className:"discount-info",children:[(0,Or.jsx)("span",{className:"label",children:"Discount"}),(0,Or.jsxs)("span",{className:"discount",children:["-",d(e.discount_amount)]})]}),(0,Or.jsxs)("div",{className:"final-amount",children:[(0,Or.jsx)("span",{className:"label",children:"Final Amount"}),(0,Or.jsx)("span",{className:"amount",children:d(e.final_amount)})]})]}),e.shipping_address&&(0,Or.jsxs)("div",{className:"shipping-info",children:[(0,Or.jsx)("span",{className:"label",children:"Delivery Address"}),(0,Or.jsxs)("div",{className:"address",children:[(0,Or.jsx)("p",{children:e.shipping_address.name}),(0,Or.jsx)("p",{children:e.shipping_address.address_line1}),e.shipping_address.address_line2&&(0,Or.jsx)("p",{children:e.shipping_address.address_line2}),(0,Or.jsxs)("p",{children:[e.shipping_address.city,", ",e.shipping_address.state," ",e.shipping_address.pincode]})]})]}),(0,Or.jsxs)("div",{className:"payment-info",children:[(0,Or.jsxs)("div",{className:"payment-status",children:[(0,Or.jsx)("span",{className:"label",children:"Payment Status"}),(0,Or.jsx)("span",{className:"payment-badge ".concat("paid"===e.payment_status?"paid":"pending"),children:"paid"===e.payment_status?"\u2705 Paid":"\u23f3 Pending"})]}),e.payment_method&&(0,Or.jsxs)("div",{className:"payment-method",children:[(0,Or.jsx)("span",{className:"label",children:"Payment Method"}),(0,Or.jsx)("span",{className:"value",children:e.payment_method})]})]})]}),(0,Or.jsxs)("div",{className:"order-actions",children:[(0,Or.jsx)("button",{onClick:()=>s("/order/".concat(e.id)),className:"btn-primary",children:"View Details"}),(0,Or.jsx)("button",{onClick:()=>s("/order-tracking?order_id=".concat(e.order_number)),className:"btn-secondary",children:"Track Order"})]})]},e.id);var t})})]})]})};const ra=function(){return(0,Or.jsx)(Ar,{children:(0,Or.jsx)(Br,{children:(0,Or.jsx)(ke,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:(0,Or.jsxs)("div",{className:"App",children:[(0,Or.jsx)(Gr,{}),(0,Or.jsx)("main",{className:"main-content",children:(0,Or.jsxs)(ve,{children:[(0,Or.jsx)(fe,{path:"/",element:(0,Or.jsx)(ln,{})}),(0,Or.jsx)(fe,{path:"/signin",element:(0,Or.jsx)(cn,{})}),(0,Or.jsx)(fe,{path:"/signup",element:(0,Or.jsx)(dn,{})}),(0,Or.jsx)(fe,{path:"/about",element:(0,Or.jsx)(un,{})}),(0,Or.jsx)(fe,{path:"/profile",element:(0,Or.jsx)(hn,{})}),(0,Or.jsx)(fe,{path:"/profile-change-request",element:(0,Or.jsx)(fn,{})}),(0,Or.jsx)(fe,{path:"/admin",element:(0,Or.jsx)(gn,{})}),(0,Or.jsx)(fe,{path:"/orders",element:(0,Or.jsx)(vn,{})}),(0,Or.jsx)(fe,{path:"/donate",element:(0,Or.jsx)(xn,{})}),(0,Or.jsx)(fe,{path:"/partner",element:(0,Or.jsx)(yn,{})}),(0,Or.jsx)(fe,{path:"/help-center",element:(0,Or.jsx)(jn,{})}),(0,Or.jsx)(fe,{path:"/order-tracking",element:(0,Or.jsx)(Nn,{})}),(0,Or.jsx)(fe,{path:"/shipping-info",element:(0,Or.jsx)(kn,{})}),(0,Or.jsx)(fe,{path:"/return-policy",element:(0,Or.jsx)(_n,{})}),(0,Or.jsx)(fe,{path:"/faq",element:(0,Or.jsx)(Cn,{})}),(0,Or.jsx)(fe,{path:"/terms",element:(0,Or.jsx)(En,{})}),(0,Or.jsx)(fe,{path:"/privacy-policy",element:(0,Or.jsx)(Pn,{})}),(0,Or.jsx)(fe,{path:"/disclaimer",element:(0,Or.jsx)(Tn,{})}),(0,Or.jsx)(fe,{path:"/report-vulnerability",element:(0,Or.jsx)(On,{})}),(0,Or.jsx)(fe,{path:"/prescription-upload",element:(0,Or.jsx)(Vn,{})}),(0,Or.jsx)(fe,{path:"/cart",element:(0,Or.jsx)(Kn,{})}),(0,Or.jsx)(fe,{path:"/medicines",element:(0,Or.jsx)(Qn,{})}),(0,Or.jsx)(fe,{path:"/products",element:(0,Or.jsx)($n,{})}),(0,Or.jsx)(fe,{path:"/product/:productId",element:(0,Or.jsx)(Jn,{})}),(0,Or.jsx)(fe,{path:"/addresses",element:(0,Or.jsx)(Zn,{})}),(0,Or.jsx)(fe,{path:"/checkout",element:(0,Or.jsx)(ea,{})}),(0,Or.jsx)(fe,{path:"/order-success",element:(0,Or.jsx)(ta,{})}),(0,Or.jsx)(fe,{path:"/my-orders",element:(0,Or.jsx)(sa,{})})]})}),(0,Or.jsx)(Yr,{})]})})})})};n.createRoot(document.getElementById("root")).render((0,Or.jsx)(t.StrictMode,{children:(0,Or.jsx)(ra,{})}))})()})();
//# sourceMappingURL=main.aef0cc40.js.map